{
  Config config=new Config();
  ReplicatedMapConfig replicatedMapConfig=new ReplicatedMapConfig();
  replicatedMapConfig.setName("replicated-map-name");
  replicatedMapConfig.setStatisticsEnabled(false);
  replicatedMapConfig.setConcurrencyLevel(128);
  replicatedMapConfig.addEntryListenerConfig(new EntryListenerConfig("com.hazelcast.entrylistener",false,false));
  config.addReplicatedMapConfig(replicatedMapConfig);
  ConfigXmlGenerator configXmlGenerator=new ConfigXmlGenerator();
  String xml=configXmlGenerator.generate(config);
  ByteArrayInputStream bis=new ByteArrayInputStream(xml.getBytes());
  XmlConfigBuilder configBuilder=new XmlConfigBuilder(bis);
  Config xmlConfig=configBuilder.build();
  ReplicatedMapConfig xmlReplicatedMapConfig=xmlConfig.getReplicatedMapConfig("replicated-map-name");
  assertEquals("replicated-map-name",xmlReplicatedMapConfig.getName());
  assertEquals(false,xmlReplicatedMapConfig.isStatisticsEnabled());
  assertEquals(128,xmlReplicatedMapConfig.getConcurrencyLevel());
  assertEquals("com.hazelcast.entrylistener",xmlReplicatedMapConfig.getListenerConfigs().get(0).getClassName());
}
