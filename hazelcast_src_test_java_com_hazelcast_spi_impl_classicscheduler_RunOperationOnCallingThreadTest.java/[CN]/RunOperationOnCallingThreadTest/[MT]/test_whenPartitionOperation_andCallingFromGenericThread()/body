{
  initScheduler();
  final DummyPartitionOperation partitionOperation=new DummyPartitionOperation();
  PartitionSpecificCallable task=new PartitionSpecificCallable(-1){
    @Override public Object call(){
      try {
        scheduler.runOperationOnCallingThread(partitionOperation);
        return Boolean.FALSE;
      }
 catch (      IllegalThreadStateException e) {
        return Boolean.TRUE;
      }
    }
  }
;
  scheduler.execute(task);
  assertEqualsEventually(task,Boolean.TRUE);
}
