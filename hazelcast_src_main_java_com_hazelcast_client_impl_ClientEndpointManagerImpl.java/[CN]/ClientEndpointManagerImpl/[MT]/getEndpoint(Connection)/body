{
  if (connection == null) {
    throw new NullPointerException("connection can't be null");
  }
  return endpoints.get(connection);
}
