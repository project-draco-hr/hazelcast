{
  final Object service=nodeEngine.getService(serviceName);
  if (service == null) {
    if (!nodeEngine.isRunning()) {
      throw new HazelcastInstanceNotActiveException();
    }
    throw new IllegalArgumentException("Unknown Service[" + serviceName + "]!");
  }
  if (!(service instanceof TransactionalService)) {
    throw new IllegalArgumentException("Service[" + serviceName + "] is not transactional!");
  }
  return (TransactionalService)service;
}
