{
  super(connection,logger);
  this.metricsRegistry=metricsRegistry;
  this.logger=logger;
  this.socketChannel=connection.getSocketChannelWrapper();
  this.writeQueue=new ConcurrentLinkedQueue<SocketWritable>();
  this.urgentWriteQueue=new ConcurrentLinkedQueue<SocketWritable>();
  metricsRegistry.scanAndRegister(this,"tcp.connection[" + connection.getMetricsId() + "]");
}
