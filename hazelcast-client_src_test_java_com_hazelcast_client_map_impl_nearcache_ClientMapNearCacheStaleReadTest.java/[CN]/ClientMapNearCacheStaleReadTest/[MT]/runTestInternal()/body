{
  Thread threadPut=new Thread(new PutRunnable(),"put0");
  threadPut.start();
  Thread.sleep(300);
  List<Thread> threads=new ArrayList<Thread>();
  for (int i=0; i < numGetters; i++) {
    Thread thread=new Thread(new GetRunnable(),"get" + i);
    threads.add(thread);
  }
  for (  Thread thread : threads) {
    thread.start();
  }
  int i=0;
  while (!stop.get() && i++ < maxRuntime) {
    Thread.sleep(1000);
  }
  if (!stop.get()) {
    logger.info("Problem did not occur within " + maxRuntime + "s.");
  }
  stop.set(true);
  threadPut.join();
  for (  Thread thread : threads) {
    thread.join();
  }
}
