{
  final ClientEndpoint endpoint=getEndpoint();
  final MapService mapService=getService(MapService.SERVICE_NAME);
  EntryAdapter<Object,Object> listener=new MapListener();
  MapServiceContext mapServiceContext=mapService.getMapServiceContext();
  final String registrationId=mapServiceContext.addEventListener(listener,getEventFilter(),parameters.name);
  endpoint.setListenerRegistration(MapService.SERVICE_NAME,parameters.name,registrationId);
  return AddListenerResultParameters.encode(registrationId);
}
