{
  if (DEBUG) {
  }
  Connection conn=joinRequest.getConnection();
  if (!Config.get().join.multicastConfig.enabled) {
    if (Node.get().getMasterAddress() != null && !isMaster()) {
      sendProcessableTo(new Master(Node.get().getMasterAddress()),conn);
    }
  }
  if (isMaster()) {
    if (DEBUG) {
    }
    Address newAddress=conn.getEndPoint();
    if (newAddress == null) {
      newAddress=joinRequest.address;
      ConnectionManager.get().bind(newAddress,conn);
    }
    if (!joinInProgress) {
      if (setJoins.add(newAddress)) {
        sendProcessableTo(new Master(Node.get().getMasterAddress()),conn);
        sendAddRemoveToAllConns(newAddress);
        timeToStartJoin=System.currentTimeMillis() + waitTimeBeforeJoin;
      }
 else {
        if (System.currentTimeMillis() > timeToStartJoin) {
          startJoin();
        }
      }
    }
  }
}
