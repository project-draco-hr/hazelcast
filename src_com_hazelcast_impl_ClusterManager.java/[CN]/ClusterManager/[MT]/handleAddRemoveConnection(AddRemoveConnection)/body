{
  Connection conn=addRemoveConnection.getConnection();
  boolean add=addRemoveConnection.add;
  Address addressChanged=addRemoveConnection.address;
  if (add) {
    if (!addressChanged.equals(thisAddress)) {
      ConnectionManager.get().getOrConnect(addressChanged);
    }
  }
 else {
    addressChanged.setDead();
    final Address deadAddress=addressChanged;
    if (!deadAddress.equals(thisAddress)) {
      if (deadAddress.equals(Node.get().getMasterAddress())) {
        if (Node.get().joined()) {
          MemberImpl newMaster=clusterService.getNextMemberAfter(deadAddress);
          if (newMaster != null)           Node.get().setMasterAddress(newMaster.getAddress());
 else           Node.get().setMasterAddress(null);
        }
 else {
          Node.get().setMasterAddress(null);
        }
        if (DEBUG) {
          log("Now Master " + Node.get().getMasterAddress());
        }
      }
    }
    if (Node.get().master()) {
      if (lsJoins.contains(deadAddress)) {
        lsJoins.remove(deadAddress);
      }
    }
    doRemoveAddress(deadAddress);
  }
}
