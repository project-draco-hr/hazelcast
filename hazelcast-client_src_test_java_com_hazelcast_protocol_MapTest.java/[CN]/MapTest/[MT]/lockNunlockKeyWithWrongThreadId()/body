{
  OutputStream out=doOp("1 MLOCK 0 default #1","" + "1".getBytes().length);
  out.write("1".getBytes());
  out.write("\r\n".getBytes());
  out.flush();
  assertTrue(read(socket).contains("OK"));
  boolean shouldFail=false;
  try {
    putFromAnotherThread("1","b",1000);
    assertFalse(true);
  }
 catch (  RuntimeException e) {
    shouldFail=true;
  }
  assertTrue(shouldFail);
  out=doOp("2 MUNLOCK 0 default #1","" + "1".getBytes().length);
  out.write("1".getBytes());
  out.write("\r\n".getBytes());
  out.flush();
  assertFalse(read(socket).contains("OK"));
  try {
    putFromAnotherThread("1","b",1000);
    assertFalse(true);
  }
 catch (  RuntimeException e) {
    assertFalse(false);
  }
}
