{
  final SessionObject sessionObject=getSessionObject(this.getThreadLocalRequest().getSession());
  try {
    HazelcastInstance hz=sessionObject.mapOfHz.get(clusterId);
    List<MapEntry> mapEntries=new ArrayList<MapEntry>();
    if (hz != null) {
      IMap map=hz.getMap(name);
      final Set<Map.Entry> entrySet=map.entrySet();
      for (      final Map.Entry entry : entrySet) {
        MapEntry mapEntry=new MapEntry();
        mapEntry.setKey(entry.getKey());
        mapEntry.setValue(entry.getValue());
        mapEntries.add(mapEntry);
      }
    }
    return mapEntries.toArray(new MapEntry[mapEntries.size()]);
  }
 catch (  NoMemberAvailableException e) {
    sessionObject.mapOfHz.get(clusterId).shutdown();
    sessionObject.mapOfHz.remove(clusterId);
    throw new ClientDisconnectedException();
  }
}
