{
  NodeEngine nodeEngine=getNodeEngine();
  if (!nodeEngine.isRunning()) {
    throw new HazelcastInstanceNotActiveException("This node is shutting down!");
  }
 else {
    final Member localMember=nodeEngine.getLocalMember();
    if (!localMember.getUuid().equals(migrationInfo.getDestinationUuid())) {
      throw new IllegalStateException("This member " + localMember + " is migration destination but it is restarted. Migration: "+ migrationInfo);
    }
  }
  partitionState.setEndpoint(getCallerAddress());
  InternalPartitionServiceImpl partitionService=getService();
  success=partitionService.processPartitionRuntimeState(partitionState);
}
