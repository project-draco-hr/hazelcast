{
  Collection<EventRegistration> registrations=eventService.getRegistrations(TopicService.SERVICE_NAME,name);
  int partitionId;
  boolean isMultithreaded=nodeEngine.getConfig().getTopicConfig(name).isMultiThreadingEnabled();
  if (isMultithreaded) {
    partitionId=new Long(counter.incrementAndGet()).hashCode();
  }
 else {
    partitionId=name.hashCode();
  }
  eventService.publishEvent(TopicService.SERVICE_NAME,registrations,event,partitionId);
}
