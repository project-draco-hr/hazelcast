{
  checkNegative(permits);
  ClientMessage request=SemaphoreTryAcquireParameters.encode(name,permits,unit.toMillis(timeout));
  BooleanResultParameters resultParameters=BooleanResultParameters.decode((ClientMessage)invoke(request));
  return resultParameters.result;
}
