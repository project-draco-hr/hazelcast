{
  processLocalRecords();
  if (counter.incrementAndGet() == LOCAL_INVALIDATION_COUNTER) {
    counter.addAndGet(-LOCAL_INVALIDATION_COUNTER);
    evict(System.currentTimeMillis());
  }
  Record record=mapCache.get(key);
  if (record == null) {
    return OBJECT_REDO;
  }
 else {
    if (record.isActive() && record.isValid()) {
      try {
        Record.RecordEntry recordEntry=record.getRecordEntry();
        Object value=recordEntry.getValue();
        record.setLastAccessed();
        return value;
      }
 catch (      Throwable t) {
        logger.log(Level.FINEST,"Exception when reading object ",t);
        return OBJECT_REDO;
      }
    }
 else {
      mapCache.remove(key);
      return OBJECT_REDO;
    }
  }
}
