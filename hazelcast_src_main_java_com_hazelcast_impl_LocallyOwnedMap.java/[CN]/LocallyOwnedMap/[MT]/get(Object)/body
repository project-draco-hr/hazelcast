{
  processLocalRecords();
  if (counter.incrementAndGet() == LOCAL_INVALIDATION_COUNTER) {
    counter.addAndGet(-LOCAL_INVALIDATION_COUNTER);
    evict(System.currentTimeMillis());
  }
  Record record=mapCache.get(key);
  if (record == null) {
    return OBJECT_REDO;
  }
 else {
    if (record.isActive() && record.isValid()) {
      Record.RecordEntry recordEntry=record.getRecordEntry();
      Object value=recordEntry.getValue();
      record.setLastAccessed();
      return value;
    }
 else {
      mapCache.remove(key);
      return OBJECT_REDO;
    }
  }
}
