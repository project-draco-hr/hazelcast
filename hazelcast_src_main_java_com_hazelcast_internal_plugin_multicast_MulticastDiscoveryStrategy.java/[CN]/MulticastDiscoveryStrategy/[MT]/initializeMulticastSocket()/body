{
  try {
    int port=getOrDefault(MulticastProperties.PORT,54327);
    String group=getOrDefault(MulticastProperties.GROUP,"224.2.2.3");
    multicastSocket=new MulticastSocket(port);
    multicastSocket.setReuseAddress(true);
    multicastSocket.setTimeToLive(255);
    multicastSocket.setReceiveBufferSize(64 * DATA_OUTPUT_BUFFER_SIZE);
    multicastSocket.setSendBufferSize(64 * DATA_OUTPUT_BUFFER_SIZE);
    multicastSocket.setSoTimeout(3000);
    multicastSocket.joinGroup(InetAddress.getByName(group));
    multicastDiscoverySender=new MulticastDiscoverySender(discoveryNode,multicastSocket);
    multicastDiscoveryReceiver=new MulticastDiscoveryReceiver(multicastSocket);
    if (discoveryNode != null) {
      isClient=false;
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
