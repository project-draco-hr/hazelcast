{
  try {
    while (running) {
      if (started.get()) {
        try {
          URL url=new URL(host + "collector.do");
          HttpURLConnection connection=(HttpURLConnection)url.openConnection();
          connection.setDoOutput(true);
          connection.setRequestMethod("POST");
          final DataOutputStream out=new DataOutputStream(connection.getOutputStream());
          ConsoleRequest req=new GetMemberStateRequest();
          req.writeResponse(ManagementCenterService.this,out);
          out.flush();
          connection.getInputStream();
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
      Thread.sleep(2400);
    }
  }
 catch (  Throwable throwable) {
    throwable.printStackTrace();
    logger.log(Level.FINEST,"Web Management Center will be closed due to exception.",throwable);
    shutdown();
  }
}
