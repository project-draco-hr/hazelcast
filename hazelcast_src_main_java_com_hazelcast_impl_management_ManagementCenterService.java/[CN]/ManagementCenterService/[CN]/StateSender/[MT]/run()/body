{
  if (webServerUrl == null) {
    logger.log(Level.WARNING,"Web server url is null!");
    return;
  }
  try {
    while (running.get()) {
      try {
        URL url=new URL(webServerUrl + "collector.do");
        HttpURLConnection connection=(HttpURLConnection)url.openConnection();
        connection.setDoOutput(true);
        connection.setRequestMethod("POST");
        connection.setConnectTimeout(1000);
        connection.setReadTimeout(1000);
        final DataOutputStream out=new DataOutputStream(connection.getOutputStream());
        TimedMemberState ts=getTimedMemberState();
        ts.writeData(out);
        out.flush();
        connection.getInputStream();
      }
 catch (      Exception e) {
        logger.log(Level.FINEST,e.getMessage(),e);
      }
      Thread.sleep(updateIntervalMs);
    }
  }
 catch (  Throwable throwable) {
    logger.log(Level.FINEST,"Web Management Center will be closed due to exception.",throwable);
    shutdown();
  }
}
