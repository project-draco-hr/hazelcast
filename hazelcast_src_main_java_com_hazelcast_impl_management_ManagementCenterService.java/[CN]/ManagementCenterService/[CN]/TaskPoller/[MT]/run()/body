{
  try {
    Random rand=new Random();
    while (running) {
      try {
        Address address=((MemberImpl)factory.node.getClusterImpl().getLocalMember()).getAddress();
        GroupConfig groupConfig=factory.getConfig().getGroupConfig();
        URL url=new URL(host + "getTask.do?member=" + address.getHost()+ ":"+ address.getPort()+ "&cluster="+ groupConfig.getName());
        HttpURLConnection connection=(HttpURLConnection)url.openConnection();
        connection.setRequestProperty("Connection","keep-alive");
        InputStream inputStream=connection.getInputStream();
        DataInputStream input=new DataInputStream(inputStream);
        int taskId=input.readInt();
        if (taskId > 0) {
          int requestType=input.readInt();
          ConsoleRequest request=consoleRequests[requestType];
          request.readData(input);
          sendResponse(taskId,request);
        }
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
      Thread.sleep(700 + rand.nextInt(300));
    }
  }
 catch (  Throwable throwable) {
    throwable.printStackTrace();
    logger.log(Level.FINEST,"Web Management Center will be closed due to exception.",throwable);
    shutdown();
  }
}
