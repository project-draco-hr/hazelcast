{
  ICommon proxy=null;
  boolean created=false;
  if (key == null) {
    proxy=proxies.get(name);
    if (proxy == null) {
      created=true;
      if (name.startsWith("q:")) {
        proxy=new QProxyImpl(name);
      }
 else       if (name.startsWith("t:")) {
        proxy=new TopicProxyImpl(name);
      }
 else       if (name.startsWith("c:")) {
        proxy=new MProxyImpl(name);
      }
 else       if (name.startsWith("m:")) {
        if (BaseManager.getInstanceType(name) == ICommon.InstanceType.MULTIMAP) {
          proxy=new MultiMapProxy(name);
        }
 else {
          proxy=new CollectionProxyImpl(name);
        }
      }
 else       if (name.startsWith("i:")) {
        proxy=new IdGeneratorProxy(name);
      }
      proxies.put(name,proxy);
    }
  }
 else {
    if (name.equals("lock")) {
      proxy=mapLockProxies.get(key);
      if (proxy == null) {
        created=true;
        proxy=new LockProxy(key);
        mapLockProxies.put(key,(LockProxy)proxy);
      }
    }
  }
  if (created) {
    fireInstanceCreateEvent(proxy);
  }
  return proxy;
}
