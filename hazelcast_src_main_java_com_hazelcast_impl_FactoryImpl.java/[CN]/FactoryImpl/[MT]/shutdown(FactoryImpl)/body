{
synchronized (factoryLock) {
    try {
      ManagementService.unregister(factory);
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
    factory.node.shutdown();
    factories.remove(factory.getName());
  }
}
