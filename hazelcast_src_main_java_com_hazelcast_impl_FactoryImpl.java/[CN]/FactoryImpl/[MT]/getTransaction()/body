{
  initialChecks();
  ThreadContext threadContext=ThreadContext.get();
  threadContext.setCurrentFactory(this);
  TransactionImpl txn=threadContext.getCallContext().getTransaction();
  if (txn == null) {
    txn=proxyFactory.createTransaction();
    threadContext.getCallContext().setTransaction(txn);
  }
  return txn;
}
