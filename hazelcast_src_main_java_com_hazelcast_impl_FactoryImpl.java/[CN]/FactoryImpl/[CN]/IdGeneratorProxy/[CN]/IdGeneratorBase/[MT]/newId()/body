{
  long idAddition=currentId.incrementAndGet();
  if (idAddition >= MILLION) {
synchronized (IdGeneratorBase.this) {
      idAddition=currentId.get();
      if (idAddition >= MILLION) {
        Long idMillion=getNewMillion();
        long newMillion=idMillion * MILLION;
        million.set(newMillion);
        currentId.set(0L);
      }
      return newId();
    }
  }
  long millionNow=million.get();
  return millionNow + idAddition;
}
