{
  MProxy map=FactoryImpl.idGeneratorMapProxy;
  map.lock(name);
  try {
    Long max=(Long)map.get(name);
    if (max == null) {
      max=Long.valueOf(0l);
      map.put(name,Long.valueOf(0));
      return max;
    }
 else {
      Long newMax=Long.valueOf(max.longValue() + 1);
      map.put(name,newMax);
      return newMax;
    }
  }
  finally {
    map.unlock(name);
  }
}
