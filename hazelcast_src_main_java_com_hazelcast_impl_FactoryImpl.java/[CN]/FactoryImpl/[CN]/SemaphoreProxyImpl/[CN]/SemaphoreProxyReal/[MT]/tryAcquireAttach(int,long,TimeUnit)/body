{
  if (Thread.interrupted())   throw new InterruptedException();
  try {
    return doTryAcquire(permits,true,unit.toMillis(timeout));
  }
 catch (  RuntimeInterruptedException e) {
    throw new InterruptedException();
  }
}
