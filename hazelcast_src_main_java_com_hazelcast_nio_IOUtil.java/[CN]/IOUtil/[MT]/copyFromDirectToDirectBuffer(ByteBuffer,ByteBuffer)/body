{
  int n=Math.min(src.remaining(),dest.remaining());
  if (src.remaining() <= n) {
    dest.put(src);
  }
 else {
    int realLimit=src.limit();
    src.limit(src.position() + n);
    dest.put(src);
    src.limit(realLimit);
  }
  return n;
}
