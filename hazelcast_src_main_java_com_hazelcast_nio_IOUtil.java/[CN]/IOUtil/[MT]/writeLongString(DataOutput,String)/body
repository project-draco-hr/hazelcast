{
  int chunk=1000;
  int count=str.length() / chunk;
  int remaining=str.length() - (count * chunk);
  dos.writeInt(count + ((remaining > 0) ? 1 : 0));
  for (int i=0; i < count; i++) {
    dos.writeUTF(str.substring(i * chunk,(i + 1) * chunk));
  }
  if (remaining > 0) {
    dos.writeUTF(str.substring(count * chunk));
  }
}
