{
  if (!recordStore.lock(getKey(),getCallerUuid(),getThreadId(),ttl)) {
    throw new TransactionException("Lock failed.");
  }
  Record record=recordStore.getRecords().get(dataKey);
  Data value=record == null ? null : mapService.toData(record.getValue());
  response=new VersionedValue(value,record == null ? 0 : record.getVersion());
}
