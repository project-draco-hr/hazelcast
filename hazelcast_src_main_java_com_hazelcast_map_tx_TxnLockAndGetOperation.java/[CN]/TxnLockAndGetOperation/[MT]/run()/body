{
  if (!recordStore.txnLock(getKey(),getCallerUuid(),getThreadId(),ttl)) {
    throw new TransactionException("Transaction couldn't obtain lock.");
  }
  Record record=recordStore.getRecord(dataKey);
  Data value=record == null ? null : mapService.toData(record.getValue());
  response=new VersionedValue(value,record == null ? 0 : record.getVersion());
}
