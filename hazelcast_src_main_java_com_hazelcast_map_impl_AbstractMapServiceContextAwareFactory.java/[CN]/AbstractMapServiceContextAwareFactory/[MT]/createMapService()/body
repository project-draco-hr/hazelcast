{
  MapServiceContext mapServiceContext=getMapServiceContext();
  ManagedService managedService=createManagedService();
  MigrationAwareService migrationAwareService=createMigrationAwareService();
  TransactionalService transactionalService=createTransactionalService();
  RemoteService remoteService=createRemoteService();
  EventPublishingService eventPublishingService=createEventPublishingService();
  PostJoinAwareService postJoinAwareService=createPostJoinAwareService();
  SplitBrainHandlerService splitBrainHandlerService=createSplitBrainHandlerService();
  ReplicationSupportingService replicationSupportingService=createReplicationSupportingService();
  checkNotNull(mapServiceContext,"mapServiceContext should not be null");
  checkNotNull(managedService,"managedService should not be null");
  checkNotNull(migrationAwareService,"migrationAwareService should not be null");
  checkNotNull(transactionalService,"transactionalService should not be null");
  checkNotNull(remoteService,"remoteService should not be null");
  checkNotNull(eventPublishingService,"eventPublishingService should not be null");
  checkNotNull(postJoinAwareService,"postJoinAwareService should not be null");
  checkNotNull(splitBrainHandlerService,"splitBrainHandlerService should not be null");
  checkNotNull(replicationSupportingService,"replicationSupportingService should not be null");
  MapService mapService=new MapService();
  mapService.setManagedService(managedService);
  mapService.setMigrationAwareService(migrationAwareService);
  mapService.setTransactionalService(transactionalService);
  mapService.setRemoteService(remoteService);
  mapService.setEventPublishingService(eventPublishingService);
  mapService.setPostJoinAwareService(postJoinAwareService);
  mapService.setSplitBrainHandlerService(splitBrainHandlerService);
  mapService.setReplicationSupportingService(replicationSupportingService);
  mapService.setMapServiceContext(mapServiceContext);
  mapServiceContext.setService(mapService);
  return mapService;
}
