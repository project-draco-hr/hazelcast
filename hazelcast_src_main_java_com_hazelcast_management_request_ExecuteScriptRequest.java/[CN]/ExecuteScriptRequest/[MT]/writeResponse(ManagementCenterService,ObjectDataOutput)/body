{
  ArrayList result;
  if (targetAllMembers) {
    final Set<Member> members=mcs.getHazelcastInstance().getCluster().getMembers();
    final ArrayList list=new ArrayList(members.size());
    for (    Member member : members) {
      list.add(mcs.callOnMember(member,new ScriptExecutorOperation(engine,script,bindings)));
    }
    result=list;
  }
 else {
    final ArrayList list=new ArrayList(targets.size());
    for (    Address address : targets) {
      list.add(mcs.callOnAddress(address,new ScriptExecutorOperation(engine,script,bindings)));
    }
    result=list;
  }
  dos.writeByte(COLLECTION);
  writeCollection(dos,result);
}
