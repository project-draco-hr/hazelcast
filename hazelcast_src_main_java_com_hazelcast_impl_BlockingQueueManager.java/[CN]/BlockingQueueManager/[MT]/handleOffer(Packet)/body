{
  if (rightRemoteOfferTarget(packet)) {
    Request request=Request.copy(packet);
    doOffer(request);
    packet.longValue=request.longValue;
    if (!request.scheduled) {
      if (request.response == Boolean.TRUE) {
        sendResponse(packet);
      }
 else {
        sendResponseFailure(packet);
      }
    }
 else {
      releasePacket(packet);
    }
  }
}
