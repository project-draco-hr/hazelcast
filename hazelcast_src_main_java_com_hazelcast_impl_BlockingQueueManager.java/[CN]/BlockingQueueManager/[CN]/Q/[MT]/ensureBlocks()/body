{
  if (node.isActive()) {
    Address master=getMasterAddress();
    if (master == null) {
      throw new IllegalStateException("Master is " + master);
    }
    if (isMaster()) {
      if (lsBlocks.size() == 0) {
        Block block=createBlock(master,0);
        addBlock(block);
        sendAddBlockMessageToOthers(block,-1,null,true);
        for (int i=1; i < blocksLimit; i++) {
          Address target=nextTarget();
          block=createBlock(target,i);
          addBlock(block);
          sendAddBlockMessageToOthers(block,-1,null,true);
        }
      }
    }
  }
}
