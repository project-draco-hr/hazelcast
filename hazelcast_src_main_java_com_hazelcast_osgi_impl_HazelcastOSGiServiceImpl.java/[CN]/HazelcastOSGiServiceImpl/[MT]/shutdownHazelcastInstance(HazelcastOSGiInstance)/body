{
synchronized (serviceMutex) {
    checkActive();
    try {
      deregisterInstance(instance);
    }
 catch (    Throwable t) {
      LOGGER.finest("Error occurred while deregistering " + instance,t);
    }
    try {
      instance.shutdown();
    }
 catch (    Throwable t) {
      LOGGER.finest("Error occurred while shutting down " + instance,t);
    }
  }
}
