{
  Serializer serializer;
  try {
    Class<?> clazz=ClassLoaderUtil.loadClass(classLoader,serializerConfig.getClassName());
    try {
      Constructor<?> constructor=clazz.getDeclaredConstructor(Class.class);
      constructor.setAccessible(true);
      serializer=(Serializer)constructor.newInstance(serializationType);
    }
 catch (    NoSuchMethodException e) {
      Constructor<?> constructor=clazz.getDeclaredConstructor();
      constructor.setAccessible(true);
      serializer=(Serializer)constructor.newInstance();
    }
  }
 catch (  Exception e) {
    throw new HazelcastSerializationException(e);
  }
  return serializer;
}
