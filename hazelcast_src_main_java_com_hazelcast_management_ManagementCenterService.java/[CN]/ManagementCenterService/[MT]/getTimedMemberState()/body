{
  if (running.get()) {
    final MemberStateImpl memberState=new MemberStateImpl();
    createMemberState(memberState);
    GroupConfig groupConfig=instance.getConfig().getGroupConfig();
    TimedMemberState timedMemberState=new TimedMemberState();
    timedMemberState.setMaster(instance.node.isMaster());
    if (timedMemberState.getMaster()) {
      timedMemberState.setMemberList(new ArrayList<String>());
      Set<Member> memberSet=instance.getCluster().getMembers();
      for (      Member member : memberSet) {
        MemberImpl memberImpl=(MemberImpl)member;
        Address address=memberImpl.getAddress();
        timedMemberState.getMemberList().add(address.getHost() + ":" + address.getPort());
      }
    }
    timedMemberState.setMemberState(memberState);
    timedMemberState.setClusterName(groupConfig.getName());
    return timedMemberState;
  }
  return null;
}
