{
  String urlString=webServerUrl + "collector.do";
  if (clusterId != null) {
    urlString+="?clusterId=" + clusterId;
  }
  if (securityToken != null) {
    if (clusterId == null) {
      urlString+="?securitytoken=" + securityToken;
    }
 else {
      urlString+="&securitytoken=" + securityToken;
    }
  }
  return new URL(urlString);
}
