{
  if (webServerUrl == null) {
    logger.log(Level.WARNING,"Web server url is null!");
    return;
  }
  try {
    Random rand=new Random();
    Address address=((MemberImpl)instance.node.getClusterService().getLocalMember()).getAddress();
    GroupConfig groupConfig=instance.getConfig().getGroupConfig();
    while (running.get()) {
      try {
        URL url=new URL(webServerUrl + "getTask.do?member=" + address.getHost()+ ":"+ address.getPort()+ "&cluster="+ groupConfig.getName());
        HttpURLConnection connection=(HttpURLConnection)url.openConnection();
        connection.setRequestProperty("Connection","keep-alive");
        InputStream inputStream=connection.getInputStream();
        DataInputStream input=new DataInputStream(inputStream);
        final int taskId=input.readInt();
        final int requestType=input.readInt();
        if (taskId > 0 && requestType < consoleRequests.length) {
          final ConsoleRequest request=consoleRequests[requestType];
          if (request != null) {
            request.readData(new ObjectDataInputWrapper(input));
            sendResponse(taskId,request);
          }
        }
      }
 catch (      Exception e) {
        logger.log(Level.FINEST,e.getMessage(),e);
      }
      Thread.sleep(700 + rand.nextInt(300));
    }
  }
 catch (  Throwable throwable) {
    if (throwable instanceof OutOfMemoryError) {
      OutOfMemoryErrorDispatcher.onOutOfMemory((OutOfMemoryError)throwable);
    }
    logger.log(Level.FINEST,"Problem on management center while polling task.",throwable);
  }
}
