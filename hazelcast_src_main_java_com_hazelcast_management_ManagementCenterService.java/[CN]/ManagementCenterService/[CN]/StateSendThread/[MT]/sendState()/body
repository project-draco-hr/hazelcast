{
  URL url=newCollectorUrl();
  try {
    HttpURLConnection connection=openConnection(url);
    OutputStream outputStream=connection.getOutputStream();
    try {
      JsonObject root=new JsonObject();
      root.add("identifier",identifier.toJson());
      TimedMemberState timedMemberState=timedMemberStateFactory.createTimedMemberState();
      root.add("timedMemberState",timedMemberState.toJson());
      root.writeTo(new OutputStreamWriter(outputStream));
      outputStream.flush();
      post(connection);
    }
  finally {
      closeResource(outputStream);
    }
  }
 catch (  ConnectException e) {
    if (logger.isFinestEnabled()) {
      logger.finest(e);
    }
 else {
      logger.info("Failed to connect to:" + url);
    }
  }
catch (  Exception e) {
    logger.warning(e);
  }
}
