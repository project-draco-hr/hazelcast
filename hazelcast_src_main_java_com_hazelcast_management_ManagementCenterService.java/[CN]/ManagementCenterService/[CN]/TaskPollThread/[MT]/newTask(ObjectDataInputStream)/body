{
  int requestType=inputStream.readInt();
  Class<? extends ConsoleRequest> requestClass=consoleRequests.get(requestType);
  if (requestClass == null) {
    throw new RuntimeException("Failed to find a request for requestType:" + requestType);
  }
  ConsoleRequest task=requestClass.newInstance();
  task.readData(inputStream);
  return task;
}
