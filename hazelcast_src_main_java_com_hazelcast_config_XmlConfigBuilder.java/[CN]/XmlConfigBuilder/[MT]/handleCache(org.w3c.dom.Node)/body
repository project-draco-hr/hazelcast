{
  final String name=getAttribute(node,"name");
  final CacheSimpleConfig cacheConfig=new CacheSimpleConfig();
  cacheConfig.setName(name);
  for (  org.w3c.dom.Node n : new IterableNodeList(node.getChildNodes())) {
    final String nodeName=cleanNodeName(n.getNodeName());
    final String value=getTextContent(n).trim();
    if ("key-type".equals(nodeName)) {
      cacheConfig.setKeyType(getAttribute(n,"class-name"));
    }
 else     if ("value-type".equals(nodeName)) {
      cacheConfig.setValueType(getAttribute(n,"class-name"));
    }
 else     if ("statistics-enabled".equals(nodeName)) {
      cacheConfig.setStatisticsEnabled(checkTrue(value));
    }
 else     if ("management-enabled".equals(nodeName)) {
      cacheConfig.setManagementEnabled(checkTrue(value));
    }
 else     if ("read-through".equals(nodeName)) {
      cacheConfig.setReadThrough(checkTrue(value));
    }
 else     if ("write-through".equals(nodeName)) {
      cacheConfig.setWriteThrough(checkTrue(value));
    }
 else     if ("cache-loader-factory".equals(nodeName)) {
      cacheConfig.setCacheLoaderFactory(getAttribute(n,"class-name"));
    }
 else     if ("cache-writer-factory".equals(nodeName)) {
      cacheConfig.setCacheWriterFactory(getAttribute(n,"class-name"));
    }
 else     if ("expiry-policy-factory".equals(nodeName)) {
      cacheConfig.setExpiryPolicyFactory(getAttribute(n,"class-name"));
    }
 else     if ("cache-entry-listeners".equals(nodeName)) {
      cacheListenerHandle(n,cacheConfig);
    }
 else     if ("in-memory-format".equals(nodeName)) {
      cacheConfig.setInMemoryFormat(InMemoryFormat.valueOf(upperCaseInternal(value)));
    }
 else     if ("backup-count".equals(nodeName)) {
      cacheConfig.setBackupCount(getIntegerValue("backup-count",value,CacheSimpleConfig.DEFAULT_BACKUP_COUNT));
    }
 else     if ("async-backup-count".equals(nodeName)) {
      cacheConfig.setAsyncBackupCount(getIntegerValue("async-backup-count",value,CacheSimpleConfig.MIN_BACKUP_COUNT));
    }
 else     if ("eviction-percentage".equals(nodeName)) {
      cacheConfig.setEvictionPercentage(getIntegerValue("eviction-percentage",value,CacheSimpleConfig.DEFAULT_EVICTION_PERCENTAGE));
    }
 else     if ("eviction-policy".equals(nodeName)) {
      cacheConfig.setEvictionPolicy(EvictionPolicy.valueOf(upperCaseInternal(value)));
    }
 else     if ("max-size".equals(nodeName)) {
      final MaxSizeConfig maxSizeConfig=new MaxSizeConfig();
      final Node maxSizePolicy=n.getAttributes().getNamedItem("policy");
      if (maxSizePolicy != null) {
        maxSizeConfig.setMaxSizePolicy(MaxSizeConfig.MaxSizePolicy.valueOf(upperCaseInternal(getTextContent(maxSizePolicy))));
      }
      final long size=sizeParser(value);
      if (size > 0) {
        maxSizeConfig.setSize(size);
      }
      cacheConfig.setMaxSizeConfig(maxSizeConfig);
    }
  }
  this.config.addCacheConfig(cacheConfig);
}
