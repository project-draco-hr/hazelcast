{
  final Node attName=node.getAttributes().getNamedItem("name");
  final String name=getTextContent(attName);
  final SemaphoreConfig sConfig=new SemaphoreConfig();
  sConfig.setName(name);
  for (  org.w3c.dom.Node n : new IterableNodeList(node.getChildNodes())) {
    final String nodeName=cleanNodeName(n.getNodeName());
    final String value=getTextContent(n).trim();
    if ("initial-permits".equals(nodeName)) {
      sConfig.setInitialPermits(getIntegerValue("initial-permits",value,0));
    }
 else     if ("backup-count".equals(nodeName)) {
      sConfig.setBackupCount(getIntegerValue("backup-count",value,SemaphoreConfig.DEFAULT_SYNC_BACKUP_COUNT));
    }
 else     if ("async-backup-count".equals(nodeName)) {
      sConfig.setAsyncBackupCount(getIntegerValue("async-backup-count",value,SemaphoreConfig.DEFAULT_ASYNC_BACKUP_COUNT));
    }
  }
  config.addSemaphoreConfig(sConfig);
}
