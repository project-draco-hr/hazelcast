{
  for (  org.w3c.dom.Node child : new IterableNodeList(node.getChildNodes())) {
    final String name=cleanNodeName(child);
    if ("portable-factory".equals(name)) {
      final String value=getValue(child);
      final Node factoryIdNode=child.getAttributes().getNamedItem("factory-id");
      if (factoryIdNode == null) {
        throw new IllegalArgumentException("'factory-id' attribute of 'portable-factory' is required!");
      }
      int factoryId=Integer.parseInt(getValue(factoryIdNode));
      serializationConfig.addPortableFactoryClass(factoryId,value);
    }
  }
}
