{
  final Invalidation invalidation=message.getMessageObject();
  if (versionComparator != null) {
    final Value value=cache.get(invalidation.getKey());
    if (value != null) {
      Object currentVersion=value.getVersion();
      Object newVersion=invalidation.getVersion();
      if (versionComparator.compare(newVersion,currentVersion) > 0) {
        cache.remove(invalidation.getKey(),value);
      }
    }
  }
 else {
    cache.remove(invalidation.getKey());
  }
}
