{
  try {
    config=hazelcastInstance != null ? hazelcastInstance.getConfig().findMatchingMapConfig(name) : null;
  }
 catch (  UnsupportedOperationException ignored) {
  }
  versionComparator=metadata != null && metadata.isVersioned() ? metadata.getVersionComparator() : null;
  cache=new ConcurrentHashMap<Object,Value>();
  messageListener=createMessageListener();
  if (hazelcastInstance != null) {
    topic=hazelcastInstance.getTopic(name);
    topic.addMessageListener(messageListener);
  }
 else {
    topic=null;
  }
}
