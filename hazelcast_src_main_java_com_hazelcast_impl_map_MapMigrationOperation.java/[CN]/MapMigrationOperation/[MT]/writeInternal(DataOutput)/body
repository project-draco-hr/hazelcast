{
  out.writeBoolean(diff);
  out.writeInt(data.size());
  for (  Entry<String,Map<Data,DataRecordEntry>> mapEntry : data.entrySet()) {
    out.writeUTF(mapEntry.getKey());
    Map<Data,DataRecordEntry> map=mapEntry.getValue();
    out.writeInt(map.size());
    for (    Entry<Data,DataRecordEntry> entry : map.entrySet()) {
      entry.getKey().writeData(out);
      entry.getValue().writeData(out);
    }
  }
}
