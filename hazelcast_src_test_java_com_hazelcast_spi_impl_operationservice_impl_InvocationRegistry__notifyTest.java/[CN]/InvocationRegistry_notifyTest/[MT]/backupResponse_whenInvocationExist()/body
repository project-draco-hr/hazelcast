{
  Invocation invocation=newInvocation();
  invocationRegistry.register(invocation);
  long callId=invocation.op.getCallId();
  Object value="foo";
  invocationRegistry.notify(new NormalResponse(value,callId,1,false));
  assertSame(invocation,invocationRegistry.get(callId));
  invocationRegistry.notify(new BackupResponse(callId,false));
  assertNull(invocationRegistry.get(callId));
  assertEquals(value,invocation.invocationFuture.getSafely());
}
