{
  mapService.interceptAfterPut(name,dataValue);
  int eventType=dataOldValue == null ? EntryEvent.TYPE_ADDED : EntryEvent.TYPE_UPDATED;
  mapService.publishEvent(getCallerAddress(),name,eventType,dataKey,dataOldValue,dataValue);
  invalidateNearCaches();
  if (mapContainer.getMapConfig().isStatisticsEnabled()) {
    ((MapService)getService()).getLocalMapStatsImpl(name).incrementPuts(Clock.currentTimeMillis() - getStartTime());
  }
  if (mapContainer.getWanReplicationListener() != null && mapContainer.getWanMergePolicy() != null) {
    SimpleEntryView entryView=new SimpleEntryView(dataKey,mapService.toData(dataValue),recordStore.getRecords().get(dataKey));
    mapService.publishWanReplicationUpdate(name,entryView);
  }
}
