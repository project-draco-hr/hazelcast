{
  if (inv.operation == OP_EVENT) {
    handleEvent(inv);
  }
 else   if (inv.operation == OP_LISTENER_ADD) {
    handleAddRemoveListener(true,inv);
  }
 else   if (inv.operation == OP_LISTENER_REMOVE) {
    handleAddRemoveListener(false,inv);
  }
 else   throw new RuntimeException("Unknown operation " + inv.operation);
}
