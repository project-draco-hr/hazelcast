{
  System.setProperty("hazelcast.test.client","true");
  System.setProperty("hazelcast.test.use.network","true");
  List<Class> classes=new ArrayList<Class>();
  classes.add(AtomicLongTest.class);
  classes.add(CountDownLatchTest.class);
  Class annotation=ClientCompatibleTest.class;
  JUnitCore core=new JUnitCore();
  core.addListener(new RunListener(){
    public void testFailure(    Failure failure) throws Exception {
      System.err.println(failure.getTrace());
    }
  }
);
  List<String> failed=new ArrayList<String>();
  List<String> success=new ArrayList<String>();
  for (  Class testClass : classes) {
    Method[] methods=testClass.getMethods();
    for (    Method method : methods) {
      if (method.isAnnotationPresent(annotation)) {
        if (method.isAnnotationPresent(org.junit.Test.class)) {
          Request request=Request.method(testClass,method.getName());
          Result result=core.run(request);
          if (!result.wasSuccessful())           failed.add(testClass + "." + method.getName());
 else           success.add(testClass + "." + method.getName());
        }
      }
    }
  }
  if (success.size() > 0)   System.out.println("The following Client tests have passed:");
  for (  String test : success) {
    System.out.println(test);
  }
  if (failed.size() > 0)   System.err.println("FAILURE!! SOME TESTS FAILED! # of failing Tests: " + failed.size());
 else {
    System.out.println("SUCCESS!! All TESTS PASSED! # of passed Tests: " + success.size());
  }
  for (  String test : failed) {
    System.err.println(test);
  }
}
