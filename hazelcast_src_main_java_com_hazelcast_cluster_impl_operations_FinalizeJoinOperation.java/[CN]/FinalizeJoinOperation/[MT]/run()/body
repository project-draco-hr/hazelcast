{
  if (!isValid()) {
    return;
  }
  final ClusterServiceImpl clusterService=getService();
  final NodeEngineImpl nodeEngine=clusterService.getNodeEngine();
  if (nodeEngine.getNode().joined()) {
    ILogger logger=getLogger();
    if (logger.isFinestEnabled()) {
      logger.finest("Node is already joined... No need to finalize join...");
    }
    return;
  }
  clusterService.initialClusterState(clusterState);
  clusterService.setClusterId(clusterId);
  clusterService.getClusterClock().setClusterStartTime(clusterStartTime);
  processMemberUpdate();
  final Operation[] postJoinOperations=nodeEngine.getPostJoinOperations();
  final OperationService operationService=nodeEngine.getOperationService();
  if (postJoinOperations != null && postJoinOperations.length > 0) {
    final Collection<Member> members=clusterService.getMembers();
    for (    Member member : members) {
      if (!member.localMember()) {
        PostJoinOperation operation=new PostJoinOperation(postJoinOperations);
        operationService.createInvocationBuilder(ClusterServiceImpl.SERVICE_NAME,operation,member.getAddress()).setTryCount(100).invoke();
      }
    }
  }
  if (postJoinOp != null) {
    postJoinOp.setNodeEngine(nodeEngine);
    OperationAccessor.setCallerAddress(postJoinOp,getCallerAddress());
    OperationAccessor.setConnection(postJoinOp,getConnection());
    postJoinOp.setOperationResponseHandler(createEmptyResponseHandler());
    operationService.runOperationOnCallingThread(postJoinOp);
  }
}
