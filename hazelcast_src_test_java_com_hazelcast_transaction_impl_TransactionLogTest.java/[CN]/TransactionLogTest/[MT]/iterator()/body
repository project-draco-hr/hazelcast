{
  TransactionLog log=new TransactionLog();
  TransactionLogRecord record1=mock(TransactionLogRecord.class);
  TransactionLogRecord record2=mock(TransactionLogRecord.class);
  log.add(record1);
  log.add(record2);
  Iterator<TransactionLogRecord> it=log.iterator();
  assertSame(record1,it.next());
  assertSame(record2,it.next());
  assertFalse(it.hasNext());
}
