{
  int written=0;
  int len=lsData.size();
  for (int i=0; i < len; i++) {
    ByteBuffer bb=lsData.get(i);
    int limit=bb.limit();
    if (limit == 0)     throw new RuntimeException("limit cannot be zero");
    to.put(bb.array(),0,limit);
    written+=limit;
  }
  if (written != size)   throw new RuntimeException("copyToBuffer didn't write all data. Written: " + written + " size: "+ size);
}
