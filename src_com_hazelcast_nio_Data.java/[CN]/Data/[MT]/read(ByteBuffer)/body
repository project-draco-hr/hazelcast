{
  while (true) {
    int remaining=size - readSize;
    if (bbCurrentlyRead == null) {
      bbCurrentlyRead=ThreadContext.get().getBufferPool().obtain();
      bbCurrentlyRead.limit((remaining > 1024) ? 1024 : remaining);
    }
    readSize+=BufferUtil.copyToHeapBuffer(src,bbCurrentlyRead);
    if (readSize >= size) {
      if (bbCurrentlyRead.position() == 0)       throw new RuntimeException("Position cannot be 0");
      lsData.add(bbCurrentlyRead);
      bbCurrentlyRead=null;
      return;
    }
    if (bbCurrentlyRead.remaining() == 0) {
      if (bbCurrentlyRead.position() == 0)       throw new RuntimeException("Position cannot be 0");
      lsData.add(bbCurrentlyRead);
      bbCurrentlyRead=null;
    }
    if (src.remaining() == 0)     return;
  }
}
