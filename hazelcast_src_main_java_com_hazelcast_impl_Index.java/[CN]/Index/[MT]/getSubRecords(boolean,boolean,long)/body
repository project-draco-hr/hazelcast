{
  TreeMap<Long,Set<T>> treeMap=(TreeMap<Long,Set<T>>)mapIndex;
  Set<T> results=new HashSet<T>();
  Map<Long,Set<T>> sub=(lessThan) ? treeMap.headMap(value) : treeMap.tailMap(value);
  Set<Map.Entry<Long,Set<T>>> entries=sub.entrySet();
  for (  Map.Entry<Long,Set<T>> entry : entries) {
    if (equal || entry.getKey() != value) {
      results.addAll(entry.getValue());
    }
  }
  return results;
}
