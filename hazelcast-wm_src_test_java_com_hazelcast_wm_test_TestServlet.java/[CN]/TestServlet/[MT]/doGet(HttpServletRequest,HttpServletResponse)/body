{
  HttpSession session=req.getSession();
  if (req.getRequestURI().endsWith("write")) {
    session.setAttribute("key","value");
    resp.getWriter().write("true");
  }
 else   if (req.getRequestURI().endsWith("read")) {
    Object value=session.getAttribute("key");
    resp.getWriter().write(value == null ? "null" : value.toString());
  }
 else   if (req.getRequestURI().endsWith("remove")) {
    session.removeAttribute("key");
    resp.getWriter().write("true");
  }
 else   if (req.getRequestURI().endsWith("invalidate")) {
    session.invalidate();
    resp.getWriter().write("true");
  }
 else   if (req.getRequestURI().endsWith("update")) {
    session.setAttribute("key","value-updated");
    resp.getWriter().write("true");
  }
 else   if (req.getRequestURI().endsWith("names")) {
    List<String> names=Collections.list(session.getAttributeNames());
    String nameList=names.toString();
    resp.getWriter().write(nameList.substring(1,nameList.length() - 1).replace(", ",","));
  }
 else   if (req.getRequestURI().endsWith("reload")) {
    session.invalidate();
    session=req.getSession();
    session.setAttribute("first-key","first-value");
    session.setAttribute("second-key","second-value");
    resp.getWriter().write("true");
  }
}
