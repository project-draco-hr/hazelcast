{
  int total=0;
  total+=INT_SIZE_IN_BYTES;
  if (context.hasClassDefinition(data)) {
    ClassDefinition[] classDefinitions=context.getClassDefinitions(data);
    if (classDefinitions == null || classDefinitions.length == 0) {
      throw new HazelcastSerializationException("ClassDefinition could not be found!");
    }
    total+=INT_SIZE_IN_BYTES;
    for (    ClassDefinition classDef : classDefinitions) {
      total+=INT_SIZE_IN_BYTES;
      total+=INT_SIZE_IN_BYTES;
      total+=INT_SIZE_IN_BYTES;
      total+=INT_SIZE_IN_BYTES;
      byte[] bytes=((BinaryClassDefinition)classDef).getBinary();
      total+=bytes.length;
    }
  }
  total+=INT_SIZE_IN_BYTES;
  total+=INT_SIZE_IN_BYTES;
  total+=data.dataSize();
  return total;
}
