{
  TestHazelcastInstanceFactory factory=createHazelcastInstanceFactory(1);
  HazelcastInstance hz=factory.newHazelcastInstance(new Config());
  final IQueue<Object> q=hz.getQueue("queue");
  final CountDownLatch latch=new CountDownLatch(1);
  Thread thread=new Thread(){
    @Override public void run(){
      try {
        Object poll=q.poll(1,TimeUnit.SECONDS);
        assertNull(poll);
        latch.countDown();
        ;
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
    }
  }
;
  thread.start();
  assertTrue(latch.await(1,TimeUnit.MINUTES));
}
