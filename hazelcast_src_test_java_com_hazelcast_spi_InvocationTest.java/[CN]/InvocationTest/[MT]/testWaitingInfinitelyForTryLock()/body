{
  final Config config=new Config();
  config.setProperty(GroupProperties.PROP_OPERATION_CALL_TIMEOUT_MILLIS,"3000");
  final HazelcastInstance hz=createHazelcastInstance(config);
  final CountDownLatch latch=new CountDownLatch(1);
  final String name="testWaitingInfinitelyForTryLock";
  hz.getLock(name).lock();
  new Thread(){
    public void run(){
      try {
        hz.getLock(name).tryLock(10,TimeUnit.SECONDS);
        latch.countDown();
      }
 catch (      Exception ignored) {
      }
    }
  }
.start();
  assertTrue(latch.await(20,TimeUnit.SECONDS));
}
