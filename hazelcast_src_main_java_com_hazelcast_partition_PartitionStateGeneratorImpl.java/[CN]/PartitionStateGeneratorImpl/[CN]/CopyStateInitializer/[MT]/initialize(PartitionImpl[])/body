{
  if (state.length != currentState.length) {
    throw new IllegalArgumentException("Partition counts do not match!");
  }
  for (int i=0; i < state.length; i++) {
    final PartitionView p=currentState[i];
    state[i]=new PartitionImpl(i);
    state[i].setPartitionInfo(p);
  }
}
