{
  OperationContext context=getOperationContext();
  ResponseHandler responseHandler=context.getResponseHandler();
  MapService mapService=(MapService)context.getService();
  MapPartition mapPartition=mapService.getMapPartition(context.getPartitionId(),name);
  LockInfo lock=mapPartition.getOrCreateLock(getKey());
  responseHandler.sendResponse(lock.lock(context.getCaller(),threadId,ttl));
}
