{
  this.webFilter=webFilter;
  this.id=sessionId;
  this.originalSession=originalSession;
  this.deferredWrite=deferredWrite;
  String transientAttributesParam=webFilter.getParam("transient-attributes");
  if (transientAttributesParam == null) {
    this.transientAttributes=Collections.emptySet();
  }
 else {
    this.transientAttributes=new HashSet<String>();
    StringTokenizer st=new StringTokenizer(transientAttributesParam,",");
    while (st.hasMoreTokens()) {
      String token=st.nextToken();
      this.transientAttributes.add(token.trim());
    }
  }
  if (this.deferredWrite) {
    buildLocalCache();
  }
}
