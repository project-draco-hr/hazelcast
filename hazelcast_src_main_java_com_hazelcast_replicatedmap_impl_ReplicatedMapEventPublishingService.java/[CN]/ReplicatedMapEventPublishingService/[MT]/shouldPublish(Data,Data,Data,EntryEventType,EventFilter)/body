{
  QueryEntry queryEntry=null;
  if (filter instanceof ReplicatedQueryEventFilter) {
    Data testValue;
    if (eventType == REMOVED) {
      testValue=oldValue;
    }
 else {
      testValue=value;
    }
    queryEntry=new QueryEntry(nodeEngine.getSerializationService(),key,testValue,null);
  }
  return filter == null || filter.eval(queryEntry != null ? queryEntry : key);
}
