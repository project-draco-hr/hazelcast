{
  final AddressHolder addressHolder=AddressUtil.getAddressHolder(address,5701);
  final String scopedAddress=addressHolder.scopeId != null ? addressHolder.address + "%" + addressHolder.scopeId : addressHolder.address;
  InetAddress inetAddress=null;
  try {
    inetAddress=InetAddress.getByName(scopedAddress);
  }
 catch (  UnknownHostException ignored) {
  }
  if (inetAddress == null) {
    return Collections.singleton(new InetSocketAddress(scopedAddress,addressHolder.port));
  }
  if (inetAddress instanceof Inet4Address) {
    return Collections.singleton(new InetSocketAddress(inetAddress,addressHolder.port));
  }
  final Collection<Inet6Address> addresses=AddressUtil.getPossibleInetAddressesFor((Inet6Address)inetAddress);
  final Collection<InetSocketAddress> socketAddresses=new LinkedList<InetSocketAddress>();
  for (  Inet6Address inet6Address : addresses) {
    socketAddresses.add(new InetSocketAddress(inet6Address,addressHolder.port));
  }
  return socketAddresses;
}
