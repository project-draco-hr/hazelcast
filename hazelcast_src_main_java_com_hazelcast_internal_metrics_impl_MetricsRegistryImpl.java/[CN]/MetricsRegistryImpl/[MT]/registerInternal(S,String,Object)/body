{
  GaugeImpl gauge=metrics.get(name);
  if (gauge == null) {
    gauge=new GaugeImpl<S>(name,logger);
    metrics.put(name,gauge);
  }
  logOverwrite(name,gauge);
  if (logger.isFinestEnabled()) {
    logger.finest("Registered gauge " + name);
  }
  gauge.source=source;
  gauge.input=input;
  modCount.incrementAndGet();
}
