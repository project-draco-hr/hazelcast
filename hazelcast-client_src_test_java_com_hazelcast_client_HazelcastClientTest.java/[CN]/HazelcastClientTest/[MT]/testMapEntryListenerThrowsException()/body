{
  final String mapName="testMapListenerThrowException";
  IMap c=getHazelcastClient().getMap(mapName);
  IMap m=getHazelcastInstance().getMap(mapName);
  m.addEntryListener(new EntryListener(){
    public void entryAdded(    EntryEvent event){
      throw new RuntimeException("dummy exception");
    }
    public void entryRemoved(    EntryEvent event){
    }
    public void entryUpdated(    EntryEvent event){
    }
    public void entryEvicted(    EntryEvent event){
    }
  }
,false);
  final int k=5;
  final CountDownLatch latch=new CountDownLatch(k);
  c.addEntryListener(new EntryListener(){
    public void entryAdded(    EntryEvent event){
      System.out.println(event);
      latch.countDown();
    }
    public void entryRemoved(    EntryEvent event){
    }
    public void entryUpdated(    EntryEvent event){
    }
    public void entryEvicted(    EntryEvent event){
    }
  }
,false);
  for (int i=0; i < k; i++) {
    if (i % 2 == 0) {
      m.put(i,i);
    }
 else {
      c.put(i,i);
    }
  }
  assertTrue("Error on client EntryListener!",latch.await(10,TimeUnit.SECONDS));
}
