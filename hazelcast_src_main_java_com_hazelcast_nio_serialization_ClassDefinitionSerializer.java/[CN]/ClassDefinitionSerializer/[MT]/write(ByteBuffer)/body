{
  if (!isStatusSet(ST_PREPARED)) {
    if (destination.remaining() < INT_SIZE_IN_BYTES) {
      return false;
    }
    classDefinitions=context.getClassDefinitions(data);
    classDefCount=classDefinitions.length;
    destination.putInt(classDefCount);
    setStatus(ST_PREPARED);
  }
  if (!writeAll(destination)) {
    return false;
  }
  return true;
}
