{
  ensureOpen();
  if (cacheEntryListenerConfiguration == null) {
    throw new NullPointerException("CacheEntryListenerConfiguration can't be null");
  }
  final CacheEventListenerAdaptor<K,V> adaptor=new CacheEventListenerAdaptor<K,V>(this,cacheEntryListenerConfiguration,clientContext.getSerializationService());
  final EventHandler handler=createHandler(adaptor);
  final ClientMessage registrationRequest=CacheAddEntryListenerCodec.encodeRequest(nameWithPrefix);
  final String regId=clientContext.getListenerService().startListening(registrationRequest,null,handler,new ClientMessageDecoder(){
    @Override public <T>T decodeClientMessage(    ClientMessage clientMessage){
      return (T)CacheAddEntryListenerCodec.decodeResponse(clientMessage).response;
    }
  }
);
  if (regId != null) {
    cacheConfig.addCacheEntryListenerConfiguration(cacheEntryListenerConfiguration);
    addListenerLocally(regId,cacheEntryListenerConfiguration);
    updateCacheListenerConfigOnOtherNodes(cacheEntryListenerConfiguration,true);
  }
}
