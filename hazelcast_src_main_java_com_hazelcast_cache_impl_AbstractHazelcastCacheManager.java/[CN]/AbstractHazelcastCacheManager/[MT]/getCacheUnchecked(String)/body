{
  final String cacheNameWithPrefix=getCacheNameWithPrefix(cacheName);
  ICache<?,?> cache=caches.get(cacheNameWithPrefix);
  if (cache == null) {
    CacheConfig<K,V> cacheConfig=null;
    if (cacheConfig == null) {
      cacheConfig=getCacheConfigFromPartition(cacheNameWithPrefix);
    }
    if (cacheConfig == null) {
      return null;
    }
    final ICache<K,V> cacheProxy=createCacheProxy(cacheConfig);
    final ICache<?,?> iCache=caches.putIfAbsent(cacheNameWithPrefix,cacheProxy);
    cache=iCache != null ? iCache : cacheProxy;
  }
  return cache;
}
