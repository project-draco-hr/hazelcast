{
  logger.log(Level.FINEST,"Updating Members");
  lock.lock();
  try {
    Map<Address,MemberImpl> mapOldMembers=new HashMap<Address,MemberImpl>();
    for (    MemberImpl member : getMemberList()) {
      mapOldMembers.put(member.getAddress(),member);
    }
    MemberImpl[] newMembers=new MemberImpl[members.size()];
    int k=0;
    for (    MemberInfo memberInfo : members) {
      MemberImpl member=mapOldMembers.get(memberInfo.address);
      if (member == null) {
        member=createMember(memberInfo.address,memberInfo.nodeType,memberInfo.uuid,thisAddress.getScopeId());
      }
      newMembers[k++]=member;
      member.didRead();
    }
    addMembers(newMembers);
    if (!getMemberList().contains(thisMember)) {
      throw new RuntimeException("Member list doesn't contain local member!");
    }
    joinReset();
    heartBeater();
    node.setJoined();
    logger.log(Level.INFO,toString());
  }
  finally {
    lock.unlock();
  }
}
