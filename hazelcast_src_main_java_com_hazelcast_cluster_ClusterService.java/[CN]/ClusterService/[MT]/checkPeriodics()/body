{
  final long now=System.nanoTime();
  if ((now - lastCheck) > MAX_IDLE_NANOS) {
    logger.log(Level.INFO,"Hazelcast ServiceThread is blocked for " + ((now - lastCheck) / 1000000) + " ms. Restarting Hazelcast!");
    new Thread(new Runnable(){
      public void run(){
        node.factory.restart();
      }
    }
,"hz.RestartThread").start();
  }
  lastCheck=now;
  if ((now - lastPeriodicCheck) > PERIODIC_CHECK_INTERVAL_NANOS) {
    for (    Runnable runnable : periodicRunnables) {
      if (runnable != null) {
        runnable.run();
      }
    }
    lastPeriodicCheck=now;
  }
}
