{
  Processable processable=null;
  try {
    for (int i=0; i < PROCESSABLE_BULK_SIZE; i++) {
      processable=processableQueue.poll();
      if (processable == null) {
        return i;
      }
      processProcessable(processable);
      dequeuePriorityProcessables();
    }
  }
 catch (  OutOfMemoryError e) {
    throw e;
  }
catch (  Throwable e) {
    logger.log(Level.SEVERE,"error processing messages  processable=" + processable,e);
    throw e;
  }
  return PACKET_BULK_SIZE;
}
