{
  Protocol response;
  try {
    response=processCall(node,protocol);
  }
 catch (  RuntimeException e) {
    logger.log(Level.WARNING,"exception during handling " + protocol.command + ": "+ e.getMessage(),e);
    response=new Protocol(protocol.conn,Command.ERROR,protocol.flag,protocol.threadId,false,new String[]{e.getMessage()});
  }
  sendResponse(response,protocol.conn);
}
