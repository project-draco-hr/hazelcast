{
  QueryContext queryContext=new QueryContext(this);
  Set<QueryableEntry> result=null;
  if (predicate instanceof IndexAwarePredicate) {
    IndexAwarePredicate iap=(IndexAwarePredicate)predicate;
    if (iap.isIndexed(queryContext)) {
      result=iap.filter(queryContext);
    }
  }
  if (result == null) {
    result=new HashSet<QueryableEntry>();
    for (    QueryableEntry entry : allEntries) {
      if (predicate.apply(entry)) {
        result.add(entry);
      }
    }
  }
  return result;
}
