{
  client().send(new MapLockRequest(mapName,TestUtil.toData(1),ThreadContext.getThreadId() + 1));
  client().receive();
  assertEquals(true,map.isLocked(1));
  client().send(new MapTryPutRequest(mapName,TestUtil.toData(1),TestUtil.toData(1),ThreadContext.getThreadId(),0));
  assertEquals(false,client().receive());
  client().send(new MapTryRemoveRequest(mapName,TestUtil.toData(1),ThreadContext.getThreadId(),0));
  assertEquals(false,client().receive());
}
