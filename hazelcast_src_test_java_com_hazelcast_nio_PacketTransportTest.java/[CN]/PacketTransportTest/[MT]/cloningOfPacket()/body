{
  DefaultData originalData=new DefaultData("foobar".getBytes());
  Packet originalPacket=new Packet(originalData);
  ByteBuffer bb=ByteBuffer.allocate(100);
  boolean written=originalPacket.writeTo(bb);
  assertTrue(written);
  bb.flip();
  Packet clonedPacket=new Packet();
  boolean read=clonedPacket.readFrom(bb);
  assertTrue(read);
  assertEquals(originalPacket.getHeader(),clonedPacket.getHeader());
  assertEquals(originalPacket.getData(),clonedPacket.getData());
}
