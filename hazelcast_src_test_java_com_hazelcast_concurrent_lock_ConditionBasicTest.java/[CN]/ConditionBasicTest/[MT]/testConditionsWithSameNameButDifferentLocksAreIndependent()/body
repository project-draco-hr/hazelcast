{
  String name=newName();
  ILock lock0=callerInstance.getLock(newName());
  final ICondition condition0=lock0.newCondition(name);
  ILock lock1=callerInstance.getLock(newName());
  final ICondition condition1=lock1.newCondition(name);
  final CountDownLatch latch=new CountDownLatch(2);
  final CountDownLatch syncLatch=new CountDownLatch(2);
  createThreadWaitsForCondition(latch,lock0,condition0,syncLatch).start();
  createThreadWaitsForCondition(latch,lock1,condition1,syncLatch).start();
  syncLatch.await();
  lock0.lock();
  condition0.signalAll();
  lock0.unlock();
  lock1.lock();
  condition1.signalAll();
  lock1.unlock();
  assertOpenEventually(latch);
}
