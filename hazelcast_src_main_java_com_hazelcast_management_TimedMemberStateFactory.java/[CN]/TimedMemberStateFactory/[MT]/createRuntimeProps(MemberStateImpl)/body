{
  Runtime runtime=Runtime.getRuntime();
  ThreadMXBean threadMxBean=ManagementFactory.getThreadMXBean();
  RuntimeMXBean runtimeMxBean=ManagementFactory.getRuntimeMXBean();
  ClassLoadingMXBean clMxBean=ManagementFactory.getClassLoadingMXBean();
  MemoryMXBean memoryMxBean=ManagementFactory.getMemoryMXBean();
  MemoryUsage heapMemory=memoryMxBean.getHeapMemoryUsage();
  MemoryUsage nonHeapMemory=memoryMxBean.getNonHeapMemoryUsage();
  Map<String,Long> map=new HashMap<String,Long>();
  map.put("runtime.availableProcessors",Integer.valueOf(runtime.availableProcessors()).longValue());
  map.put("date.startTime",runtimeMxBean.getStartTime());
  map.put("seconds.upTime",runtimeMxBean.getUptime());
  map.put("memory.maxMemory",runtime.maxMemory());
  map.put("memory.freeMemory",runtime.freeMemory());
  map.put("memory.totalMemory",runtime.totalMemory());
  map.put("memory.heapMemoryMax",heapMemory.getMax());
  map.put("memory.heapMemoryUsed",heapMemory.getUsed());
  map.put("memory.nonHeapMemoryMax",nonHeapMemory.getMax());
  map.put("memory.nonHeapMemoryUsed",nonHeapMemory.getUsed());
  map.put("runtime.totalLoadedClassCount",clMxBean.getTotalLoadedClassCount());
  map.put("runtime.loadedClassCount",Integer.valueOf(clMxBean.getLoadedClassCount()).longValue());
  map.put("runtime.unloadedClassCount",clMxBean.getUnloadedClassCount());
  map.put("runtime.totalStartedThreadCount",threadMxBean.getTotalStartedThreadCount());
  map.put("runtime.threadCount",Integer.valueOf(threadMxBean.getThreadCount()).longValue());
  map.put("runtime.peakThreadCount",Integer.valueOf(threadMxBean.getPeakThreadCount()).longValue());
  map.put("runtime.daemonThreadCount",Integer.valueOf(threadMxBean.getDaemonThreadCount()).longValue());
  OperatingSystemMXBean osMxBean=ManagementFactory.getOperatingSystemMXBean();
  map.put("osMemory.freePhysicalMemory",get(osMxBean,"getFreePhysicalMemorySize",0L));
  map.put("osMemory.committedVirtualMemory",get(osMxBean,"getCommittedVirtualMemorySize",0L));
  map.put("osMemory.totalPhysicalMemory",get(osMxBean,"getTotalPhysicalMemorySize",0L));
  map.put("osSwap.freeSwapSpace",get(osMxBean,"getFreeSwapSpaceSize",0L));
  map.put("osSwap.totalSwapSpace",get(osMxBean,"getTotalSwapSpaceSize",0L));
  map.put("os.maxFileDescriptorCount",get(osMxBean,"getMaxFileDescriptorCount",0L));
  map.put("os.openFileDescriptorCount",get(osMxBean,"getOpenFileDescriptorCount",0L));
  map.put("os.processCpuLoad",get(osMxBean,"getProcessCpuLoad",-1L));
  map.put("os.systemLoadAverage",get(osMxBean,"getSystemLoadAverage",-1L));
  map.put("os.systemCpuLoad",get(osMxBean,"getSystemCpuLoad",-1L));
  map.put("os.processCpuTime",get(osMxBean,"getProcessCpuTime",0L));
  map.put("os.availableProcessors",get(osMxBean,"getAvailableProcessors",0L));
  memberState.setRuntimeProps(map);
}
