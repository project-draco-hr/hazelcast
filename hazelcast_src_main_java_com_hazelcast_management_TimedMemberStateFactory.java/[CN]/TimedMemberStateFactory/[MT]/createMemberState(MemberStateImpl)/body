{
  final Node node=instance.node;
  Address thisAddress=node.getThisAddress();
  InternalPartitionService partitionService=node.getPartitionService();
  InternalPartition[] partitions=partitionService.getPartitions();
  final HashSet<SerializableClientEndPoint> serializableClientEndPoints=new HashSet<SerializableClientEndPoint>();
  for (  Client client : instance.node.clientEngine.getClients()) {
    serializableClientEndPoints.add(new SerializableClientEndPoint(client));
  }
  memberState.setClients(serializableClientEndPoints);
  memberState.setAddress(thisAddress.getHost() + ":" + thisAddress.getPort());
  createJMXBeans(memberState);
  memberState.clearPartitions();
  for (  InternalPartition partition : partitions) {
    Address owner=partition.getOwnerOrNull();
    if (owner != null && thisAddress.equals(owner)) {
      memberState.addPartition(partition.getPartitionId());
    }
  }
  Collection<DistributedObject> proxyObjects=new ArrayList<DistributedObject>(instance.getDistributedObjects());
  createRuntimeProps(memberState);
  createMemState(memberState,proxyObjects);
}
