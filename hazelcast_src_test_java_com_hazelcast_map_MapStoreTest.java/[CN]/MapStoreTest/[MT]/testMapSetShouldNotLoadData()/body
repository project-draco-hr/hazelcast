{
  final AtomicBoolean fail=new AtomicBoolean(false);
  SimpleMapStore mapStore=new SimpleMapStore(){
    public Object load(    final Object key){
      fail.set(true);
      fail("MapStore load should not be called!");
      return super.load(key);
    }
  }
;
  mapStore.setLoadAllKeys(false);
  Config c=new Config();
  c.getMapConfig("test").setMapStoreConfig(new MapStoreConfig().setEnabled(true).setImplementation(mapStore));
  final String key="key";
  mapStore.store.put(key,"value");
  IMap map=Hazelcast.newHazelcastInstance(c).getMap("test");
  map.set(key,"value2",0,TimeUnit.SECONDS);
  assertFalse("MapStore load should not be called!",fail.get());
}
