{
  if (startMigration()) {
    try {
      migrate();
    }
  finally {
      afterMigrate();
    }
  }
 else {
    logMigrationCancelled();
  }
}
