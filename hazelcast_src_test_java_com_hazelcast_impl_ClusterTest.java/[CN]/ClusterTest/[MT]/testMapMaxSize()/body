{
  Config c=new XmlConfigBuilder().build();
  MapConfig mapConfig=new MapConfig();
  mapConfig.setEvictionPolicy("LRU");
  mapConfig.setMaxSize(3);
  c.getMapMapConfigs().put("default",mapConfig);
  HazelcastInstance h=Hazelcast.newHazelcastInstance(c);
  IMap map=h.getMap("default");
  for (int i=0; i < 10; i++) {
    map.put(String.valueOf(i),String.valueOf(i));
    int expectedSize=(i < 3) ? i + 1 : 3;
    assertEquals(expectedSize,map.size());
  }
}
