{
  Config config=new Config();
  config.getMapConfig("default").getMaxSizeConfig().setSize(100);
  config.getQueueConfig("default").setBackingMapName("default");
  HazelcastInstance h=Hazelcast.newHazelcastInstance(config);
  h.getTransaction().begin();
  IQueue q=h.getQueue("default");
  for (int i=0; i < 100; i++) {
    q.offer(i);
  }
  boolean result=q.offer(101);
  assertEquals(100,q.size());
  assertFalse(result);
  h.getLifecycleService().shutdown();
}
