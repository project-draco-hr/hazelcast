{
  HazelcastInstance h1=Hazelcast.newHazelcastInstance(null);
  IMap map1=h1.getMap("default");
  HazelcastInstance h2=Hazelcast.newHazelcastInstance(null);
  IMap map2=h2.getMap("default");
  CountingListener cl1=new CountingListener(100,0,0,100);
  CountingListener cl2=new CountingListener(100,0,0,100);
  map1.addEntryListener(cl1,true);
  map2.addEntryListener(cl2,true);
  for (int i=0; i < 50; i++) {
    map1.put(Integer.valueOf(i),i,5,TimeUnit.SECONDS);
    map1.put(String.valueOf(i),i,5,TimeUnit.SECONDS);
  }
  assertTrue(cl1.await(7));
  assertTrue(cl2.await(7));
}
