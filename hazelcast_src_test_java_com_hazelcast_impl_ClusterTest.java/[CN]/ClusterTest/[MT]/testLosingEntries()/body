{
  final CountDownLatch latch=new CountDownLatch(2);
  final HazelcastInstance h1=Hazelcast.newHazelcastInstance(null);
  final AtomicBoolean failed=new AtomicBoolean(false);
  new Thread(new Runnable(){
    public void run(){
      try {
        callSize(h1,110000);
      }
 catch (      Exception e) {
        failed.set(true);
        fail(e.getMessage());
      }
 finally {
        latch.countDown();
      }
    }
  }
).start();
  Thread.sleep(4000);
  final HazelcastInstance h2=Hazelcast.newHazelcastInstance(null);
  new Thread(new Runnable(){
    public void run(){
      try {
        callSize(h2,2000);
      }
 catch (      Exception e) {
        failed.set(true);
        fail(e.getMessage());
      }
 finally {
        latch.countDown();
      }
    }
  }
).start();
  latch.await();
  assertFalse(failed.get());
}
