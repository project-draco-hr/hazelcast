{
  ILock lock=Hazelcast.getLock("testLock");
  lock.lock();
  Collection<Instance> instances=Hazelcast.getInstances();
  boolean found=false;
  for (  Instance instance : instances) {
    if (instance.getInstanceType() == Instance.InstanceType.LOCK) {
      ILock lockInstance=(ILock)instance;
      if (lockInstance.getLockObject().equals("testLock")) {
        found=true;
      }
    }
  }
  Assert.assertTrue(found);
  instances=Hazelcast.getInstances();
  found=false;
  for (  Instance instance : instances) {
    if (instance.getInstanceType() == Instance.InstanceType.LOCK) {
      ILock lockInstance=(ILock)instance;
      if (lockInstance.getLockObject().equals("testLock2")) {
        found=true;
      }
    }
  }
  assertFalse(found);
  Hazelcast.getLock("testLock2");
  instances=Hazelcast.getInstances();
  found=false;
  for (  Instance instance : instances) {
    if (instance.getInstanceType() == Instance.InstanceType.LOCK) {
      ILock lockInstance=(ILock)instance;
      if (lockInstance.getLockObject().equals("testLock2")) {
        found=true;
      }
    }
  }
  Assert.assertTrue(found);
}
