{
  super(nodeEngine);
  setMapServiceContext(this);
  final int partitionCount=nodeEngine.getPartitionService().getPartitionCount();
  this.partitionContainers=new PartitionContainer[partitionCount];
  this.mapContainers=new ConcurrentHashMap<String,MapContainer>();
  this.ownedPartitions=new AtomicReference<List<Integer>>();
  this.expirationManager=new ExpirationManager(this,nodeEngine);
  this.nearCacheProvider=new NearCacheProvider(this,nodeEngine);
  this.localMapStatsProvider=new LocalMapStatsProvider(this,nodeEngine);
  this.mergePolicyProvider=new MergePolicyProvider(nodeEngine);
  this.mapEventPublisher=new MapEventPublisherSupport(this);
  this.mapContextQuerySupport=new MapContextQuerySupport(this);
}
