{
  final MapStoreWrapper store=mapContainer.getStore();
  if (store != null) {
    if (mapContainer.getWriteDelayMillis() <= 0) {
      Object objectValue=mapService.toObject(recordValue);
      store.store(mapService.toObject(dataKey),objectValue);
      if (record != null) {
        record.onStore();
      }
      return store.isPostProcessingMapStore() ? objectValue : recordValue;
    }
 else {
      mapService.scheduleMapStoreWrite(name,dataKey,recordValue,mapContainer.getWriteDelayMillis());
    }
  }
  return recordValue;
}
