{
  checkIfLoaded();
  final long now=getNow();
  final ConcurrentMap<Data,Record> records=this.records;
  final Collection<Record> values=records.values();
  List<Data> dataValueList=null;
  for (  Record record : values) {
    record=getOrNullIfExpired(record,now,false);
    if (record == null) {
      continue;
    }
    if (dataValueList == null) {
      dataValueList=new ArrayList<Data>();
    }
    final Data dataValue=toData(record.getValue());
    dataValueList.add(dataValue);
  }
  if (dataValueList == null) {
    return Collections.emptyList();
  }
  return dataValueList;
}
