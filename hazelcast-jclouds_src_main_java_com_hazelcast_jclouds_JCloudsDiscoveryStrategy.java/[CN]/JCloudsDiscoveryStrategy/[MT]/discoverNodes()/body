{
  List<DiscoveryNode> discoveryNodes=new ArrayList<DiscoveryNode>();
  try {
    Iterable<? extends NodeMetadata> nodes=computeServiceBuilder.getFilteredNodes();
    for (    NodeMetadata metadata : nodes) {
      if (metadata.getStatus() != NodeMetadata.Status.RUNNING) {
        continue;
      }
      discoveryNodes.add(buildDiscoveredNode(metadata));
    }
    if (discoveryNodes.isEmpty()) {
      LOGGER.warning("No running nodes discovered in configured cloud provider.");
    }
 else {
      StringBuilder sb=new StringBuilder("Discovered the following nodes with public IPS:\n");
      for (      DiscoveryNode node : discoveryNodes) {
        sb.append("    ").append(node.getPublicAddress().toString()).append("\n");
      }
      LOGGER.finest(sb.toString());
    }
  }
 catch (  Exception e) {
    throw new HazelcastException("Failed to get registered addresses",e);
  }
  return discoveryNodes;
}
