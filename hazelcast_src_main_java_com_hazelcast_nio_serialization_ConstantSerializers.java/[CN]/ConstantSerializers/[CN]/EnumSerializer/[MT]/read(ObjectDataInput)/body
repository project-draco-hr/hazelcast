{
  String clazzName=in.readUTF();
  Class clazz;
  try {
    clazz=in.getClassLoader().loadClass(clazzName);
  }
 catch (  ClassNotFoundException e) {
    throw new IOException("Failed to deserialize enum: " + clazzName,e);
  }
  String name=in.readUTF();
  return Enum.valueOf(clazz,name);
}
