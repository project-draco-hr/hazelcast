{
  byte b=dis.readByte();
  char c=(char)b;
  while (c != '\n') {
    if (c != '\r')     try {
      line.put(b);
    }
 catch (    BufferOverflowException boe) {
      ByteBuffer _line=ByteBuffer.allocate(line.capacity() * 2);
      _line.put(line.array());
      _line.put(b);
      line=_line;
    }
    b=dis.readByte();
    c=(char)b;
  }
  String result=SocketTextReader.toStringAndClear(line);
  if (line.capacity() > INITIAL_BUFFER_CAPACITY * 10)   line=ByteBuffer.allocate(INITIAL_BUFFER_CAPACITY);
  return result;
}
