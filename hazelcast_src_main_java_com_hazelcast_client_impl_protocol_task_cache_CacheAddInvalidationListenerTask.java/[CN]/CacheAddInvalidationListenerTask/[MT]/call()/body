{
  final ClientEndpoint endpoint=getEndpoint();
  CacheService cacheService=getService(CacheService.SERVICE_NAME);
  String registrationId=cacheService.addInvalidationListener(parameters.name,new CacheEventListener(){
    @Override public void handleEvent(    Object eventObject){
      if (eventObject instanceof CacheInvalidationMessage) {
        CacheInvalidationMessage message=(CacheInvalidationMessage)eventObject;
        if (endpoint.isAlive()) {
          ClientMessage eventMessage=CacheAddInvalidationListenerCodec.encodeCacheInvalidationEvent(message.getName(),message.getKey(),message.getSourceUuid());
          sendClientMessage(message.getKey(),eventMessage);
        }
      }
    }
  }
);
  endpoint.setListenerRegistration(CacheService.SERVICE_NAME,parameters.name,registrationId);
  return registrationId;
}
