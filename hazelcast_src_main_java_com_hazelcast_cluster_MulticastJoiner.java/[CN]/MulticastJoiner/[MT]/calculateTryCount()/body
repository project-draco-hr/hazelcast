{
  final NetworkConfig networkConfig=config.getNetworkConfig();
  int timeoutSeconds=networkConfig.getJoin().getMulticastConfig().getMulticastTimeoutSeconds();
  int tryCountCoefficient=1000 / publishInterval;
  int tryCount=timeoutSeconds * tryCountCoefficient;
  String host=node.getThisAddress().getHost();
  int lastDigits;
  try {
    lastDigits=Integer.valueOf(host.substring(host.lastIndexOf(".") + 1));
  }
 catch (  NumberFormatException e) {
    lastDigits=(int)(512 * Math.random());
  }
  lastDigits=lastDigits % 100;
  int portDiff=node.getThisAddress().getPort() - networkConfig.getPort();
  tryCount+=lastDigits + portDiff * timeoutSeconds * 3;
  return tryCount;
}
