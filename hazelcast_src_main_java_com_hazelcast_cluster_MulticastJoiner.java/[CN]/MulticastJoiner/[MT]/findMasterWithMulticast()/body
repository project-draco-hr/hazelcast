{
  try {
    JoinRequest joinRequest=node.createJoinRequest();
    while (node.isActive() && currentTryCount.incrementAndGet() <= maxTryCount.get()) {
      joinRequest.setTryCount(currentTryCount.get());
      node.multicastService.send(joinRequest);
      if (node.getMasterAddress() == null) {
        Thread.sleep(publishInterval);
      }
 else {
        return node.getMasterAddress();
      }
    }
  }
 catch (  final Exception e) {
    if (logger != null) {
      logger.log(Level.WARNING,e.getMessage(),e);
    }
  }
 finally {
    currentTryCount.set(0);
  }
  return null;
}
