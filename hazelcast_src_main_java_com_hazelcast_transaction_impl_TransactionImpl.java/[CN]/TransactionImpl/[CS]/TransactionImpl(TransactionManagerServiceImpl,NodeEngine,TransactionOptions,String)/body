{
  this.transactionLog=new TransactionLog();
  this.transactionManagerService=transactionManagerService;
  this.nodeEngine=nodeEngine;
  this.txnId=UuidUtil.buildRandomUuidString();
  this.timeoutMillis=options.getTimeoutMillis();
  this.durability=options.getDurability();
  this.transactionType=options.getTransactionType();
  this.txOwnerUuid=txOwnerUuid == null ? nodeEngine.getLocalMember().getUuid() : txOwnerUuid;
  this.checkThreadAccess=txOwnerUuid == null;
  ILogger logger=nodeEngine.getLogger(getClass());
  this.commitExceptionHandler=logAllExceptions(logger,"Error during commit!",Level.WARNING);
  this.rollbackExceptionHandler=logAllExceptions(logger,"Error during rollback!",Level.WARNING);
  this.rollbackTxExceptionHandler=logAllExceptions(logger,"Error during tx rollback backup!",Level.WARNING);
}
