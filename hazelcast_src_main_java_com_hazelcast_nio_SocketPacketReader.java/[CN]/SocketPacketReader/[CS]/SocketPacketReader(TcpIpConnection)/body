{
  this.connection=connection;
  this.ioService=connection.getConnectionManager().ioService;
  this.logger=ioService.getLogger(getClass().getName());
  boolean symmetricEncryptionEnabled=CipherHelper.isSymmetricEncryptionEnabled(ioService);
  if (symmetricEncryptionEnabled) {
    packetReader=new SymmetricCipherPacketReader();
    logger.log(Level.INFO,"Reader started with SymmetricEncryption");
  }
 else {
    packetReader=new DefaultPacketReader();
  }
}
