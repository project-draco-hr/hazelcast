{
  String uri=command.getURI();
  if (uri.startsWith(URI_MAPS)) {
    int indexEnd=uri.indexOf('/',URI_MAPS.length());
    String mapName=uri.substring(URI_MAPS.length(),indexEnd);
    String key=uri.substring(indexEnd + 1);
    Object value=textCommandService.get(mapName,key);
    if (value == null) {
      command.send204();
    }
 else {
      if (value instanceof byte[]) {
        command.setResponse(null,(byte[])value);
      }
 else {
        RestValue restValue=(RestValue)value;
        command.setResponse(restValue.getContentType(),restValue.getValue());
      }
    }
  }
 else   if (uri.startsWith(URI_CLUSTER)) {
    Node node=textCommandService.getNode();
    StringBuilder res=new StringBuilder(node.getClusterImpl().toString());
    res.append("\n");
    ConnectionManager connectionManager=node.getConnectionManager();
    res.append("ConnectionCount: " + connectionManager.getCurrentClientConnections());
    res.append("\n");
    res.append("AllConnectionCount: " + connectionManager.getAllTextConnections());
    res.append("\n");
    command.setResponse(null,res.toString().getBytes());
  }
 else {
    command.send400();
  }
  textCommandService.sendResponse(command);
}
