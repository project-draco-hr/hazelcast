{
  HazelcastClient client;
  try {
    String[] addresses=splitAddresses(ips);
    if (addresses.length > 0) {
      client=HazelcastClient.newHazelcastClient(name,pass,addresses[0]);
    }
 else {
      throw new ConnectionExceptoin("Not a valid address");
    }
  }
 catch (  RuntimeException e) {
    e.printStackTrace();
    throw new ConnectionExceptoin(e.getMessage());
  }
  client.addInstanceListener(new InstanceListener(){
    public void instanceCreated(    com.hazelcast.core.InstanceEvent event){
      Instance instance=event.getInstance();
      String name=getName(instance);
      InstanceEvent changeEvent=new InstanceCreated(id,instanceTypeMatchMap.get(event.getInstanceType()),name);
      queue.offer(changeEvent);
    }
    public void instanceDestroyed(    com.hazelcast.core.InstanceEvent event){
      Instance instance=event.getInstance();
      InstanceEvent changeEvent=new InstanceDestroyed(id,instanceTypeMatchMap.get(event.getInstanceType()),getName(instance));
      queue.offer(changeEvent);
    }
  }
);
  eventGenerators.add(new MembershipEventGenerator(client,id));
  return client;
}
