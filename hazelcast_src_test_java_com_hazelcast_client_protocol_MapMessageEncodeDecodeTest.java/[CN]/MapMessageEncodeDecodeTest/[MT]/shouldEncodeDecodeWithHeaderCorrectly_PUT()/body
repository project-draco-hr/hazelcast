{
  byteBuffer=ByteBuffer.allocate(MapPutParameters.encodeSizeCost(NAME,BYTES_DATA,BYTES_DATA));
  ClientMessage cmEncode=new ClientMessage();
  cmEncode.wrapForEncode(byteBuffer,0);
  MapPutParameters.encode(cmEncode,NAME,BYTES_DATA,BYTES_DATA,THE_LONG,THE_LONG,THE_BOOLEAN);
  cmEncode.setHeaderType(7).setVersion((short)3).setFlags(ClientMessage.BEGIN_AND_END_FLAGS).setCorrelationId(66).setPartitionId(77);
  ClientMessage cmDecode=new ClientMessage();
  cmDecode.wrapForDecode(byteBuffer,0);
  final MapPutParameters putParameters=MapPutParameters.decode(cmDecode);
  assertEquals(7,cmDecode.getHeaderType());
  assertEquals(3,cmDecode.getVersion());
  assertEquals(ClientMessage.BEGIN_AND_END_FLAGS,cmDecode.getFlags());
  assertEquals(66,cmDecode.getCorrelationId());
  assertEquals(77,cmDecode.getPartitionId());
  assertEquals(NAME,putParameters.name);
  assertArrayEquals(BYTES_DATA,putParameters.key);
  assertArrayEquals(BYTES_DATA,putParameters.value);
  assertEquals(THE_LONG,putParameters.threadId);
  assertEquals(THE_LONG,putParameters.ttl);
  assertEquals(THE_BOOLEAN,putParameters.async);
}
