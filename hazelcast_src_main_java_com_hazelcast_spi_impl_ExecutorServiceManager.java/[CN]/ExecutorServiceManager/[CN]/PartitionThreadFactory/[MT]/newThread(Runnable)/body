{
  final String name=threadName + "-" + threadNumber.getAndIncrement();
  final Thread t=new PartitionThread(partitionThreadGroup,r,name);
  t.setContextClassLoader(nodeService.getNode().getConfig().getClassLoader());
  if (t.isDaemon()) {
    t.setDaemon(false);
  }
  if (t.getPriority() != Thread.NORM_PRIORITY) {
    t.setPriority(Thread.NORM_PRIORITY);
  }
  return t;
}
