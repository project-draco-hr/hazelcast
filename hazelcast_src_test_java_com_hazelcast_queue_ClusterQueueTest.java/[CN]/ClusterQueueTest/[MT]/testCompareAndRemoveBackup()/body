{
  HazelcastInstance[] instances=createHazelcastInstances();
  HazelcastInstance instance1=instances[0];
  HazelcastInstance instance2=instances[1];
  String name=generateKeyNotOwnedBy(instance1);
  IQueue<Object> queue1=instance1.getQueue(name);
  IQueue<Object> queue2=instance2.getQueue(name);
  for (int i=0; i < 10; i++) {
    queue1.offer("item" + i);
  }
  assertSizeEventually(10,queue2);
  assertTrue(queue2.contains("item1") && queue2.contains("item2"));
  List<String> list=new ArrayList<String>();
  list.add("item1");
  list.add("item2");
  list.add("item3");
  assertTrue(queue1.removeAll(list));
  assertSizeEventually(7,queue2);
  assertTrue(queue2.contains("item7") && queue2.contains("item9"));
  assertFalse(queue2.contains("item1") && queue2.contains("item2") && queue2.contains("item3"));
}
