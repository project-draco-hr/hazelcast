{
  String name=randomString();
  HazelcastInstance[] instances=createHazelcastInstances();
  HazelcastInstance instance1=instances[0];
  HazelcastInstance instance2=instances[1];
  IQueue<Object> queue1=instance1.getQueue(name);
  IQueue<Object> queue2=instance2.getQueue(name);
  List<String> list=new ArrayList<String>();
  String itemTest=generateKeyOwnedBy(instance1);
  list.add(itemTest);
  assertTrue(queue1.addAll(list));
  instance1.shutdown();
  assertSizeEventually(1,queue2);
  assertTrue(queue2.contains(itemTest));
}
