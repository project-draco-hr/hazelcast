{
  CollectionContainer container=getOrCreateContainer();
  Collection<CollectionRecord> coll=getOrCreateCollection();
  Collection<CollectionRecord> recordList=new ArrayList<CollectionRecord>(dataList.size());
  for (  Data data : dataList) {
    recordList.add(new CollectionRecord(container.nextId(),isBinary() ? data : toObject(data)));
  }
  if (index == -1) {
    response=coll.addAll(recordList);
  }
 else {
    List list=(List)coll;
    try {
      response=list.addAll(index,recordList);
    }
 catch (    IndexOutOfBoundsException e) {
      response=e;
    }
  }
}
