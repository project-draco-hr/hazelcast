{
  CollectionContainer container=getOrCreateContainer();
  Collection<CollectionRecord> coll=container.getOrCreateCollectionWrapper(dataKey).getCollection();
  List list=(List)coll;
  recordList=new ArrayList<CollectionRecord>(dataList.size());
  try {
    int i=0;
    for (    Data data : dataList) {
      CollectionRecord record=new CollectionRecord(isBinary() ? data : toObject(data));
      boolean added=true;
      if (index == -1) {
        added=coll.add(record);
      }
 else {
        list.add(index + (i++),record);
      }
      if (added) {
        record.setRecordId(container.nextId());
        recordList.add(record);
      }
    }
    response=recordList.size() != 0;
  }
 catch (  IndexOutOfBoundsException e) {
    response=e;
  }
}
