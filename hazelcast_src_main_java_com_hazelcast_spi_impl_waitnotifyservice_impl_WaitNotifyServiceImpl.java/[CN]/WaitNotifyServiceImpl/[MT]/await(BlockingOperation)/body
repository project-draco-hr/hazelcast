{
  final WaitNotifyKey key=blockingOperation.getWaitKey();
  final Queue<WaitingOperation> q=ConcurrencyUtil.getOrPutIfAbsent(mapWaitingOps,key,waitQueueConstructor);
  long timeout=blockingOperation.getWaitTimeout();
  WaitingOperation waitingOp=new WaitingOperation(q,blockingOperation);
  waitingOp.setNodeEngine(nodeEngine);
  q.offer(waitingOp);
  if (timeout > -1 && timeout < TIMEOUT_UPPER_BOUND) {
    delayQueue.offer(waitingOp);
  }
}
