{
  ClientContext context=getContext();
  NearCacheConfig nearCacheConfig=context.getClientConfig().getNearCacheConfig(name);
  int partitionCount=context.getPartitionService().getPartitionCount();
  ClientHeapNearCache<Data> clientHeapNearCache=new ClientHeapNearCache<Data>(name,getContext(),nearCacheConfig);
  nearCache=wrapAsStaleReadPreventerNearCache(clientHeapNearCache,partitionCount);
  keyStateMarker=getKeyStateMarker();
  invalidateOnChange=this.nearCache.isInvalidateOnChange();
  if (invalidateOnChange) {
    addNearCacheInvalidateListener();
  }
}
