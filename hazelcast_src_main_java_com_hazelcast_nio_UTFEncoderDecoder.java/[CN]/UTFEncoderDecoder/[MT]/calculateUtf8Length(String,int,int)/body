{
  int utfLength=0;
  for (int i=beginIndex; i < endIndex; i++) {
    int c=str.charAt(i);
    if (c <= 0x007F && c >= 0x0001) {
      utfLength+=1;
    }
 else     if (c > 0x07FF) {
      utfLength+=3;
    }
 else {
      utfLength+=2;
    }
  }
  return utfLength;
}
