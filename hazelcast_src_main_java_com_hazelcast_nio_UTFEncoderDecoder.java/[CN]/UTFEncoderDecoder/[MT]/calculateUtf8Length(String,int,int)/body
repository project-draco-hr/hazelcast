{
  int utfLength=0;
  for (int i=beginIndex; i < endIndex; i++) {
    int c=value.charAt(i);
    if ((c >= 0x0001) && (c <= 0x007F)) {
      utfLength++;
    }
 else     if (c > 0x07FF) {
      utfLength+=3;
    }
 else {
      utfLength+=2;
    }
  }
  return utfLength;
}
