{
  UnsafeBasedCharArrayUtfWriter unsafeBasedUtfWriter=new UnsafeBasedCharArrayUtfWriter();
  if (unsafeBasedUtfWriter.isAvailable()) {
    return unsafeBasedUtfWriter;
  }
  ReflectionBasedCharArrayUtfWriter reflectionBasedUtfWriter=new ReflectionBasedCharArrayUtfWriter();
  if (reflectionBasedUtfWriter.isAvailable()) {
    return reflectionBasedUtfWriter;
  }
  return new StringBasedUtfWriter();
}
