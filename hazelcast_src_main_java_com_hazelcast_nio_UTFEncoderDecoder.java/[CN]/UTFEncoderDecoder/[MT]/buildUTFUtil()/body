{
  boolean enterpriseAvailable=HazelcastUtil.isEnterprise();
  if (enterpriseAvailable) {
    try {
      Class<?> clazz=Class.forName("com.hazelcast.nio.utf8.EnterpriseStringCreator");
      Method method=clazz.getDeclaredMethod("findBestStringCreator");
      return new UTFEncoderDecoder((StringCreator)method.invoke(clazz));
    }
 catch (    Throwable t) {
    }
  }
  boolean faststringEnabled=Boolean.parseBoolean(System.getProperty("hazelcast.nio.faststring","true"));
  return new UTFEncoderDecoder(faststringEnabled ? buildFastStringCreator() : new DefaultStringCreator());
}
