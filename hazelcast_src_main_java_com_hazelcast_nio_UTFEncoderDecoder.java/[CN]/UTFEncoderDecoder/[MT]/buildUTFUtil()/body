{
  try {
    Class<?> clazz=Class.forName("com.hazelcast.nio.utf8.EnterpriseStringCreator");
    Method method=clazz.getDeclaredMethod("findBestStringCreator");
    return new UTFEncoderDecoder((StringCreator)method.invoke(clazz),true);
  }
 catch (  Throwable t) {
    Logger.getLogger(UTFEncoderDecoder.class).finest("EnterpriseStringCreator not available on classpath",t);
  }
  boolean faststringEnabled=Boolean.parseBoolean(System.getProperty("hazelcast.nio.faststring","true"));
  return new UTFEncoderDecoder(faststringEnabled ? buildFastStringCreator() : new DefaultStringCreator(),false);
}
