{
  try {
    buffer[pos]=value;
    return pos + 1;
  }
 catch (  ArrayIndexOutOfBoundsException e) {
    out.write(buffer,0,buffer.length);
    buffer[0]=value;
    return 1;
  }
}
