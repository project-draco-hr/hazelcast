{
  CollectionContainer container=getOrCreateContainer();
  CollectionWrapper wrapper=container.getCollectionWrapper(dataKey);
  response=true;
  if (recordId == -1) {
    container.unlock(dataKey,getCallerUuid(),threadId);
    return;
  }
  if (wrapper == null || !wrapper.containsRecordId(recordId)) {
    response=false;
    return;
  }
  Collection<CollectionRecord> coll=wrapper.getCollection();
  Iterator<CollectionRecord> iter=coll.iterator();
  while (iter.hasNext()) {
    if (iter.next().getRecordId() == recordId) {
      iter.remove();
      break;
    }
  }
  if (coll.isEmpty()) {
    removeCollection();
  }
  container.unlock(dataKey,caller,threadId);
}
