{
  boolean foundClearEvent=false;
  List<SingleNearCacheInvalidation> invalidations=new ArrayList<SingleNearCacheInvalidation>(size);
  for (int i=0; i < size; i++) {
    SingleNearCacheInvalidation invalidation=invalidationQueue.poll();
    if (invalidation == null) {
      break;
    }
    if (foundClearEvent) {
      continue;
    }
    if (invalidation.getKey() == null) {
      foundClearEvent=true;
      invalidations=singletonList(invalidation);
    }
 else {
      invalidations.add(invalidation);
    }
  }
  return invalidations;
}
