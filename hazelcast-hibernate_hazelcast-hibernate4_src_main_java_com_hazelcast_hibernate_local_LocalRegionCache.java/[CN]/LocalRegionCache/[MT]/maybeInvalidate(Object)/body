{
  Invalidation invalidation=(Invalidation)messageObject;
  Object key=invalidation.getKey();
  if (key == null) {
    cache.clear();
  }
 else   if (versionComparator == null) {
    cache.remove(key);
  }
 else {
    final Expirable value=cache.get(key);
    if (value != null) {
      maybeInvalidateVersionedEntity(key,value,invalidation.getVersion());
    }
  }
}
