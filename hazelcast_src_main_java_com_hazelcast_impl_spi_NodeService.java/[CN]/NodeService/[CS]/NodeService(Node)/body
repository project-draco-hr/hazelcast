{
  this.node=node;
  logger=node.getLogger(NodeService.class.getName());
  final ClassLoader classLoader=node.getConfig().getClassLoader();
  executorService=new ThreadPoolExecutor(3,Integer.MAX_VALUE,60L,TimeUnit.SECONDS,new SynchronousQueue(),new NodeExecutorThreadFactory(node.getThreadPoolNamePrefix("cached"),classLoader));
  scheduledExecutorService=new ScheduledThreadPoolExecutor(2,new NodeExecutorThreadFactory(node.getThreadPoolNamePrefix("scheduled"),classLoader));
  nonBlockingWorkers=new Workers("nonBlocking",1);
  final int threadCount=Runtime.getRuntime().availableProcessors() * 2;
  blockingWorkers=new Workers("blocking",threadCount);
  partitionCount=node.groupProperties.CONCURRENT_MAP_PARTITION_COUNT.getInteger();
  maxBackupCount=MapConfig.MAX_BACKUP_COUNT;
}
