{
  try {
    long requestId=lastRequestId.addAndGet(1);
    requestLocal.set(requestId);
    getNext().invoke(request,response);
    HazelcastSessionFacade ses=(HazelcastSessionFacade)request.getSession();
    List<HazelcastAttribute> touchedList=ses.getTouchedAttributes(requestId);
    for (    HazelcastAttribute hattribute : touchedList) {
      hazelAttributes.put(hattribute.getKey(),hattribute);
    }
  }
  finally {
    requestLocal.remove();
  }
}
