{
  if (!registrations.isEmpty()) {
    try {
      latch.tryAcquire(registrations.size(),time,unit);
    }
 catch (    InterruptedException ignored) {
    }
    for (    Map.Entry<String,HazelcastInstanceImpl> entry : registrations.entrySet()) {
      final HazelcastInstanceImpl instance=entry.getValue();
      instance.node.clusterService.removeMembershipListener(entry.getKey());
    }
    registrations.clear();
  }
}
