{
  try {
    Address thisAddress=node.getThisAddress();
    boolean source=thisAddress.equals(migrationInfo.getSource());
    boolean destination=thisAddress.equals(migrationInfo.getDestination());
    if (source || destination) {
      int partitionId=migrationInfo.getPartitionId();
      InternalPartitionImpl migratingPartition=getPartitionImpl(partitionId);
      Address ownerAddress=migratingPartition.getOwnerOrNull();
      boolean success=migrationInfo.getDestination().equals(ownerAddress);
      MigrationEndpoint endpoint=(source ? MigrationEndpoint.SOURCE : MigrationEndpoint.DESTINATION);
      FinalizeMigrationOperation op=new FinalizeMigrationOperation(endpoint,success);
      op.setPartitionId(partitionId).setNodeEngine(nodeEngine).setValidateTarget(false).setService(this);
      nodeEngine.getOperationService().executeOperation(op);
    }
  }
 catch (  Exception e) {
    logger.warning(e);
  }
 finally {
    migrationInfo.doneProcessing();
  }
}
