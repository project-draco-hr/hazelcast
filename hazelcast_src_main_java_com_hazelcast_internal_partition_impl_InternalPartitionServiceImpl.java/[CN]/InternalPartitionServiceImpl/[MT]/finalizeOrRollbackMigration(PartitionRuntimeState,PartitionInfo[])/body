{
  Collection<MigrationInfo> completedMigrations=partitionState.getCompletedMigrations();
  for (  MigrationInfo completedMigration : completedMigrations) {
    addCompletedMigration(completedMigration);
    int partitionId=completedMigration.getPartitionId();
    PartitionInfo partitionInfo=state[partitionId];
    updatePartitionReplicaAddresses(partitionInfo.getPartitionId(),partitionInfo.getReplicaAddresses());
    scheduleActiveMigrationFinalization(completedMigration);
  }
  updateAllPartitions(state);
}
