{
  sslEngineResult=sslEngine.wrap(input,cTOs);
  cTOs.flip();
  int written=socketChannel.write(cTOs);
  if (cTOs.hasRemaining()) {
    cTOs.compact();
  }
 else {
    cTOs.clear();
  }
  return written;
}
