{
  final Address endPoint=conn.getEndPoint();
  if (endPoint == null) {
    return;
  }
  final ILogger logger=node.getLogger(MasterConfirmation.class.getName());
  final ClusterManager clusterManager=node.clusterManager;
  final MemberImpl member=clusterManager.getMember(endPoint);
  if (member != null) {
    if (getNode().isMaster()) {
      if (logger.isLoggable(Level.FINEST)) {
        logger.log(Level.FINEST,"MasterConfirmation has been received from " + member);
      }
      clusterManager.memberMasterConfirmationTimes.put(member,Clock.currentTimeMillis());
    }
 else {
      logger.log(Level.WARNING,endPoint + " has sent MasterConfirmation, but this node is not master!");
    }
  }
 else {
    logger.log(Level.WARNING,"MasterConfirmation has been received from " + endPoint + ", but it is not a member of this cluster!");
    clusterManager.sendProcessableTo(new MemberRemover(clusterManager.thisAddress),conn);
  }
}
