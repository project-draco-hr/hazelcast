{
  checkServiceThread();
  logger.log(Level.FINEST,"MEMBERS UPDATE!!");
  lsMembersBefore.clear();
  Map<Address,MemberImpl> mapOldMembers=new HashMap<Address,MemberImpl>();
  for (  MemberImpl member : lsMembers) {
    lsMembersBefore.add(member);
    mapOldMembers.put(member.getAddress(),member);
  }
  lsMembers.clear();
  mapMembers.clear();
  for (  MemberInfo memberInfo : lsMemberInfos) {
    MemberImpl member=mapOldMembers.get(memberInfo.address);
    if (member == null) {
      member=addMember(memberInfo.address,memberInfo.nodeType);
    }
 else {
      addMember(member);
    }
    member.didRead();
  }
  if (!lsMembers.contains(thisMember)) {
    throw new RuntimeException("Member list doesn't contain local member!");
  }
  heartBeater();
  node.getClusterImpl().setMembers(lsMembers);
  node.unlock();
  logger.log(Level.INFO,this.toString());
}
