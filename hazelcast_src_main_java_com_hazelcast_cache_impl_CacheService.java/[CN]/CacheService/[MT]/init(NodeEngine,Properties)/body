{
  logger=nodeEngine.getLogger(getClass());
  this.nodeEngine=nodeEngine;
  int partitionCount=nodeEngine.getPartitionService().getPartitionCount();
  segments=new CachePartitionSegment[partitionCount];
  for (int i=0; i < partitionCount; i++) {
    segments[i]=new CachePartitionSegment(nodeEngine,this,i);
  }
  eventRegistrationMap=new ConcurrentHashMap<String,Map<CacheEntryListenerConfiguration,EventRegistration>>();
}
