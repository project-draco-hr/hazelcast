{
  Iterator<ListenerItem> it=listeners.iterator();
  for (; it.hasNext(); ) {
    ListenerItem listenerItem=it.next();
    if (listener == listenerItem.listener) {
      if (key == null && listenerItem.key == null) {
        listeners.remove(listenerItem);
      }
 else       if (key != null && key.equals(listenerItem.key)) {
        listeners.remove(listenerItem);
      }
    }
  }
  it=listeners.iterator();
  boolean left=false;
  for (; it.hasNext(); ) {
    ListenerItem listenerItem=it.next();
    if (key == null && listenerItem.key == null) {
      left=true;
    }
 else     if (key != null && key.equals(listenerItem.key)) {
      left=true;
    }
  }
  if (!left) {
    registerListener(name,key,false,false);
  }
}
