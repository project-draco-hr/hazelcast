{
  try {
    DynamicMBean mbean=MBeanBuilder.buildMBean((Instance)instance);
    if (mbean == null) {
      logger.log(Level.FINE,"Unsupported instance type " + instance.getClass().getName());
    }
 else {
      ObjectName name=MBeanBuilder.buildName(instance);
      logger.log(Level.FINEST,"Register MBean {0}",name);
      MBeanServer mbs=ManagementFactory.getPlatformMBeanServer();
synchronized (this) {
        if (!mbs.isRegistered(name)) {
          mbs.registerMBean(mbean,name);
        }
      }
    }
  }
 catch (  Exception e) {
    logger.log(Level.FINE,"Unable to register MBean",e);
  }
}
