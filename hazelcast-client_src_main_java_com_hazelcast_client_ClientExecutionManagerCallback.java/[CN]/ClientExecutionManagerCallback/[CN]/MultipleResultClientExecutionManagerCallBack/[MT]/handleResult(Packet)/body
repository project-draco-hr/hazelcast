{
  Object o=toObject(packet.getValue());
  if (o instanceof ExecutionException) {
    ExecutionException e=(ExecutionException)o;
    throw e;
  }
  if (o instanceof Collection) {
    return (Collection)o;
  }
  throw new RuntimeException("Should return collection, but returned object is: " + o);
}
