{
  boolean useSpringAwareFilter=!StringUtil.isNullOrEmpty(System.getProperty(USE_SPRING_AWARE_FILTER_PROPERTY));
  if (!useSpringAwareFilter) {
    String useSpringAwareFilterConfig=filterConfig.getInitParameter(USE_SPRING_AWARE_FILTER_PROPERTY);
    if (!StringUtil.isNullOrEmpty(useSpringAwareFilterConfig)) {
      useSpringAwareFilter=Boolean.parseBoolean(useSpringAwareFilterConfig);
    }
  }
  if (useSpringAwareFilter) {
    delegatedWebFilter=new SpringAwareWebFilter();
  }
 else {
    delegatedWebFilter=new WebFilter();
  }
  delegatedWebFilter.init(filterConfig);
}
