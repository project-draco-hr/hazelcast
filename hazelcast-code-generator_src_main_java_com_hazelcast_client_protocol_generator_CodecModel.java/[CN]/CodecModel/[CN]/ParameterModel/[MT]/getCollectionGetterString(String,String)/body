{
  String itemVariableType=CodeGenerationUtils.getTypeInsideCollection(type);
  String itemVariableName=name + "_item";
  StringBuilder builder=new StringBuilder();
  String sizeVariableName=name + "_size";
  String indexVariableName=name + "_index";
  builder.append("int " + sizeVariableName + " = clientMessage.getInt();\n        ");
  String collectionType=getCollectionType(type);
  builder.append(name + " = new " + collectionType+ "<"+ itemVariableType+ ">("+ sizeVariableName+ ");\n        ");
  builder.append("for (int " + indexVariableName + " = 0; "+ indexVariableName+ " < "+ sizeVariableName+ "; "+ indexVariableName+ "++) {\n        ");
  builder.append("    " + itemVariableType + " "+ itemVariableName+ ";\n        ");
  builder.append("    " + resolveDataGetterStringJava(itemVariableType,itemVariableName) + "\n        ");
  builder.append("    " + name + ".add( "+ itemVariableName+ ");\n      ");
  builder.append("}\n        ");
  return builder.toString();
}
