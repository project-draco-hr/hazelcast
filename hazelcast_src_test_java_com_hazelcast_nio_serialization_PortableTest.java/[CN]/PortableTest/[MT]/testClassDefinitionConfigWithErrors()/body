{
  SerializationConfig serializationConfig=new SerializationConfig();
  serializationConfig.setPortableFactory(new TestPortableFactory());
  serializationConfig.setPortableVersion(1);
  serializationConfig.addClassDefinition(new ClassDefinitionBuilder(RawDataPortable.CLASS_ID).addLongField("l").addCharArrayField("c").addPortableField("p",NamedPortable.CLASS_ID).build());
  try {
    new SerializationServiceImpl(serializationConfig,null);
    Assert.fail("Should throw HazelcastSerializationException!");
  }
 catch (  HazelcastSerializationException e) {
  }
  serializationConfig.setCheckClassDefErrors(false);
  new SerializationServiceImpl(serializationConfig,null);
}
