{
  final SerializationService serializationService=createSerializationService(1);
  RawDataPortable p=new RawDataPortable(System.currentTimeMillis(),"test chars".toCharArray(),new NamedPortable("named portable",34567),9876,"Testing raw portable",new SimpleDataSerializable("test bytes".getBytes()));
  ClassDefinitionBuilder builder=new ClassDefinitionBuilder(p.getFactoryId(),p.getClassId());
  builder.addLongField("l").addCharArrayField("c").addPortableField("p",FACTORY_ID,NamedPortable.CLASS_ID);
  serializationService.getSerializationContext().registerClassDefinition(builder.build());
  final Data data=serializationService.toData(p);
  Assert.assertEquals(p,serializationService.toObject(data));
}
