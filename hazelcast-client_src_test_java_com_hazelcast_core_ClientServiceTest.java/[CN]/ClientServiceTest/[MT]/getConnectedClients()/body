{
  Config config=new Config();
  HazelcastInstance h=Hazelcast.newHazelcastInstance(config);
  ClientConfig clientConfig=new ClientConfig();
  clientConfig.addInetSocketAddress(h.getCluster().getLocalMember().getInetSocketAddress());
  Map<Integer,HazelcastClient> map=new HashMap<Integer,HazelcastClient>();
  for (int i=0; i < 5; i++) {
    HazelcastClient client=HazelcastClient.newHazelcastClient(clientConfig);
    map.put(i,client);
  }
  assertEquals(map.size(),h.getClientService().getConnectedClients().size());
  for (  Client client : h.getClientService().getConnectedClients()) {
    assertEquals(ClientType.Native,client.getClientType());
    System.out.println(client.getSocketAddress());
  }
  for (  HazelcastClient client : map.values()) {
    client.getLifecycleService().shutdown();
  }
}
