{
  lock.lock();
  try {
    List<MemberInfo> memberInfos=new ArrayList<MemberInfo>(members.size());
    for (    MemberImpl member : members) {
      MemberInfo memberInfo=new MemberInfo(member.getAddress(),member.getUuid(),member.getAttributes());
      memberInfos.add(memberInfo);
    }
    ArrayList<MigrationInfo> migrationInfos=new ArrayList<MigrationInfo>(completedMigrations);
    final long clusterTime=node.getClusterService().getClusterTime();
    return new PartitionRuntimeState(memberInfos,partitions,migrationInfos,clusterTime,stateVersion.get());
  }
  finally {
    lock.unlock();
  }
}
