{
  for (  InternalPartitionImpl partition : partitions) {
    if (deadAddress.equals(partition.getOwnerOrNull()) && thisAddress.equals(partition.getReplicaAddress(1))) {
      partition.setMigrating(true);
    }
    partition.onDeadAddress(deadAddress);
    if (partition.onDeadAddress(deadAddress)) {
      throw new IllegalStateException("Duplicate address found in partition replicas!");
    }
  }
}
