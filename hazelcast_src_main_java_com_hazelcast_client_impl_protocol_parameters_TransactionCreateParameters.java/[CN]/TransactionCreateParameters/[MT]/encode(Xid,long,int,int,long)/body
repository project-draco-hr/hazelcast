{
  final int requiredDataSize=calculateDataSize(xid,timeout,durability,transactionType,threadId);
  ClientMessage clientMessage=ClientMessage.createForEncode(requiredDataSize);
  clientMessage.ensureCapacity(requiredDataSize);
  XIDCodec.encode(xid,clientMessage);
  clientMessage.set(timeout).set(durability).set(transactionType).set(threadId);
  clientMessage.setMessageType(TYPE.id());
  clientMessage.updateFrameLength();
  return clientMessage;
}
