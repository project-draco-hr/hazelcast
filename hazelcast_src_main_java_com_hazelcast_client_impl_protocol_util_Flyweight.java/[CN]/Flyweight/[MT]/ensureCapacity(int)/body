{
  final int capacity=buffer.capacity() > 0 ? buffer.capacity() : 1;
  if (requiredCapacity > capacity) {
    final int newCapacity=findSuitableCapacity(capacity,requiredCapacity);
    ByteBuffer newBuffer=ByteBuffer.allocate(newCapacity);
    newBuffer.put(buffer.byteBuffer());
    buffer.wrap(newBuffer);
  }
}
