{
  final IMap tradeMap=createMap();
  final CountDownLatch countDownLatch=new CountDownLatch(1);
  final AtomicInteger atomicInteger=new AtomicInteger(0);
  EntryListener listener=new EntryAdapter(){
    @Override public void entryAdded(    EntryEvent event){
      atomicInteger.incrementAndGet();
      countDownLatch.countDown();
    }
  }
;
  NamedPortable key=new NamedPortable("named",1);
  tradeMap.addEntryListener(listener,key,true);
  NamedPortable key2=new NamedPortable("named",2);
  tradeMap.put(key2,1);
  tradeMap.put(key,1);
  assertOpenEventually(countDownLatch);
  assertEquals(1,atomicInteger.get());
}
