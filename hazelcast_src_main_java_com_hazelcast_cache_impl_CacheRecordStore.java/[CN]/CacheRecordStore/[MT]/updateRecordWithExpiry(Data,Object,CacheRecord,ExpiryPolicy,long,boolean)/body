{
  long et=-1L;
  try {
    Duration expiryDuration=localExpiryPolicy.getExpiryForUpdate();
    if (expiryDuration != null) {
      et=expiryDuration.getAdjustedTime(now);
      record.setExpirationTime(et);
    }
  }
 catch (  Throwable t) {
  }
  if (!disableWriteThrough) {
    writeThroughCache(key,value);
  }
  updateRecord(record,value);
  if (isExpiredAt(et,now)) {
    processExpiredEntry(key,record);
  }
 else {
    return true;
  }
  return false;
}
