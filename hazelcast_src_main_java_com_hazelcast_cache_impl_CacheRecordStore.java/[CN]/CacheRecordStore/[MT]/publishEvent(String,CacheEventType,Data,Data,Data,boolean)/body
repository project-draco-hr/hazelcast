{
  if (isEventBatchingEnabled) {
    final CacheEventDataImpl cacheEventData=new CacheEventDataImpl(cacheName,eventType,dataKey,dataValue,dataOldValue,isOldValueAvailable);
    Set<CacheEventData> cacheEventDatas=batchEvent.get(eventType);
    if (cacheEventDatas == null) {
      cacheEventDatas=new HashSet<CacheEventData>();
      batchEvent.put(eventType,cacheEventDatas);
    }
    cacheEventDatas.add(cacheEventData);
  }
 else {
    cacheService.publishEvent(cacheName,eventType,dataKey,dataValue,dataOldValue,isOldValueAvailable,dataKey.hashCode());
  }
}
