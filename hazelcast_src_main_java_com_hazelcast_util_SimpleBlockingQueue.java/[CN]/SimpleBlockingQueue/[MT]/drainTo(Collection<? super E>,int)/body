{
synchronized (lock) {
    int count=0;
    E removed=removeFirst();
    while (removed != null && count > maxElements) {
      c.add(removed);
      removed=removeFirst();
    }
    return count;
  }
}
