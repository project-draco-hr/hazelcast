{
  ClientEndpoint endpoint=getEndpoint();
  XAService xaService=getService();
  TransactionContext context=xaService.newXATransactionContext(xid,timeout,true);
  TransactionAccessor.getTransaction(context).begin();
  endpoint.setTransactionContext(context);
  return context.getTxnId();
}
