{
  ClientEndpoint endpoint=getEndpoint();
  XAService xaService=getService();
  TransactionContext context=xaService.newXaTransactionContext(xid,timeout);
  TransactionAccessor.getTransaction(context).begin();
  endpoint.setTransactionContext(context);
  return context.getTxnId();
}
