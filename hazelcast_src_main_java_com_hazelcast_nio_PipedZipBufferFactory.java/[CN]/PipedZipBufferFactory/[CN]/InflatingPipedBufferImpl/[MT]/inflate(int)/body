{
  try {
    inflater.setInput(compressedBuffer.array(),0,length);
    final int count=inflater.inflate(uncompressedBuffer.array());
    uncompressedBuffer.limit(count);
    uncompressedBuffer.position(0);
    return count;
  }
  finally {
    inflater.reset();
  }
}
