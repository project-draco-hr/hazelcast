{
  while (connectionManager.isLive()) {
    final int keyCount=selector.select();
    if (isInterrupted()) {
      break;
    }
    if (keyCount == 0) {
      continue;
    }
    final Set<SelectionKey> setSelectedKeys=selector.selectedKeys();
    final Iterator<SelectionKey> it=setSelectedKeys.iterator();
    while (it.hasNext()) {
      final SelectionKey sk=it.next();
      it.remove();
      if (sk.isValid() && sk.isAcceptable()) {
        acceptSocket();
      }
    }
  }
}
