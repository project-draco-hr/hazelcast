{
  out.writeBoolean(object != null);
  if (object != null) {
    int size=object.size();
    out.writeInt(size);
    if (object instanceof RandomAccess) {
      out.writeInt(0);
      for (int i=0; i < size; i++) {
        out.writeObject(object.get(i));
      }
    }
 else {
      out.writeInt(1);
      Iterator iterator=object.iterator();
      while (iterator.hasNext()) {
        out.writeObject(iterator.next());
      }
    }
  }
}
