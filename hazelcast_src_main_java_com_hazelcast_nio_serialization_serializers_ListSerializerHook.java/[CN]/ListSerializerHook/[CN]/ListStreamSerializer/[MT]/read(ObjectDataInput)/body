{
  if (in.readBoolean()) {
    int size=in.readInt();
    ArrayList result=new ArrayList(size);
    boolean hasDataSerializable=in.readBoolean();
    if (hasDataSerializable) {
      for (int i=0; i < size; i++) {
        Object o=new Object();
        ((DataSerializable)o).readData(in);
        result.add(i,o);
      }
    }
 else {
      for (int i=0; i < size; i++) {
        result.add(i,in.readObject());
      }
    }
    return result;
  }
  return null;
}
