{
  final SerializationHelper serializer=new SerializationHelper(serializerRegistry);
  final ExternalizableImpl o=new ExternalizableImpl();
  o.s="Gallaxy";
  o.v=42;
  final Data data=serializer.writeObject(o);
  byte[] b=data.buffer;
  assertFalse(b.length == 0);
  assertFalse(o.readExternal);
  assertTrue(o.writeExternal);
  final ExternalizableImpl object=(ExternalizableImpl)serializer.readObject(data);
  assertNotNull(object);
  assertNotSame(o,object);
  assertEquals(o,object);
  assertTrue(object.readExternal);
  assertFalse(object.writeExternal);
}
