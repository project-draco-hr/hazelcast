{
  MapContainer mapContainer=getMapContainer(name);
  Record record=mapContainer.getRecordFactory().newRecord(dataKey,value);
  record.setLastAccessTime(now);
  record.setLastUpdateTime(now);
  record.setCreationTime(now);
  final long ttlFromMapConfig=getTimeToLive(mapContainer);
  if (ttl < 0L && ttlFromMapConfig > 0L) {
    record.setTtl(ttlFromMapConfig);
  }
 else   if (ttl > 0L) {
    record.setTtl(ttl);
  }
  return record;
}
