{
  Collection<EventRegistration> candidates=nodeEngine.getEventService().getRegistrations(MAP_SERVICE_NAME,mapName);
  Set<EventRegistration> registrationsWithValue=new HashSet<EventRegistration>();
  Set<EventRegistration> registrationsWithoutValue=new HashSet<EventRegistration>();
  for (  EventRegistration candidate : candidates) {
    EntryEventFilter filter=(EntryEventFilter)candidate.getFilter();
    if (filter.eval(dataKey)) {
      if (filter.isIncludeValue()) {
        registrationsWithValue.add(candidate);
      }
 else {
        registrationsWithoutValue.add(candidate);
      }
    }
  }
  if (registrationsWithValue.isEmpty() && registrationsWithoutValue.isEmpty())   return;
  String source=nodeEngine.getNode().address.toString();
  EventData event=new EventData(source,caller,dataKey,dataValue,dataOldValue,eventType);
  nodeEngine.getEventService().publishEvent(MAP_SERVICE_NAME,registrationsWithValue,toData(event));
  nodeEngine.getEventService().publishEvent(MAP_SERVICE_NAME,registrationsWithoutValue,toData(event.cloneWithoutValues()));
}
