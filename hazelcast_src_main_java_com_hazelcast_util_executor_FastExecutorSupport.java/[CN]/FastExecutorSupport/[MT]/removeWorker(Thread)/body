{
  lock.lockInterruptibly();
  try {
    if (activeThreadCount > coreThreadSize || allowCoreThreadTimeout) {
      threads.remove(workerThread);
      activeThreadCount--;
      final WorkerLifecycleInterceptor workerInterceptor=interceptor;
      if (workerInterceptor != null) {
        workerInterceptor.afterWorkerTerminate();
      }
      return true;
    }
  }
  finally {
    lock.unlock();
  }
  return false;
}
