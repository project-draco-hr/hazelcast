{
  TestHazelcastInstanceFactory factory=createHazelcastInstanceFactory(2);
  final HazelcastInstance instance1=factory.newHazelcastInstance();
  final HazelcastInstance instance2=factory.newHazelcastInstance();
  final TransactionContext context=instance1.newTransactionContext();
  context.beginTransaction();
  TransactionalQueue txnQ1=context.getQueue("testQueueOfferRollbackSize");
  TransactionalQueue txnQ2=context.getQueue("testQueueOfferRollbackSize");
  txnQ1.offer("item");
  assertEquals(1,txnQ1.size());
  assertEquals(1,txnQ2.size());
  context.rollbackTransaction();
  assertEquals(0,instance1.getQueue("testQueueOfferRollbackSize").size());
  assertEquals(0,instance2.getQueue("testQueueOfferRollbackSize").size());
}
