{
  Config config1=new Config();
  config1.setProperty(GroupProperties.PROP_WAIT_SECONDS_BEFORE_JOIN,"0");
  config1.setProperty(GroupProperties.PROP_MAX_JOIN_SECONDS,"3");
  config1.getNetworkConfig().getJoin().getMulticastConfig().setEnabled(false);
  config1.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true).setConnectionTimeoutSeconds(3).addMember("127.0.0.1");
  config1.getPartitionGroupConfig().setEnabled(true).setGroupType(PartitionGroupConfig.MemberGroupType.CUSTOM);
  HazelcastInstance h1=Hazelcast.newHazelcastInstance(config1);
  Config config2=new Config();
  config2.setProperty(GroupProperties.PROP_WAIT_SECONDS_BEFORE_JOIN,"0");
  config2.setProperty(GroupProperties.PROP_MAX_JOIN_SECONDS,"3");
  config2.getNetworkConfig().getJoin().getMulticastConfig().setEnabled(false);
  config2.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true).setConnectionTimeoutSeconds(3).addMember("127.0.0.1");
  config2.getPartitionGroupConfig().setEnabled(true).setGroupType(PartitionGroupConfig.MemberGroupType.HOST_AWARE);
  HazelcastInstance h2=Hazelcast.newHazelcastInstance(config2);
  assertEquals(1,h1.getCluster().getMembers().size());
  assertEquals(1,h2.getCluster().getMembers().size());
}
