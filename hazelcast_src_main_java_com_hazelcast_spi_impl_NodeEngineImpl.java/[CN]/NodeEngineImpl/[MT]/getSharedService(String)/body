{
  final ServiceInfo serviceInfo=serviceManager.getServiceInfo(serviceName);
  Object service=serviceInfo != null ? serviceInfo.getService() : null;
  if (service == null) {
    return null;
  }
  if (service instanceof SharedService) {
    return (T)service;
  }
  throw new IllegalArgumentException("No SharedService registered with name: " + serviceName);
}
