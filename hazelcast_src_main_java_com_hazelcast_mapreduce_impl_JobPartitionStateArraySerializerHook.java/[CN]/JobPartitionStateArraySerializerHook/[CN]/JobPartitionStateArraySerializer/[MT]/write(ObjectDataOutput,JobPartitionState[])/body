{
  out.writeBoolean(partitionStates != null);
  if (partitionStates != null) {
    out.writeInt(partitionStates.length);
    for (    JobPartitionState partitionState : partitionStates) {
      out.writeBoolean(partitionState != null);
      if (partitionState != null) {
        out.writeObject(partitionState.getOwner());
        out.writeInt(partitionState.getState().ordinal());
      }
    }
  }
}
