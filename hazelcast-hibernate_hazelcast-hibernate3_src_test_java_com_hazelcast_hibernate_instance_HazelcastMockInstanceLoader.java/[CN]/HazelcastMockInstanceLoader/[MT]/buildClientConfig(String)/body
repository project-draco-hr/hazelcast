{
  ClientConfig clientConfig=null;
  if (configResourcePath != null) {
    try {
      clientConfig=new XmlClientConfigBuilder(configResourcePath).build();
    }
 catch (    IOException e) {
      LOGGER.warning("Could not load client configuration: " + configResourcePath,e);
    }
  }
  if (clientConfig == null) {
    clientConfig=new ClientConfig();
    final ClientNetworkConfig networkConfig=clientConfig.getNetworkConfig();
    networkConfig.setSmartRouting(true);
    networkConfig.setRedoOperation(true);
    networkConfig.setConnectionAttemptLimit(CONNECTION_ATTEMPT_LIMIT);
  }
  return clientConfig;
}
