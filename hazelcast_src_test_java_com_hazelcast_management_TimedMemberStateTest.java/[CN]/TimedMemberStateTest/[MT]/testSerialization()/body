{
  HazelcastInstance hz=createHazelcastInstance();
  TimedMemberStateFactory timedMemberStateFactory=new TimedMemberStateFactory(getHazelcastInstanceImpl(hz));
  TimedMemberState state=timedMemberStateFactory.createTimedMemberState();
  JsonObject json=state.toJson();
  TimedMemberState deserialized=new TimedMemberState();
  deserialized.fromJson(json);
  assertNotNull(deserialized);
  assertEquals(state.getMemberList(),deserialized.getMemberList());
  assertEquals(state.getClusterName(),deserialized.getClusterName());
  assertEquals(state.getInstanceNames(),deserialized.getInstanceNames());
  assertEquals(state.getMaster(),deserialized.getMaster());
  assertEquals(state.getMemberState(),deserialized.getMemberState());
}
