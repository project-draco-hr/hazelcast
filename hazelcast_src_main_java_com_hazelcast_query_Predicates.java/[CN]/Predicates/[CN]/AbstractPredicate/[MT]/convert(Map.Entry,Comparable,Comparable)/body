{
  if (attributeValue == null) {
    return null;
  }
  if (attributeValue instanceof IndexImpl.NullObject) {
    return IndexImpl.NULL;
  }
  AttributeType type=attributeType;
  if (type == null) {
    QueryableEntry queryableEntry=(QueryableEntry)mapEntry;
    type=queryableEntry.getAttributeType(attribute);
    attributeType=type;
  }
  if (type == AttributeType.ENUM) {
    return type.getConverter().convert(attributeValue);
  }
 else {
    if (entryValue != null && entryValue.getClass().isAssignableFrom(attributeValue.getClass())) {
      return attributeValue;
    }
 else     if (type != null) {
      return type.getConverter().convert(attributeValue);
    }
 else {
      throw new QueryException("Unknown attribute type: " + attributeValue.getClass().getName() + " for attribute: "+ attribute);
    }
  }
}
