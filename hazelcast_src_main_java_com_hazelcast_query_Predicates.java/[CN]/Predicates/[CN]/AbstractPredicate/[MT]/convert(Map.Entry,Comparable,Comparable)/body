{
  if (attributeValue == null) {
    return null;
  }
  if (attributeType == null) {
    QueryableEntry queryableEntry=(QueryableEntry)mapEntry;
    attributeType=queryableEntry.getAttributeType(attribute);
  }
  if (attributeType == AttributeType.ENUM) {
    return attributeType.getConverter().convert(attributeValue);
  }
 else {
    if (entryValue != null && entryValue.getClass().isAssignableFrom(attributeValue.getClass())) {
      return attributeValue;
    }
 else     if (attributeType != null) {
      return attributeType.getConverter().convert(attributeValue);
    }
 else {
      throw new QueryException("Unknown attribute type: " + attributeValue.getClass());
    }
  }
}
