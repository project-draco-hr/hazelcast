{
  if (obj instanceof MapEntry) {
    obj=((MapEntry)obj).getValue();
  }
  if (obj == null)   return null;
  try {
    if (getter == null) {
      Getter parent=null;
      Class clazz=obj.getClass();
      List<String> possibleMethodNames=new ArrayList<String>(3);
      for (      final String name : input.split("\\.")) {
        Getter localGetter=null;
        possibleMethodNames.clear();
        possibleMethodNames.add(name);
        final String camelName=Character.toUpperCase(name.charAt(0)) + name.substring(1);
        possibleMethodNames.add("get" + camelName);
        possibleMethodNames.add("is" + camelName);
        for (        String methodName : possibleMethodNames) {
          try {
            final Method method=clazz.getMethod(methodName,null);
            method.setAccessible(true);
            localGetter=new MethodGetter(parent,method);
            clazz=method.getReturnType();
            break;
          }
 catch (          NoSuchMethodException ignored) {
          }
        }
        if (localGetter == null) {
          try {
            final Field field=clazz.getField(name);
            field.setAccessible(true);
            localGetter=new FieldGetter(parent,field);
            clazz=field.getType();
          }
 catch (          NoSuchFieldException ignored) {
          }
        }
        if (localGetter == null) {
          throw new RuntimeException("There is no method of field matching " + name);
        }
        parent=localGetter;
      }
      getter=parent;
    }
    return getter.getValue(obj);
  }
 catch (  Throwable e) {
    e.printStackTrace();
    throw new RuntimeException(e);
  }
}
