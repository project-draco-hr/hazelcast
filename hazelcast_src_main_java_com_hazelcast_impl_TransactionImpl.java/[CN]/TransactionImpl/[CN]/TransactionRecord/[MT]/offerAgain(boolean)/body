{
  Offer offer=null;
  if (first) {
    offer=factory.node.blockingQueueManager.new OfferFirst();
  }
 else {
    offer=factory.node.blockingQueueManager.new Offer();
  }
  try {
    boolean offered=offer.offer(name,value,timeout,false);
    if (!offered) {
      throw new RuntimeException("Failed to offer in " + timeout + " ms.");
    }
  }
 catch (  InterruptedException ignored) {
  }
}
