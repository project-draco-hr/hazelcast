{
  int size=0;
  for (  TransactionRecord transactionRecord : transactionRecords) {
    if (transactionRecord.name.equals(name)) {
      if (transactionRecord.removed) {
        if (transactionRecord.instanceType.isSet()) {
          size--;
        }
 else         if (!transactionRecord.newRecord) {
          if (!transactionRecord.instanceType.isQueue()) {
            size-=transactionRecord.valueCount;
          }
        }
      }
 else       if (transactionRecord.newRecord) {
        if (transactionRecord.instanceType.isList()) {
          size+=(Integer)transactionRecord.value;
        }
 else {
          size++;
        }
      }
    }
  }
  return size;
}
