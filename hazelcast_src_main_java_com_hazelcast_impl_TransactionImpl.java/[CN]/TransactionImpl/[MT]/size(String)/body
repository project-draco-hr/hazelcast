{
  int size=0;
  for (  final TransactionRecord transactionRecord : transactionRecords) {
    if (transactionRecord.name.equals(name)) {
      if (transactionRecord.removed) {
        if (transactionRecord.name.startsWith("m:s:")) {
          size--;
        }
 else         if (!transactionRecord.newRecord) {
          if (transactionRecord.instanceType != Instance.InstanceType.QUEUE) {
            size--;
          }
        }
      }
 else {
        if (transactionRecord.newRecord) {
          size++;
        }
      }
    }
  }
  return size;
}
