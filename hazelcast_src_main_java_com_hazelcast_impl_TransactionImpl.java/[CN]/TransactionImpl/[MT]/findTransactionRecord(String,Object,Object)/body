{
  for (  TransactionRecord transactionRecord : transactionRecords) {
    if (transactionRecord.name.equals(name)) {
      if (transactionRecord.key != null) {
        if (transactionRecord.key.equals(key)) {
          final Object txValue=toObject(transactionRecord.value);
          if (transactionRecord.instanceType.isMultiMap()) {
            if (value == null && txValue == null) {
              return transactionRecord;
            }
 else             if (value != null && value.equals(txValue)) {
              return transactionRecord;
            }
          }
 else {
            if (value == null) {
              return transactionRecord;
            }
 else             if (value.equals(txValue)) {
              return transactionRecord;
            }
          }
        }
      }
    }
  }
  return null;
}
