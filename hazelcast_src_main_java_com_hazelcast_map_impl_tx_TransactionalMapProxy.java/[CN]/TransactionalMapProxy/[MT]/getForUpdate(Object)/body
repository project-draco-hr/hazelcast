{
  checkTransactionState();
  MapService service=getService();
  MapServiceContext mapServiceContext=service.getMapServiceContext();
  Data keyData=mapServiceContext.toData(key,partitionStrategy);
  TxnValueWrapper currentValue=txMap.get(keyData);
  if (currentValue != null) {
    return checkIfRemoved(currentValue);
  }
  return toObjectIfNeeded(getForUpdateInternal(keyData));
}
