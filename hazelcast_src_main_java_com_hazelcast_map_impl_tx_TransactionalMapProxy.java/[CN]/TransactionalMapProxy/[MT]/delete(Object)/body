{
  checkTransactionState();
  MapService service=getService();
  final MapServiceContext mapServiceContext=service.getMapServiceContext();
  Data keyData=mapServiceContext.toData(key,partitionStrategy);
  Data data=removeInternal(keyData);
  if (data != null || txMap.containsKey(keyData)) {
    txMap.put(keyData,new TxnValueWrapper(mapServiceContext.toObject(data),TxnValueWrapper.Type.REMOVED));
  }
}
