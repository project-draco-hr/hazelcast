{
  checkTransactionState();
  Data keyData=getService().getMapServiceContext().toData(key,partitionStrategy);
  final TxnValueWrapper valueWrapper=txMap.get(keyData);
  if (valueWrapper != null) {
    return valueWrapper.type == TxnValueWrapper.Type.REMOVED ? false : true;
  }
  return containsKeyInternal(keyData);
}
