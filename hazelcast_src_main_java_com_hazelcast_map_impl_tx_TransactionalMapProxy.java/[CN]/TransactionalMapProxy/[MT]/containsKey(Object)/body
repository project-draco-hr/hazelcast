{
  checkTransactionState();
  Data keyData=getService().getMapServiceContext().toData(key,partitionStrategy);
  TxnValueWrapper valueWrapper=txMap.get(keyData);
  if (valueWrapper != null) {
    return (valueWrapper.type != TxnValueWrapper.Type.REMOVED);
  }
  return containsKeyInternal(keyData);
}
