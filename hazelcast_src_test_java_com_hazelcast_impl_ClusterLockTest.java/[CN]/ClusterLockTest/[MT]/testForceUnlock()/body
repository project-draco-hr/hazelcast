{
  final String lockObject="testLockDestroyAndTryLock";
  final HazelcastInstance h=Hazelcast.newHazelcastInstance(new Config());
  final HazelcastInstance h2=Hazelcast.newHazelcastInstance(new Config());
  ILock lock=h.getLock(lockObject);
  lock.lock();
  Thread t=new Thread(new Runnable(){
    public void run(){
      ILock lock=h2.getLock(lockObject);
      lock.forceUnlock();
      assertFalse(lock.isLocked());
    }
  }
);
  t.start();
  t.join();
  new Thread(new Runnable(){
    public void run(){
      final HazelcastInstance h2=Hazelcast.newHazelcastInstance(new Config());
      ILock lock=h2.getLock(lockObject);
      assertFalse(lock.isLocked());
    }
  }
);
}
