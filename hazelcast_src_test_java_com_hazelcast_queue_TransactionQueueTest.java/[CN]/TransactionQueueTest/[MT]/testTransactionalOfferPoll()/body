{
  Config config=new Config();
  final int insCount=4;
  final String name="defQueue";
  final HazelcastInstance[] instances=StaticNodeFactory.newInstances(config,insCount);
  boolean b=instances[0].executeTransaction(new TransactionalTask<Boolean>(){
    public Boolean execute(    TransactionalTaskContext context) throws TransactionException {
      TransactionalQueue<String> q=context.getQueue(name);
      assertTrue(q.offer("ali"));
      String s=q.poll();
      assertNull(s);
      return true;
    }
  }
,new TransactionOptions().setTransactionType(TransactionOptions.TransactionType.LOCAL));
  assertTrue(b);
  assertEquals(1,getQueue(instances,name).size());
}
