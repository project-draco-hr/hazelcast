{
  Config config=new Config();
  final int insCount=4;
  final String name="defQueue";
  StaticNodeFactory factory=createNodeFactory(insCount);
  final HazelcastInstance[] instances=factory.newInstances(config);
  boolean b=instances[0].executeTransaction(new TransactionOptions().setTransactionType(TransactionOptions.TransactionType.LOCAL),new TransactionalTask<Boolean>(){
    public Boolean execute(    TransactionalTaskContext context) throws TransactionException {
      TransactionalQueue<String> q=context.getQueue(name);
      assertTrue(q.offer("ali"));
      String s=q.poll();
      assertNull(s);
      return true;
    }
  }
);
  assertTrue(b);
  assertEquals(1,getQueue(instances,name).size());
}
