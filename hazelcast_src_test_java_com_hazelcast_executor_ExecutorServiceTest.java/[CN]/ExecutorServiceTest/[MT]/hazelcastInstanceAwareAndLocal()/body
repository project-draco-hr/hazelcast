{
  final Config config=new Config();
  config.addExecutorConfig(new ExecutorConfig("test",1));
  final HazelcastInstance instance=createHazelcastInstanceFactory(1).newHazelcastInstance(config);
  IExecutorService executor=instance.getExecutorService("test");
  HazelcastInstanceAwareRunnable task=new HazelcastInstanceAwareRunnable();
  executor.submit(task).get();
  assertTrue("The setHazelcastInstance should have been called",task.initializeCalled);
}
