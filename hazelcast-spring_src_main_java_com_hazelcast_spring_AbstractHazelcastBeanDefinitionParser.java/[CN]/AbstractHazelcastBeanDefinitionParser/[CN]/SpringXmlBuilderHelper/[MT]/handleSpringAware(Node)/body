{
  boolean annotationDriven=true;
  for (  org.w3c.dom.Node element : new IterableNodeList(node,Node.ELEMENT_NODE)) {
    final String nodeName=cleanNodeName(element.getNodeName());
    if ("spring-aware".equals(nodeName)) {
      String enabled=getTextContent(element.getAttributes().getNamedItem("enabled")).trim();
      if ("false".equals(enabled)) {
        annotationDriven=false;
      }
      break;
    }
  }
  if (annotationDriven) {
    BeanDefinitionBuilder managedContextBeanBuilder=createBeanBuilder(SpringManagedContext.class);
    configBuilder.addPropertyValue("managedContext",managedContextBeanBuilder.getBeanDefinition());
  }
}
