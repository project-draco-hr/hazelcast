{
  markRecordStoreExpirable(record.getTtl());
  final Record existingRecord=records.put(key,record);
  updateSizeEstimator(-calculateRecordHeapCost(existingRecord));
  updateSizeEstimator(calculateRecordHeapCost(record));
}
