{
  int partitionId=getPartitionId();
  ResponseHandler responseHandler=getResponseHandler();
  MapService mapService=(MapService)getService();
  MapPartition mapPartition=mapService.getMapPartition(partitionId,name);
  LockInfo lock=mapPartition.getOrCreateLock(getKey());
  boolean locked=lock.lock(getCaller(),threadId,ttl);
  if (locked) {
    GenericBackupOperation backupOp=new GenericBackupOperation(name,dataKey,null,ttl);
    backupOp.setBackupOpType(GenericBackupOperation.BackupOpType.LOCK);
    int backupCount=mapPartition.getBackupCount();
  }
  responseHandler.sendResponse(locked);
}
