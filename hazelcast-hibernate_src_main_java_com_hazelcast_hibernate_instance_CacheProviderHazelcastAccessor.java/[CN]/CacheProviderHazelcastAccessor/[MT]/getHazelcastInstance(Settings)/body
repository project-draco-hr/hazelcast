{
  Object providerObject=null;
  try {
    Method getCacheProviderMethod=Settings.class.getMethod(METHOD_GET_CACHE_PROVIDER);
    providerObject=getCacheProviderMethod.invoke(settings);
  }
 catch (  Exception e) {
    logger.log(Level.SEVERE,e.getMessage(),e);
    return null;
  }
  if (providerObject == null) {
    logger.log(Level.SEVERE,"Hibernate 2nd level cache has not been enabled!");
    return null;
  }
  final CacheProvider provider=(CacheProvider)providerObject;
  if (provider instanceof HazelcastCacheProvider) {
    return ((HazelcastCacheProvider)provider).getHazelcastInstance();
  }
  logger.log(Level.WARNING,"Current 2nd level cache implementation is not HazelcastCacheProvider!");
  return null;
}
