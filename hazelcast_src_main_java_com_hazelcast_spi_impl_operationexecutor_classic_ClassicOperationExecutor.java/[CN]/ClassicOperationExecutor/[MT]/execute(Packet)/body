{
  checkNotNull(packet,"packet can't be null");
  checkOpPacket(packet);
  if (packet.isHeaderSet(Packet.HEADER_RESPONSE)) {
    responseThread.workQueue.add(packet);
  }
 else {
    int partitionId=packet.getPartitionId();
    boolean hasPriority=packet.isUrgent();
    execute(packet,partitionId,hasPriority);
  }
}
