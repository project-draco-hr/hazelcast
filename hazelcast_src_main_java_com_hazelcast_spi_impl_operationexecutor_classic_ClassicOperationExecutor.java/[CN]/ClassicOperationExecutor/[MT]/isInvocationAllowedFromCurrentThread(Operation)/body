{
  if (op == null) {
    throw new NullPointerException("op can't be null");
  }
  Thread currentThread=Thread.currentThread();
  if (currentThread instanceof NIOThread) {
    return false;
  }
  if (op.getPartitionId() < 0) {
    return true;
  }
  if (!(currentThread instanceof PartitionOperationThread)) {
    return true;
  }
  PartitionOperationThread partitionThread=(PartitionOperationThread)currentThread;
  return toPartitionThreadIndex(op.getPartitionId()) == partitionThread.threadId;
}
