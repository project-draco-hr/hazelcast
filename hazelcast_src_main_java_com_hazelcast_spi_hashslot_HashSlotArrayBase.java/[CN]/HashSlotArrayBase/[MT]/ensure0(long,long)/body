{
  ensureLive();
  final long size=size();
  if (size == expandAt()) {
    resizeTo(nextCapacity(capacity()));
  }
  long slot=hash(key1,key2) & mask();
  while (isAssigned(slot)) {
    if (equal(key1OfSlot(slot),key2OfSlot(slot),key1,key2)) {
      return -valueAddrOfSlot(slot);
    }
    slot=(slot + 1) & mask();
  }
  setSize(size + 1);
  putKey(slot,key1,key2);
  return valueAddrOfSlot(slot);
}
