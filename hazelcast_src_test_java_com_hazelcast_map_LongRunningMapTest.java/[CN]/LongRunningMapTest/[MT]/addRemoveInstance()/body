{
  if (done) {
    return;
  }
  boolean create=rnd.nextInt(100) % 2 == 0;
  int size=servers.size();
  if (size < minNode || (size != maxNode && create)) {
    System.out.println("size: " + size + ", creating instance");
    Server server=new Server();
    server.run();
    servers.add(server);
  }
 else   if (size == maxNode || !create) {
    System.out.println("size: " + size + ", removing instance");
    Iterator<Server> iter=servers.iterator();
    Server server=iter.next();
    iter.remove();
    if (!server.stop(true)) {
      throw new Exception("server did not stop properly");
    }
  }
}
