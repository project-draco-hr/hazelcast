{
  new Thread(){
    public void run(){
      try {
        byte[] data=new byte[1024];
        int a=System.in.read(data);
        while (a != -1) {
          String s=new String(data,0,a);
          if (s.startsWith("done")) {
            System.out.println("finishing test");
            done=true;
            break;
          }
          a=System.in.read(data);
        }
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
  }
.start();
  while (!done) {
    addRemoveInstance();
    Thread.sleep(10 * 1000);
  }
  System.out.println("stopping servers");
  Iterator<Server> iter=servers.iterator();
  Server server=null;
  while (iter.hasNext()) {
    server=iter.next();
    server.stop(false);
  }
  int mapSize1=server.size();
  Thread.sleep(20 * 1000);
  int mapSize2=server.size();
  System.out.println("Total Put       : " + totalPut.get());
  System.out.println("Total Remove    : " + totalRemove.get());
  System.out.println("Map Size1       : " + mapSize1);
  System.out.println("Map Size1       : " + mapSize2);
  System.out.println("Expected Size   : " + (totalPut.get() - totalRemove.get()));
}
