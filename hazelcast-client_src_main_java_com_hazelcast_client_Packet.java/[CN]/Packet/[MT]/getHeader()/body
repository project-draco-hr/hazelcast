{
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  DataOutputStream dos=new DataOutputStream(bos);
  dos.writeInt(operation.getValue());
  dos.writeInt(blockId);
  dos.writeInt(threadId);
  dos.writeInt(lockCount);
  dos.writeLong(timeout);
  dos.writeLong(txnId);
  dos.writeLong(longValue);
  dos.writeLong(version);
  dos.writeLong(callId);
  dos.writeByte(client ? 1 : 0);
  dos.writeByte(responseType);
  byte[] nameInBytes=name.getBytes();
  dos.writeInt(nameInBytes.length);
  dos.write(nameInBytes);
  dos.writeBoolean(lockAddressIsNull);
  if (!lockAddressIsNull) {
    lockAddress.writeData(dos);
  }
  dos.writeByte(indexCount);
  for (int i=0; i < indexCount; i++) {
    dos.writeLong(indexes[i]);
    dos.writeByte(indexTypes[i]);
  }
  return bos.toByteArray();
}
