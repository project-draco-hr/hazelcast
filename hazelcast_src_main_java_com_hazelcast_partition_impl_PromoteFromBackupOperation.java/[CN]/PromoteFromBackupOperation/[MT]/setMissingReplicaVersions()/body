{
  InternalPartitionServiceImpl service=getService();
  long[] versions=service.getPartitionReplicaVersions(getPartitionId());
  long version=0L;
  int ix=-1;
  for (int i=0; i < versions.length; i++) {
    if (versions[i] > 0) {
      version=versions[i];
      ix=i;
      break;
    }
  }
  ILogger logger=getLogger();
  boolean loggable=ix > 0 && logger.isFinestEnabled();
  String log=null;
  if (loggable) {
    log="Setting missing replica versions for partition: " + getPartitionId() + " Changed from "+ Arrays.toString(versions);
  }
  for (int i=0; i < ix; i++) {
    versions[i]=version;
  }
  if (loggable) {
    log+=" to " + Arrays.toString(versions);
    logger.finest(log);
  }
}
