{
  ClientEndpoint clientEndpoint=node.clientService.getClientEndpoint(packet.conn);
  boolean includeValue=(int)packet.longValue == 1;
  if (getInstanceType(packet.name).equals(InstanceType.MAP)) {
    IMap<Object,Object> map=(IMap)node.factory.getOrCreateProxyByName(packet.name);
    clientEndpoint.addThisAsListener(map,packet.key,includeValue);
  }
 else   if (getInstanceType(packet.name).equals(InstanceType.LIST)) {
    CollectionProxyImpl collectionProxy=(CollectionProxyImpl)node.factory.getOrCreateProxyByName(packet.name);
    MProxy mapProxy=((CollectionProxyReal)collectionProxy.getBase()).mapProxy;
    mapProxy.addEntryListener(clientEndpoint,includeValue);
  }
}
