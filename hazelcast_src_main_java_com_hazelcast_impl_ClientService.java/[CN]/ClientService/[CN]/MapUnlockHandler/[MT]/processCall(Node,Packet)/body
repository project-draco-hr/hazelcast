{
  Instance.InstanceType type=getInstanceType(packet.name);
  IMap<Object,Object> map=null;
  if (type == Instance.InstanceType.MAP) {
    map=(IMap)node.factory.getOrCreateProxyByName(packet.name);
  }
 else {
    MultiMapProxy multiMapProxy=(MultiMapProxy)node.factory.getOrCreateProxyByName(packet.name);
    map=multiMapProxy.getMProxy();
  }
  Data value=processMapOp(map,packet.getKeyData(),packet.getValueData());
  ClientEndpoint clientEndpoint=node.clientService.getClientEndpoint(packet.conn);
  clientEndpoint.unlocked(map,packet.getKeyData(),packet.threadId);
  packet.clearForResponse();
  packet.setValue(value);
}
