{
  Collection<Instance> instances=factory.getInstances();
  Keys keys=new Keys();
  for (  Instance instance : instances) {
    Object id=instance.getId();
    if (id instanceof FactoryImpl.ProxyKey) {
      Object key=((FactoryImpl.ProxyKey)id).getKey();
      if (key instanceof Instance)       id=key.toString();
    }
    String idStr=id.toString();
    if (!idStr.startsWith(Prefix.MAP_OF_LIST) && !idStr.startsWith(Prefix.MAP_FOR_QUEUE)) {
      keys.add(toData(id));
    }
  }
  packet.setValue(toData(keys));
}
