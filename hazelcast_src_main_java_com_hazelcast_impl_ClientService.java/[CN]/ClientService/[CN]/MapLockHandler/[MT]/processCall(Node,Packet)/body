{
  IMap<Object,Object> map=(IMap)node.factory.getOrCreateProxyByName(packet.name);
  long timeout=packet.timeout;
  Data value=null;
  if (timeout == -1) {
    map.lock(packet.getKeyData());
    value=null;
  }
 else   if (timeout == 0) {
    value=toData(map.tryLock(packet.getKeyData()));
  }
 else {
    value=toData(map.tryLock(packet.getKeyData(),timeout,(TimeUnit)toObject(packet.getValueData())));
  }
  packet.setValue(value);
}
