{
  this.cmap=cmap;
  this.orderingType=orderingType;
  this.logger=cmap.concurrentMapManager.node.getLogger(NearCache.class.getName());
  this.maxSize=(maxSize == 0) ? Integer.MAX_VALUE : maxSize;
  this.ttl=ttl;
  this.maxIdleTime=maxIdleTime;
  this.invalidateOnChange=invalidateOnChange;
  int size=(maxSize == 0 || maxSize > 50000) ? 10000 : maxSize;
  this.sortedMap=(orderingType == SortedHashMap.OrderingType.NONE) ? new HashMap<Data,Object>() : new SortedHashMap<Data,Object>(size,orderingType);
  this.cache=new ConcurrentHashMap<Object,CacheEntry>(size,0.75f,1);
}
