{
  long now=System.currentTimeMillis();
  if (counter.incrementAndGet() == LOCAL_INVALIDATION_COUNTER) {
    counter.addAndGet(-(LOCAL_INVALIDATION_COUNTER));
    evict(now,false);
  }
  CacheEntry entry=cache.get(key);
  return !(entry == null || entry.isValid(now));
}
