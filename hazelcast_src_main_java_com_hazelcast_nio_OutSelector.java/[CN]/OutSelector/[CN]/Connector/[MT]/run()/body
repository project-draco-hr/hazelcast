{
  try {
    socketChannel=SocketChannel.open();
    final Address thisAddress=node.getThisAddress();
    try {
      socketChannel.socket().bind(new InetSocketAddress(thisAddress.getInetAddress(),0));
      socketChannel.configureBlocking(false);
      logger.log(Level.FINEST,"connecting to " + address);
      boolean connected=socketChannel.connect(new InetSocketAddress(address.getInetAddress(),address.getPort()));
      logger.log(Level.FINEST,"connection check. connected: " + connected + ", "+ address);
      if (connected) {
        handle();
        return;
      }
    }
 catch (    final Throwable e) {
      logger.log(Level.FINEST,address + " ConnectionFailed.",e);
    }
    socketChannel.register(selector,SelectionKey.OP_CONNECT,Connector.this);
  }
 catch (  final Throwable e) {
    if (socketChannel != null) {
      try {
        socketChannel.close();
      }
 catch (      final IOException ignored) {
      }
    }
    node.connectionManager.failedConnection(address);
  }
}
