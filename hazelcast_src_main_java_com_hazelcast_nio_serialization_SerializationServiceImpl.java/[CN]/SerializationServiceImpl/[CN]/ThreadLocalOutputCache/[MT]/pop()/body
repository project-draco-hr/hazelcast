{
  Thread t=Thread.currentThread();
  Queue<BufferObjectDataOutput> outputQueue=map.get(t);
  if (outputQueue == null) {
    outputQueue=new ArrayDeque<BufferObjectDataOutput>(3);
    map.put(t,outputQueue);
  }
  BufferObjectDataOutput out=outputQueue.poll();
  if (out == null) {
    out=serializationService.createObjectDataOutput(bufferSize);
  }
  return out;
}
