{
  MigratableHandler handler1=mock(MigratableHandler.class);
  when(handler1.getEventCount()).thenReturn(0l).thenReturn(100l);
  when(handler1.getOwner()).thenReturn(selector1);
  loadTracker.addHandler(handler1);
  MigratableHandler handler2=mock(MigratableHandler.class);
  when(handler2.getEventCount()).thenReturn(0l).thenReturn(200l);
  when(handler2.getOwner()).thenReturn(selector2);
  loadTracker.addHandler(handler2);
  MigratableHandler handler3=mock(MigratableHandler.class);
  when(handler3.getEventCount()).thenReturn(0l).thenReturn(100l);
  when(handler3.getOwner()).thenReturn(selector2);
  loadTracker.addHandler(handler3);
  LoadImbalance loadImbalance=loadTracker.updateImbalance();
  assertEquals(0,loadImbalance.minimumEvents);
  assertEquals(0,loadImbalance.maximumEvents);
  loadTracker.updateImbalance();
  assertEquals(100,loadImbalance.minimumEvents);
  assertEquals(300,loadImbalance.maximumEvents);
  assertEquals(selector1,loadImbalance.destinationSelector);
  assertEquals(selector2,loadImbalance.sourceSelector);
}
