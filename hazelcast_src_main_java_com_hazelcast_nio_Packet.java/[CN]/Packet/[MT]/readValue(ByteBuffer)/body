{
  if (!isPersistStatusSet(PERSIST_VALUE)) {
    byte[] bytes=data.getData();
    if (bytes == null) {
      bytes=new byte[valueSize];
      ((DefaultData)data).setData(bytes);
    }
    if (valueSize > 0) {
      int bytesReadable=source.remaining();
      int bytesNeeded=valueSize - valueOffset;
      boolean done;
      int bytesRead;
      if (bytesReadable >= bytesNeeded) {
        bytesRead=bytesNeeded;
        done=true;
      }
 else {
        bytesRead=bytesReadable;
        done=false;
      }
      source.get(bytes,valueOffset,bytesRead);
      valueOffset+=bytesRead;
      if (!done) {
        return false;
      }
    }
    setPersistStatus(PERSIST_VALUE);
  }
  return true;
}
