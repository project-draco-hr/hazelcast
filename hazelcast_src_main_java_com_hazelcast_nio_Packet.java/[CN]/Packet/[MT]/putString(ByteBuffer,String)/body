{
  if (str == null) {
    bb.putInt(0);
  }
 else {
    byte[] bytes=mapStringByteCache.get(str);
    if (bytes == null) {
      bytes=str.getBytes();
      if (mapStringByteCache.size() >= 10000) {
        mapStringByteCache.clear();
      }
      mapStringByteCache.put(str,bytes);
    }
    bb.putInt(bytes.length);
    bb.put(bytes);
  }
}
