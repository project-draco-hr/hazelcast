{
  if (props == null) {
    throw new NullPointerException("Hibernate environment properties is null!");
  }
  String[] hosts=PropertiesHelper.toStringArray(CacheEnvironment.NATIVE_CLIENT_HOSTS,",",props);
  String group=PropertiesHelper.getString(CacheEnvironment.NATIVE_CLIENT_GROUP,props,null);
  String pass=PropertiesHelper.getString(CacheEnvironment.NATIVE_CLIENT_PASSWORD,props,null);
  if (hosts == null || hosts.length == 0 || group == null || pass == null) {
    throw new CacheException("Configuration properties " + CacheEnvironment.NATIVE_CLIENT_HOSTS + ", "+ CacheEnvironment.NATIVE_CLIENT_GROUP+ " and "+ CacheEnvironment.NATIVE_CLIENT_PASSWORD+ " are mandatory to use native client!");
  }
  StringBuilder msg=new StringBuilder("Creating HazelcastClient for group: '");
  msg.append(group).append("' via hosts: '");
  for (int i=0; i < hosts.length; i++) {
    msg.append(hosts[i]).append("'").append(", ");
  }
  msg.deleteCharAt(msg.length() - 1).append(".");
  logger.log(Level.INFO,msg.toString());
  return HazelcastClient.newHazelcastClient(group,pass,hosts);
}
