{
  Object oldValue=null;
  Object value=toObject(packet.getValue());
  if (value instanceof CollectionWrapper) {
    final CollectionWrapper values=(CollectionWrapper)value;
    final Iterator it=values.getKeys().iterator();
    value=it.hasNext() ? it.next() : null;
    oldValue=it.hasNext() ? it.next() : null;
  }
  final EntryEvent event=new EntryEvent(packet.getName(),null,(int)packet.getLongValue(),toObject(packet.getKey()),oldValue,value);
  String name=event.getName();
  Object key=toKey(event.getKey());
  if (entryListeners.get(name) != null) {
    notifyListeners(event,entryListeners.get(name).get(NULL_KEY));
    if (key != NULL_KEY) {
      notifyListeners(event,entryListeners.get(name).get(key));
    }
  }
}
