{
  ConcurrentHashMap<Object,List<EntryListenerHolder>> map=entryListeners.get(name);
  key=toKey(key);
  if (map == null) {
    map=new ConcurrentHashMap<Object,List<EntryListenerHolder>>();
    final ConcurrentHashMap<Object,List<EntryListenerHolder>> map2=entryListeners.putIfAbsent(name,map);
    if (map2 != null) {
      map=map2;
    }
  }
  if (!map.contains(key)) {
    map.putIfAbsent(key,new CopyOnWriteArrayList<EntryListenerHolder>());
  }
  map.get(key).add(new EntryListenerHolder(entryListener,includeValue));
}
