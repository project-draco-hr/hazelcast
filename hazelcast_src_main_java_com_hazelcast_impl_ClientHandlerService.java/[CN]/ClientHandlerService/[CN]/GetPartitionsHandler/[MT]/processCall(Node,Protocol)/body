{
  PartitionService partitionService=factory.getPartitionService();
  List<String> args=new ArrayList<String>();
  if (protocol.getBuffers().length > 0) {
    Partition partition=partitionService.getPartition(new Data(protocol.getBuffers()[0].array()));
    args.add(String.valueOf(partition.getPartitionId()));
    args.add(partition.getOwner().getInetSocketAddress().toString());
  }
 else {
    Set<Partition> set=partitionService.getPartitions();
    for (    Partition partition : set) {
      args.add(String.valueOf(partition.getPartitionId()));
      args.add(partition.getOwner().getInetSocketAddress().toString());
    }
  }
  return protocol.success(args.toArray(new String[0]));
}
