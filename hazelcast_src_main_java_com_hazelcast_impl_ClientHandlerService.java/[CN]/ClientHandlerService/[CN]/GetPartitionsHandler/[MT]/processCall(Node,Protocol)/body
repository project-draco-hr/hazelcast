{
  PartitionService partitionService=factory.getPartitionService();
  List<String> args=new ArrayList<String>();
  if (protocol.buffers.length > 0) {
    Partition partition=partitionService.getPartition(new Data(protocol.buffers[0].array()));
    args.add(String.valueOf(partition.getPartitionId()));
    args.add(partition.getOwner().getInetSocketAddress().toString());
  }
 else {
    Set<Partition> set=partitionService.getPartitions();
    for (    Partition partition : set) {
      args.add(String.valueOf(partition.getPartitionId()));
      if (partition.getOwner() != null) {
        MemberImpl member=(MemberImpl)partition.getOwner();
        args.add(member.getAddress().getHost() + ":" + member.getAddress().getPort());
      }
 else {
        args.add("null");
      }
    }
  }
  return protocol.success(args.toArray(new String[0]));
}
