{
  String name=protocol.args[0];
  Data key=null;
  Data oldValue=null;
  Data newValue=null;
  if (protocol.buffers != null && protocol.buffers.length > 0) {
    key=new Data(protocol.buffers[0].array());
    if (protocol.buffers.length > 1) {
      oldValue=new Data(protocol.buffers[1].array());
      if (protocol.buffers.length > 2) {
        newValue=new Data(protocol.buffers[2].array());
      }
 else {
        return protocol.error(null,"New value is missing");
      }
    }
 else {
      return protocol.error(null,"old value is missing");
    }
  }
 else {
    return protocol.error(null,"key is missing");
  }
  IMap<Object,Object> map=(IMap)factory.getMap(name);
  boolean replaced=map.replace(key,oldValue,newValue);
  return protocol.success(String.valueOf(replaced));
}
