{
  String name=protocol.getArgs()[0];
  Data item=new Data(protocol.getBuffers()[0].array());
  IQueue<Data> queue=node.factory.getQueue(name);
  boolean result=false;
  try {
    if (Command.QPUT.equals(protocol.getCommand())) {
      queue.put(item);
      result=true;
    }
 else {
      long timeout=Long.valueOf(protocol.getArgs()[1]);
      if (timeout == 0) {
        result=queue.offer(item);
      }
 else {
        result=queue.offer(item,timeout,TimeUnit.MILLISECONDS);
      }
    }
    return protocol.success(String.valueOf(result));
  }
 catch (  InterruptedException e) {
    throw new RuntimeException(e);
  }
}
