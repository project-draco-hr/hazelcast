{
  counter.incrementAndGet();
  MProxy mproxy=(MProxy)map;
  Object v=value;
  if (node.concurrentMapManager.isMapIndexed(mproxy.getLongName())) {
    v=toObject(value);
  }
  if (ttl <= 0) {
    Data result=(Data)map.put(key,v);
    long begin;
    if (value.buffer.length > 20)     begin=Long.valueOf(new String(value.buffer,6,value.buffer.length - 6));
 else     begin=Long.valueOf(new String(value.buffer));
    time.addAndGet(System.nanoTime() - begin);
    if (counter.get() % 100000 == 0) {
      long c=counter.getAndSet(0);
      System.out.println("counter = " + c);
      System.out.println("Average time = " + (time.getAndSet(0) / c));
    }
    return result;
  }
 else {
    return (Data)map.put(key,v,ttl,TimeUnit.MILLISECONDS);
  }
}
