{
  final ClientEndpoint clientEndpoint=getClientEndpoint(protocol.getConnection());
  String[] args=protocol.getArgs();
  String type=args[0];
  String name=args[1];
  boolean includeValue=Boolean.valueOf(args[2]);
  IMap<Object,Object> map=(IMap)factory.getMap(name);
  Data key=null;
  if ("map".equals(type)) {
    if (protocol.getBuffers() != null && protocol.getBuffers().length > 0) {
      key=new Data(protocol.getBuffers()[0].array());
    }
    clientEndpoint.addThisAsListener(map,key,includeValue);
  }
  return protocol.success();
}
