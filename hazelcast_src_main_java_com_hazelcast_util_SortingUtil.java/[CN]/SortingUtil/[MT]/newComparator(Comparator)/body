{
  return new Comparator(){
    public int compare(    Object comparable1,    Object comparable2){
      if (comparator != null) {
        return comparator.compare(comparable1,comparable2);
      }
      if (comparable1 instanceof Comparable && comparable2 instanceof Comparable) {
        return ((Comparable)comparable1).compareTo(comparable2);
      }
      return comparable1.hashCode() - comparable2.hashCode();
    }
  }
;
}
