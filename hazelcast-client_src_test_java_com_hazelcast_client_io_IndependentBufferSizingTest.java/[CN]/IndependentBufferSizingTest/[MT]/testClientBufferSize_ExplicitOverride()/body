{
  int receiveBufferSizeKB=16;
  int sendBufferSizeKB=4;
  Config config=new Config();
  config.setProperty(GroupProperties.PROP_SOCKET_CLIENT_RECEIVE_BUFFER_SIZE,Integer.toString(receiveBufferSizeKB));
  config.setProperty(GroupProperties.PROP_SOCKET_CLIENT_SEND_BUFFER_SIZE,Integer.toString(sendBufferSizeKB));
  HazelcastInstance server=Hazelcast.newHazelcastInstance(config);
  HazelcastInstance client=HazelcastClient.newHazelcastClient();
  TcpIpConnection clientConnection=getClientConnection(server);
  NonBlockingSocketReader reader=(NonBlockingSocketReader)clientConnection.getSocketReader();
  NonBlockingSocketWriter writer=(NonBlockingSocketWriter)clientConnection.getSocketWriter();
  assertHasByteBufferWithSize(reader,"inputBuffer",receiveBufferSizeKB * 1024);
  assertHasByteBufferWithSize(writer,"outputBuffer",sendBufferSizeKB * 1024);
}
