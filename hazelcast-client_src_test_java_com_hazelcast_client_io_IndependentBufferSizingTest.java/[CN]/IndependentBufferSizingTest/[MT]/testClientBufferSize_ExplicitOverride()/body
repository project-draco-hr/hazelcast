{
  int receiveBufferSizeKB=16;
  int sendBufferSizeKB=4;
  Config config=new Config();
  config.setProperty(GroupProperties.PROP_SOCKET_CLIENT_RECEIVE_BUFFER_SIZE,Integer.toString(receiveBufferSizeKB));
  config.setProperty(GroupProperties.PROP_SOCKET_CLIENT_SEND_BUFFER_SIZE,Integer.toString(sendBufferSizeKB));
  HazelcastInstance server=Hazelcast.newHazelcastInstance(config);
  HazelcastInstance client=HazelcastClient.newHazelcastClient();
  TcpIpConnection clientConnection=getClientConnection(server);
  ReadHandler readHandler=clientConnection.getReadHandler();
  WriteHandler writeHandler=clientConnection.getWriteHandler();
  assertHasByteBufferWithSize(readHandler,"inputBuffer",receiveBufferSizeKB * 1024);
  assertHasByteBufferWithSize(writeHandler,"outputBuffer",sendBufferSizeKB * 1024);
}
