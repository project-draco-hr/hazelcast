{
  ensureOpen();
  final NodeEngine nodeEngine=getNodeEngine();
  final OperationService operationService=nodeEngine.getOperationService();
  if (keys == null || keys.contains(null)) {
    throw new NullPointerException(NULL_KEY_IS_NOT_ALLOWED);
  }
  for (  K key : keys) {
    validateConfiguredTypes(false,key);
  }
  if (cacheLoader == null) {
    if (completionListener != null) {
      completionListener.onCompletion();
    }
    return;
  }
  final SerializationService ss=nodeEngine.getSerializationService();
  HashSet<Data> keysData=new HashSet<Data>();
  for (  K key : keys) {
    keysData.add(ss.toData(key));
  }
  OperationFactory operationFactory=new CacheLoadAllOperationFactory(name,keysData,replaceExistingValues);
  try {
    final Map<Integer,Object> results=operationService.invokeOnAllPartitions(getServiceName(),operationFactory);
    for (    Object result : results.values()) {
      if (result != null && result instanceof CacheClearResponse) {
        final Object response=((CacheClearResponse)result).getResponse();
        if (response instanceof Exception) {
          if (completionListener != null) {
            completionListener.onException((Exception)response);
            return;
          }
        }
      }
    }
    if (completionListener != null) {
      completionListener.onCompletion();
    }
  }
 catch (  Exception e) {
    if (completionListener != null) {
      completionListener.onException(e);
    }
  }
}
