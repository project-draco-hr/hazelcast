{
  ensureOpen();
  if (map == null) {
    throw new NullPointerException(NULL_KEY_IS_NOT_ALLOWED);
  }
  if (map.keySet().contains(null)) {
    throw new NullPointerException(NULL_KEY_IS_NOT_ALLOWED);
  }
  if (map.values().contains(null)) {
    throw new NullPointerException(NULL_VALUE_IS_NOT_ALLOWED);
  }
  final Iterator<? extends Map.Entry<? extends K,? extends V>> iter=map.entrySet().iterator();
  while (iter.hasNext()) {
    Map.Entry<? extends K,? extends V> next=iter.next();
    put(next.getKey(),next.getValue(),expiryPolicy);
  }
}
