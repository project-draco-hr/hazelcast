{
  final LockInfo lock=locks.get(key);
  return lock == null || lock.canAcquireLock(caller,threadId);
}
