{
  OperationCounter putsNow=puts.copyAndReset();
  OperationCounter getsNow=gets.copyAndReset();
  long removesNow=removes.getAndSet(0);
  long othersNow=others.getAndSet(0);
  long eventsNow=events.getAndSet(0);
  MapOperationsCounter newOne=new MapOperationsCounter();
  newOne.puts.set(putsNow);
  newOne.gets.set(getsNow);
  newOne.removes.set(removesNow);
  newOne.others.set(othersNow);
  newOne.events.set(eventsNow);
  newOne.startTime=this.startTime;
  newOne.endTime=now();
  this.startTime=newOne.endTime;
  return newOne;
}
