{
  byte[] buffer=new byte[1024];
  UTFUtil utfUtil=new UTFUtil(true);
  assertContains(utfUtil.getStringCreator().getClass().toString(),"FastStringCreator");
  for (int o=0; o < BENCHMARK_ROUNDS; o++) {
    for (int i=330; i < 900; i+=5) {
      ByteArrayOutputStream baos=new ByteArrayOutputStream(500);
      DataOutputStream dos=new DataOutputStream(baos);
      String randomString=random(i * 100);
      utfUtil.writeUTF(dos,randomString,buffer);
      ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
      DataInputStream dis=new DataInputStream(bais);
      String result=utfUtil.readUTF(dis,buffer);
      assertEquals(randomString,result);
    }
  }
}
