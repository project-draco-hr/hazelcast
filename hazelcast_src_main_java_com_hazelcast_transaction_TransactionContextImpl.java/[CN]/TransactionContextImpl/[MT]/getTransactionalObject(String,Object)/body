{
  if (transaction.getState() != Transaction.State.ACTIVE) {
    throw new IllegalStateException("Transaction is not active!");
  }
  final Object service=nodeEngine.getService(serviceName);
  if (service instanceof TransactionalService) {
    return ((TransactionalService)service).createTransactionalObject(id,transaction);
  }
  throw new IllegalArgumentException("Service[" + serviceName + "] is not transactional!");
}
