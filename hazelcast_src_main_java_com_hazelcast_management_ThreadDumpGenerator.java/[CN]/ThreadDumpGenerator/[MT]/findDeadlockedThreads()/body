{
  if (threadMxBean.isSynchronizerUsageSupported()) {
    long[] tids=threadMxBean.findDeadlockedThreads();
    if (tids == null || tids.length == 0) {
      return null;
    }
    return threadMxBean.getThreadInfo(tids,true,true);
  }
 else {
    return getThreads(threadMxBean.findMonitorDeadlockedThreads());
  }
}
