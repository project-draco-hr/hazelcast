{
  if (threadMxBean.isObjectMonitorUsageSupported() && threadMxBean.isSynchronizerUsageSupported()) {
    return threadMxBean.dumpAllThreads(true,true);
  }
  return getThreads(threadMxBean.getAllThreadIds());
}
