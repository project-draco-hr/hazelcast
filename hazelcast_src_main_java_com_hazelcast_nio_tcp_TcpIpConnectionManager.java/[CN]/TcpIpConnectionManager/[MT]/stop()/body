{
  if (!live) {
    return;
  }
  live=false;
  log(Level.FINEST,"Stopping ConnectionManager");
  ioBalancer.stop();
  if (acceptorThread != null) {
    acceptorThread.shutdown();
  }
  for (  SocketChannelWrapper socketChannel : acceptedSockets) {
    IOUtil.closeResource(socketChannel);
  }
  for (  Connection conn : connectionsMap.values()) {
    destroySilently(conn);
  }
  for (  TcpIpConnection conn : activeConnections) {
    destroySilently(conn);
  }
  shutdownIOSelectors();
  acceptedSockets.clear();
  connectionsInProgress.clear();
  connectionsMap.clear();
  monitors.clear();
  activeConnections.clear();
}
