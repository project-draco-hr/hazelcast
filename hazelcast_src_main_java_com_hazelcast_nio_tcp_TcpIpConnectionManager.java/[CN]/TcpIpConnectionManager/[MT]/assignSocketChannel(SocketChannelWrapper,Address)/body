{
  int value=nextSelectorIndex.getAndIncrement();
  TcpIpConnection connection=new TcpIpConnection(this,inSelectors[hashToIndex(value,inSelectors.length)],outSelectors[hashToIndex(value,outSelectors.length)],connectionIdGen.incrementAndGet(),channel);
  connection.setEndPoint(endpoint);
  activeConnections.add(connection);
  acceptedSockets.remove(channel);
  connection.start();
  ioBalancer.connectionAdded(connection);
  log(Level.INFO,"Established socket connection between " + channel.socket().getLocalSocketAddress() + " and "+ channel.socket().getRemoteSocketAddress());
  openedCount.inc();
  return connection;
}
