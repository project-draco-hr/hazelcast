{
  if (logger.isFinestEnabled()) {
    log(Level.FINEST,"Binding " + connection + " to "+ remoteEndPoint+ ", reply is "+ reply);
  }
  final Address thisAddress=ioService.getThisAddress();
  if (ioService.isSocketBindAny() && !connection.isClient() && !thisAddress.equals(localEndpoint)) {
    log(Level.WARNING,"Wrong bind request from " + remoteEndPoint + "! This node is not requested endpoint: "+ localEndpoint);
    connection.close();
    return false;
  }
  connection.setEndPoint(remoteEndPoint);
  ioService.onSuccessfulConnection(remoteEndPoint);
  if (reply) {
    sendBindRequest(connection,remoteEndPoint,false);
  }
  if (checkAlreadyConnected(connection,remoteEndPoint)) {
    return false;
  }
  if (!registerConnection(remoteEndPoint,connection)) {
    return false;
  }
  return true;
}
