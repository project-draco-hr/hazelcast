{
  Config config=new Config();
  Hazelcast.newHazelcastInstance(config);
  Socket socket=new Socket();
  SerializationService service=new SerializationServiceImpl(0);
  socket.connect(new InetSocketAddress(InetAddress.getByName("127.0.0.1"),5701));
  OutputStream outputStream=socket.getOutputStream();
  outputStream.write(new byte[]{'C','B','1'});
  outputStream.flush();
  final ObjectDataInputStream in=service.createObjectDataInputStream(new BufferedInputStream(socket.getInputStream()));
  final ObjectDataOutputStream out=service.createObjectDataOutputStream(new BufferedOutputStream(outputStream));
  ClientAuthenticationRequest auth=new ClientAuthenticationRequest(new UsernamePasswordCredentials("dev","dev-pass"));
  invoke(service,in,out,auth);
  MapPutRequest op=new MapPutRequest("test",service.toData(1),service.toData(1));
  invoke(service,in,out,op);
  MapGetRequest get=new MapGetRequest("test",service.toData(1));
  invoke(service,in,out,get);
  try {
    socket.close();
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  Thread.sleep(2000);
  Hazelcast.shutdownAll();
}
