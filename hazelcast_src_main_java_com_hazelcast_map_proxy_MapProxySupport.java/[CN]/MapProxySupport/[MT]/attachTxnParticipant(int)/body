{
  final NodeEngine nodeEngine=getNodeEngine();
  TransactionImpl txn=nodeEngine.getTransaction();
  String txnId=null;
  if (txn != null && txn.getState() == Transaction.State.ACTIVE) {
    txnId=txn.getTxnId();
    txn.attachParticipant(SERVICE_NAME,partitionId);
  }
  return txnId;
}
