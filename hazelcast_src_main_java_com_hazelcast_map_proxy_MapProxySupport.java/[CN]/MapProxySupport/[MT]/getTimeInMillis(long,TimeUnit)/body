{
  if (timeunit == null) {
    ExceptionUtil.rethrow(new IllegalArgumentException("Timeunit should not be null"));
  }
  long timeInMillis=timeunit.toMillis(time);
  if (time > 0 && timeInMillis == 0) {
    timeInMillis=1;
  }
  return timeInMillis;
}
