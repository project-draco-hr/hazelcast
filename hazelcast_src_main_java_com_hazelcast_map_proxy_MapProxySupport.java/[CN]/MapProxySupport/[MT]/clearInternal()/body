{
  final String mapName=name;
  final NodeEngine nodeEngine=getNodeEngine();
  try {
    ClearOperation clearOperation=new ClearOperation(mapName);
    clearOperation.setServiceName(SERVICE_NAME);
    final Map<Integer,Object> resultMap=nodeEngine.getOperationService().invokeOnAllPartitions(SERVICE_NAME,new BinaryOperationFactory(clearOperation,nodeEngine));
    int numberOfAffectedEntries=0;
    for (    Object o : resultMap.values()) {
      numberOfAffectedEntries+=(Integer)o;
    }
    publishMapEvent(numberOfAffectedEntries,EntryEventType.CLEAR_ALL);
  }
 catch (  Throwable t) {
    throw ExceptionUtil.rethrow(t);
  }
}
