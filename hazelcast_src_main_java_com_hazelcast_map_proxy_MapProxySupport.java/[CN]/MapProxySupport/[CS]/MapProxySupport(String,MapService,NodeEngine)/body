{
  super(nodeEngine,service);
  this.name=name;
  mapConfig=service.getMapContainer(name).getMapConfig();
  localMapStats=service.getLocalMapStatsImpl(name);
  lockSupport=new LockProxySupport(new DefaultObjectNamespace(MapService.SERVICE_NAME,name));
  List<EntryListenerConfig> listenerConfigs=mapConfig.getEntryListenerConfigs();
  for (  EntryListenerConfig listenerConfig : listenerConfigs) {
    EntryListener listener=null;
    if (listenerConfig.getImplementation() != null) {
      listener=listenerConfig.getImplementation();
    }
 else     if (listenerConfig.getClassName() != null) {
      try {
        listener=ClassLoaderUtil.newInstance(nodeEngine.getConfigClassLoader(),listenerConfig.getClassName());
      }
 catch (      Exception e) {
        throw ExceptionUtil.rethrow(e);
      }
    }
    if (listener != null) {
      if (listener instanceof HazelcastInstanceAware) {
        ((HazelcastInstanceAware)listener).setHazelcastInstance(nodeEngine.getHazelcastInstance());
      }
      if (listenerConfig.isLocal()) {
        addLocalEntryListener(listener);
      }
 else {
        addEntryListenerInternal(listener,null,listenerConfig.isIncludeValue());
      }
    }
  }
}
