{
  Collection<Registration> listenerList=registrations.get(topic);
  if (listenerList == null && forceCreate) {
    listenerList=Collections.newSetFromMap(new ConcurrentHashMap<Registration,Boolean>());
    Collection<Registration> current=registrations.putIfAbsent(topic,listenerList);
    listenerList=current == null ? listenerList : current;
  }
  return listenerList;
}
