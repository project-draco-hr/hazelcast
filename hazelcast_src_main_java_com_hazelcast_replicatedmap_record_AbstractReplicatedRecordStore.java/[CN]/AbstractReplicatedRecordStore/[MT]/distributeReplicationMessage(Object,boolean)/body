{
  final PreReplicationHook preReplicationHook=getPreReplicationHook();
  if (forceSend || preReplicationHook == null) {
    Collection<EventRegistration> registrations=filterEventRegistrations(eventService.getRegistrations(ReplicatedMapService.SERVICE_NAME,ReplicatedMapService.EVENT_TOPIC_NAME));
    eventService.publishEvent(ReplicatedMapService.SERVICE_NAME,registrations,message,name.hashCode());
  }
 else {
    executionService.execute("hz:replicated-map",new Runnable(){
      @Override public void run(){
        if (message instanceof MultiReplicationMessage) {
          preReplicationHook.preReplicateMultiMessage((MultiReplicationMessage)message,AbstractReplicatedRecordStore.this);
        }
 else {
          preReplicationHook.preReplicateMessage((ReplicationMessage)message,AbstractReplicatedRecordStore.this);
        }
      }
    }
);
  }
}
