{
  while (running) {
    try {
      final JoinInfo joinInfo=receive();
      if (joinInfo != null) {
        if (!Node.get().address.equals(joinInfo.address)) {
          if (Config.get().groupName.equals(joinInfo.groupName)) {
            if (Config.get().groupPassword.equals(joinInfo.groupPassword)) {
              if (Node.get().master()) {
                if (joinInfo.request) {
                  send(joinInfo.copy(false,Node.get().address));
                }
              }
 else {
                if (!Node.get().joined() && !joinInfo.request) {
                  if (Node.get().masterAddress == null) {
                    Node.get().masterAddress=new Address(joinInfo.address);
                  }
                }
              }
            }
          }
        }
      }
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
  }
}
