{
  String errorMessage="An error occurred on connection to " + endPoint + getCauseDescription(t);
  logger.log(Level.FINEST,errorMessage);
  ioService.getSystemLogService().logConnection(errorMessage);
  final long now=System.currentTimeMillis();
  final long last=lastFaultTime;
  if (now - last > minInterval) {
    if ((++faults) >= maxFaults) {
      String removeEndpointMessage="Removing connection to endpoint " + endPoint + getCauseDescription(t);
      logger.log(Level.WARNING,removeEndpointMessage);
      ioService.getSystemLogService().logConnection(removeEndpointMessage);
      ioService.removeEndpoint(endPoint);
    }
    lastFaultTime=now;
  }
}
