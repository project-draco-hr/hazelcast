{
  for (int i=0; i < MAX_REPLICA_COUNT; i++) {
    replicaAddresses[i]=newAddress(5000 + i);
  }
  partition.setInitialReplicaAddresses(replicaAddresses);
  assertTrue(partition.onDeadAddress(thisAddress));
  for (int i=0; i < MAX_REPLICA_COUNT - 1; i++) {
    assertEquals(replicaAddresses[i + 1],partition.getReplicaAddress(i));
  }
  assertNull(partition.getReplicaAddress(MAX_REPLICA_COUNT - 1));
}
