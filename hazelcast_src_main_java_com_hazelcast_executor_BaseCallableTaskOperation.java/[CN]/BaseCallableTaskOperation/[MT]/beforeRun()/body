{
  HazelcastInstanceImpl hazelcastInstance=(HazelcastInstanceImpl)getNodeEngine().getHazelcastInstance();
  SerializationServiceImpl serializationService=(SerializationServiceImpl)hazelcastInstance.getSerializationService();
  ManagedContext managedContext=serializationService.getManagedContext();
  if (callable instanceof RunnableAdapter) {
    RunnableAdapter adapter=(RunnableAdapter)callable;
    adapter.setRunnable((Runnable)managedContext.initialize(adapter.getRunnable()));
  }
 else {
    callable=(Callable)managedContext.initialize(callable);
  }
  if (callable instanceof HazelcastInstanceAware) {
    ((HazelcastInstanceAware)callable).setHazelcastInstance(hazelcastInstance);
  }
}
