{
  String[] args=protocol.args;
  String name=protocol.args[0];
  Data key=protocol.buffers[0];
  Data value=protocol.buffers.length > 1 ? protocol.buffers[1] : null;
  final long ttl=(args.length > 1) ? Long.valueOf(args[1]) : 0;
  DataMapProxy dataMapProxy=(DataMapProxy)mapService.createDistributedObjectForClient(name);
  Data oldValue=processMapOp(dataMapProxy,key,value,ttl);
  return protocol.success(oldValue);
}
