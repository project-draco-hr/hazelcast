{
  final IExecutorService service=client.getExecutorService(randomString());
  final String mapName=randomString();
  final Runnable runnable=new MapPutRunnable(mapName);
  final Collection<Member> collection=instance2.getCluster().getMembers();
  final CountDownLatch responseLatch=new CountDownLatch(CLUSTER_SIZE);
  final CountDownLatch completeLatch=new CountDownLatch(1);
  service.submitToMembers(runnable,collection,new MultiExecutionCallback(){
    public void onResponse(    Member member,    Object value){
      responseLatch.countDown();
    }
    public void onComplete(    Map<Member,Object> values){
      completeLatch.countDown();
    }
  }
);
  final Map map=client.getMap(mapName);
  assertOpenEventually("responseLatch",responseLatch);
  assertOpenEventually("completeLatch",completeLatch);
  assertEquals(CLUSTER_SIZE,map.size());
}
