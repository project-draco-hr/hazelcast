{
  File file=createConfigFile("foo","bar");
  FileOutputStream os=new FileOutputStream(file);
  String networkConfig="<hazelcast>" + "    <network>\n" + "        <join>\n"+ "            <multicast enabled=\"false\"/>\n"+ "            <tcp-ip enabled=\"${tcp.ip.enabled}\"/>\n"+ "        </join>\n"+ "    </network>\n"+ "</hazelcast>";
  writeStringToStreamAndClose(os,networkConfig);
  String xml="<hazelcast>\n" + "    <import resource=\"${config.location}\"/>\n" + "</hazelcast>";
  ByteArrayInputStream bis=new ByteArrayInputStream(xml.getBytes());
  XmlConfigBuilder configBuilder=new XmlConfigBuilder(bis);
  Properties properties=new Properties();
  properties.setProperty("config.location",file.getAbsolutePath());
  properties.setProperty("tcp.ip.enabled","true");
  configBuilder.setProperties(properties);
  Config config=configBuilder.build();
  JoinConfig join=config.getNetworkConfig().getJoin();
  assertFalse(join.getMulticastConfig().isEnabled());
  assertTrue(join.getTcpIpConfig().isEnabled());
}
