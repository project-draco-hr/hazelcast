{
  SchemaFactory factory=SchemaFactory.newInstance("http://www.w3.org/2001/XMLSchema");
  final InputStream schemaResource=XMLConfigBuilderTest.class.getClassLoader().getResourceAsStream("hazelcast-config-3.1.xsd");
  final InputStream xmlResource=XMLConfigBuilderTest.class.getClassLoader().getResourceAsStream(xmlFileName);
  Schema schema=factory.newSchema(new StreamSource(schemaResource));
  Source source=new StreamSource(xmlResource);
  Validator validator=schema.newValidator();
  try {
    validator.validate(source);
  }
 catch (  SAXException ex) {
    fail(xmlFileName + " is not valid because: " + ex.toString());
  }
}
