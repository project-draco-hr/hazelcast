{
  String mapName="testMapWanReplicationRef";
  String refName="test";
  String mergePolicy="TestMergePolicy";
  String xml="<hazelcast xmlns=\"http://www.hazelcast.com/schema/config\">\n" + "  <map name=\"" + mapName + "\">\n"+ "    <wan-replication-ref name=\"test\">\n"+ "      <merge-policy>TestMergePolicy</merge-policy>\n"+ "      <filters>\n"+ "        <filter-impl>com.example.SampleFilter</filter-impl>\n"+ "      </filters>\n"+ "    </wan-replication-ref>\n"+ "  </map>\n"+ "</hazelcast>";
  final Config config=buildConfig(xml);
  System.out.println("config = " + config);
  WanReplicationRef wanRef=config.getMapConfig(mapName).getWanReplicationRef();
  assertEquals(refName,wanRef.getName());
  assertEquals(mergePolicy,wanRef.getMergePolicy());
  assertTrue(wanRef.isRepublishingEnabled());
  assertEquals(1,wanRef.getFilters().size());
  assertEquals("com.example.SampleFilter",wanRef.getFilters().get(0));
}
