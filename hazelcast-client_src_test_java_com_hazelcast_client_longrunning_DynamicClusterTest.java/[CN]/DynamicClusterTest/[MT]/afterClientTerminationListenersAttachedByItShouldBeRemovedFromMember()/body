{
  HazelcastInstance h=Hazelcast.newHazelcastInstance(null);
  HazelcastClient client=getHazelcastClient(h);
  String mapName="afterClientTerminationListenersAttachedByItShouldBeRemovedFromMember";
  IMap clientMap=client.getMap(mapName);
  clientMap.addEntryListener(new EntryListener(){
    public void entryAdded(    EntryEvent entryEvent){
    }
    public void entryRemoved(    EntryEvent entryEvent){
    }
    public void entryUpdated(    EntryEvent entryEvent){
    }
    public void entryEvicted(    EntryEvent entryEvent){
    }
  }
,true);
  IMap map=h.getMap(mapName);
  map.put("1","1");
  Thread.sleep(100);
  assertEquals(1,map.getLocalMapStats().getOperationStats().getNumberOfEvents());
  client.shutdown();
  map.put(2,2);
  Thread.sleep(1000);
  assertEquals(1,map.getLocalMapStats().getOperationStats().getNumberOfEvents());
}
