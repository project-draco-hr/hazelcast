{
  doInRestoredThreadContext(xid,new Action(){
    public void run(    Transaction tx){
      if (tx != null) {
        managedConnection.log(Level.FINEST,"XA rollback: " + xid);
        tx.rollback();
      }
 else {
        managedConnection.log(Level.WARNING,"XA rollback: No active transaction anymore" + xid);
      }
      transactionCache.remove(xid);
    }
  }
);
}
