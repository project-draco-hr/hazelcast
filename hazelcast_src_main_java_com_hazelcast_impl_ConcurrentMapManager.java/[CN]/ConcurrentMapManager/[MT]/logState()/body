{
  long now=System.currentTimeMillis();
  if (LOG_STATE && ((now - lastLogStateTime) > 30000)) {
    StringBuffer sbState=new StringBuffer("State");
    for (    Block block : blocks) {
      sbState.append(block);
      sbState.append("\n");
    }
    Collection<Call> calls=mapCalls.values();
    for (    Call call : calls) {
      sbState.append(call);
      sbState.append("\n");
    }
    logger.log(Level.INFO,sbState.toString());
    lastLogStateTime=now;
  }
}
