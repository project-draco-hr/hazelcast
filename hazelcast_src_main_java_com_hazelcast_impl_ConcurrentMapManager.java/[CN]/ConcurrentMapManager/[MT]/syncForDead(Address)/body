{
  if (deadAddress.equals(thisAddress))   return;
  for (  Block block : blocks) {
    if (block != null) {
      if (deadAddress.equals(block.owner)) {
        MemberImpl member=getNextMemberBeforeSync(block.owner,true,1);
        if (member == null) {
          if (!isSuperClient()) {
            block.owner=thisAddress;
          }
 else {
            block.owner=null;
          }
        }
 else {
          if (!deadAddress.equals(member.getAddress())) {
            block.owner=member.getAddress();
          }
 else {
            block.owner=null;
          }
        }
      }
      if (block.migrationAddress != null) {
        if (deadAddress.equals(block.migrationAddress)) {
          MemberImpl member=getNextMemberBeforeSync(block.migrationAddress,true,1);
          if (member == null) {
            if (!isSuperClient()) {
              block.migrationAddress=thisAddress;
            }
 else {
              block.migrationAddress=null;
            }
          }
 else {
            if (!deadAddress.equals(member.getAddress())) {
              block.migrationAddress=member.getAddress();
            }
 else {
              block.migrationAddress=null;
            }
          }
        }
      }
    }
  }
  Collection<CMap> cmaps=maps.values();
  for (  CMap map : cmaps) {
    Collection<Record> records=map.mapRecords.values();
    for (    Record record : records) {
      onDisconnect(record,deadAddress);
    }
  }
  if (isMaster() && isSuperClient()) {
    syncForAdd();
  }
 else {
    doResetRecords();
  }
}
