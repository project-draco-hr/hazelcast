{
  checkServiceThread();
  CMap cmap=getOrCreateMap(req.name);
  Record record=cmap.getRecord(req);
  if (record == null || !record.isActive() || !record.isValid()) {
    final Map<Address,Boolean> listeners=record != null ? record.getListeners() : null;
    final long removeTime=record != null ? record.getRemoveTime() : 0;
    record=cmap.createAndAddNewRecord(req.key,defaultValue);
    record.setMapListeners(listeners);
    record.setRemoveTime(removeTime);
  }
  return record;
}
