{
  int localBackupCount=0;
  int localAsyncBackupCount=0;
  final int maxBackup=dataMemberCount.get() - 1;
  if (maxBackup > 0) {
    CMap map=getOrCreateMap(request.name);
    localBackupCount=Math.min(map.getBackupCount(),maxBackup);
    localAsyncBackupCount=Math.min(map.getAsyncBackupCount(),(maxBackup - localBackupCount));
  }
  backupCount=localBackupCount > 0 ? localBackupCount : 0;
  asyncBackupCount=localAsyncBackupCount > 0 ? localAsyncBackupCount : 0;
}
