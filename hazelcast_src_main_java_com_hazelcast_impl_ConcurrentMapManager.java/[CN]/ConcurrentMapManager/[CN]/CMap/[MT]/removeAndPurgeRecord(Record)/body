{
  Block ownerBlock=blocks[record.getBlockId()];
  if (thisAddress.equals(ownerBlock.getRealOwner())) {
    node.queryService.updateIndex(name,null,null,record,Integer.MIN_VALUE);
  }
  Record removedRecord=mapRecords.remove(record.getKey());
  if (removedRecord != record) {
    throw new RuntimeException(removedRecord + " is removed but should have removed " + record);
  }
}
