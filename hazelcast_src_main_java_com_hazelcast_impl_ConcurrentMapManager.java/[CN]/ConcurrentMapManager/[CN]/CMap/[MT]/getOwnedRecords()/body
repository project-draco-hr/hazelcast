{
  long now=System.currentTimeMillis();
  final List<Record> localRecords=new ArrayList<Record>(mapRecords.size() / 2);
  Collection<Record> records=mapRecords.values();
  for (  Record record : records) {
    if (record.isValid(now)) {
      Block block=blocks[record.getBlockId()];
      if (thisAddress.equals(block.getOwner())) {
        localRecords.add(record);
      }
    }
  }
  return localRecords;
}
