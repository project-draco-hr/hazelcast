{
  if (threadId == -1 || address == null)   throw new IllegalArgumentException();
  if (lockCount == 0)   return true;
  if (lockThreadId != threadId || !address.equals(lockAddress)) {
    return false;
  }
  if (lockCount > 0) {
    lockCount--;
  }
  if (DEBUG) {
    log(lsScheduledActions + " unlocked " + lockCount);
  }
  if (lockCount == 0) {
    lockThreadId=-1;
    lockAddress=null;
    fireScheduledActions();
  }
  return true;
}
