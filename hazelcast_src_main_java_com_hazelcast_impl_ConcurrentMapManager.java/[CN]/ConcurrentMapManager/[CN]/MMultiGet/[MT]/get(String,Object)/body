{
  final ThreadContext tc=ThreadContext.get();
  TransactionImpl txn=tc.getCallContext().getTransaction();
  Object value=objectCall(CONCURRENT_MAP_GET,name,key,null,0,-1);
  if (value instanceof AddressAwareException) {
    rethrowException(request.operation,(AddressAwareException)value);
  }
  Collection currentValues;
  if (ThreadContext.get().isClient()) {
    currentValues=(Values)toObject((Data)value);
  }
 else {
    currentValues=(Collection)value;
  }
  if (txn != null && txn.getStatus() == Transaction.TXN_STATUS_ACTIVE) {
    List allValues=new ArrayList();
    if (currentValues != null) {
      allValues.addAll(currentValues);
    }
    txn.getMulti(name,key,allValues);
    if (allValues.size() == 0) {
      return null;
    }
    return allValues;
  }
 else {
    return currentValues;
  }
}
