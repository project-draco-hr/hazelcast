{
  if (shouldSchedule(request)) {
    if (request.hasEnoughTimeToSchedule()) {
      schedule(request);
    }
 else {
      onNoTimeToSchedule(request);
    }
  }
 else {
    CMap cmap=getOrCreateMap(request.name);
    Record record=cmap.getRecord(request.key);
    if (request.operation == CONCURRENT_MAP_TRY_LOCK_AND_GET && cmap.loader != null && (record == null || record.getValueData() == null)) {
      storeExecutor.execute(new LockLoader(cmap,request),request.key.hashCode());
    }
 else {
      doOperation(request);
      returnResponse(request);
    }
  }
}
