{
  long begin=currentTimeMillis();
  setLocal(op,MapConfig.ATOMIC_LONG_MAP_NAME,name,expected,0,0);
  request.longValue=value;
  doOp();
  Data backup=(Data)getResultAsIs();
  long responseValue=request.longValue;
  if (backup != null) {
    request.value=backup;
    request.longValue=0L;
    backup(CONCURRENT_MAP_BACKUP_PUT);
    operationsCounter.incrementModified(currentTimeMillis() - begin);
  }
 else {
    operationsCounter.incrementNonModified(currentTimeMillis() - begin);
  }
  return responseValue;
}
