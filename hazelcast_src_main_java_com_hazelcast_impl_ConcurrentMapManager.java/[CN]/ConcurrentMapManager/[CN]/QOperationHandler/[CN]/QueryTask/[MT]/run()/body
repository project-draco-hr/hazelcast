{
  Predicate predicate=(Predicate)toObject(request.value);
  AtomicBoolean strongRef=new AtomicBoolean(false);
  Set<MapEntry> results=node.queryService.query(strongRef,cmap.mapIndexes,predicate);
  if (predicate != null) {
    if (!strongRef.get()) {
      Iterator<MapEntry> it=results.iterator();
      while (it.hasNext()) {
        Record record=(Record)it.next();
        if (!predicate.apply(record.getRecordEntry())) {
          it.remove();
        }
 else {
        }
      }
    }
  }
  createEntries(request,results);
  enqueueAndReturn(new Processable(){
    public void process(){
      returnResponse(request);
    }
  }
);
}
