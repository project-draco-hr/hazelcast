{
  Predicate predicate=(Predicate)toObject(request.value);
  Collection<Record> lsResults=new ArrayList();
  Collection<Record> records=node.queryService.query(cmap.mapRecords.values(),cmap.mapNamedIndexes,predicate);
  System.out.println(node.getName() + " after index REcords size " + records.size());
  if (true) {
    for (    Record record : records) {
      if (predicate == null || predicate.apply(record.getRecordEntry())) {
        System.out.println(node.getName() + " FOUND " + record.getRecordEntry().getValue());
        lsResults.add(record);
      }
    }
  }
 else {
    lsResults.addAll(records);
  }
  createEntries(request,lsResults);
  enqueueAndReturn(new Processable(){
    public void process(){
      returnResponse(request);
    }
  }
);
}
