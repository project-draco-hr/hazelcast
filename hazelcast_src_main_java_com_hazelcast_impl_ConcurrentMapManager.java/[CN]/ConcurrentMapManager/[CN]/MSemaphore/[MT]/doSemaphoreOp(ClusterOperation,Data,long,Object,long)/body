{
  begin=currentTimeMillis();
  int responseValue=1;
  if (longValue != 0L) {
    setLocal(op,MapConfig.SEMAPHORE_MAP_NAME,name,value,timeout,-1);
    request.longValue=longValue;
    doOp();
    Data backup=(Data)getResultAsIs();
    responseValue=(int)request.longValue;
    if (backup != null) {
      request.value=backup;
      request.longValue=0L;
      backup(CONCURRENT_MAP_BACKUP_PUT);
      operationsCounter.incrementModified(currentTimeMillis() - begin);
    }
 else {
      operationsCounter.incrementNonModified(currentTimeMillis() - begin);
    }
  }
  return responseValue;
}
