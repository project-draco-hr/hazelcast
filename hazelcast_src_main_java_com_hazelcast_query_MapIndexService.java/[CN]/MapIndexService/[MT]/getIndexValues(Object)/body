{
  if (hasIndexedAttributes) {
    int indexCount=mapIndexes.size();
    long[] newIndexes=new long[indexCount];
    if (value instanceof Data) {
      value=toObject((Data)value);
    }
    Collection<MapIndex> indexes=mapIndexes.values();
    for (    MapIndex mapIndex : indexes) {
      int attributedIndex=mapIndex.getAttributeIndex();
      newIndexes[attributedIndex]=mapIndex.extractLongValue(value);
    }
    if (indexTypes == null || indexTypes.length != indexCount) {
synchronized (indexTypesLock) {
        if (indexTypes == null || indexTypes.length != indexCount) {
          indexTypes=new byte[indexCount];
          for (          MapIndex mapIndex : indexes) {
            int attributedIndex=mapIndex.getAttributeIndex();
            indexTypes[attributedIndex]=mapIndex.getIndexType();
          }
        }
      }
    }
    return newIndexes;
  }
  return null;
}
