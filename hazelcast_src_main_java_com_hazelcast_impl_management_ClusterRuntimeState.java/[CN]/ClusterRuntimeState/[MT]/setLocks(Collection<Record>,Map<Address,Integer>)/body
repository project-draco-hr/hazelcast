{
  final long now=Clock.currentTimeMillis();
  for (  Record record : lockedRecords) {
    if (record.isActive() && record.isValid(now) && record.isLocked()) {
      Address owner=record.getLockAddress();
      Integer index=addressIndexes.get(owner);
      if (index == null) {
        index=-1;
      }
      lockInfos.add(new LockInfo(record.getName(),String.valueOf(record.getKey()),record.getLockAcquireTime(),index,record.getScheduledActionCount()));
    }
  }
}
