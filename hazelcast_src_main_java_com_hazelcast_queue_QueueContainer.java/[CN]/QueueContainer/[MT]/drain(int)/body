{
  if (maxSize < 0 || maxSize > itemQueue.size()) {
    maxSize=itemQueue.size();
  }
  Set<Long> keySet=new HashSet<Long>(maxSize);
  List<Data> dataList=new ArrayList<Data>(maxSize);
  for (int i=0; i < maxSize; i++) {
    QueueItem item=poll();
    keySet.add(item.getItemId());
    dataList.add(item.getData());
  }
  return new Pair<Set<Long>,List<Data>>(keySet,dataList);
}
