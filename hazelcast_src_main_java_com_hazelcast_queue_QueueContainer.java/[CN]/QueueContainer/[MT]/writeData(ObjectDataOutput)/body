{
  out.writeInt(partitionId);
  out.writeInt(getItemQueue().size());
  for (  QueueItem item : getItemQueue()) {
    item.writeData(out);
  }
  out.writeInt(txOfferMap.size());
  for (  Map.Entry<String,List<QueueItem>> entry : txOfferMap.entrySet()) {
    String txId=entry.getKey();
    out.writeUTF(txId);
    List<QueueItem> list=entry.getValue();
    out.writeInt(list.size());
    for (    QueueItem item : list) {
      item.writeData(out);
    }
  }
  out.writeInt(txPollMap.size());
  for (  Map.Entry<String,List<QueueItem>> entry : txPollMap.entrySet()) {
    String txId=entry.getKey();
    out.writeUTF(txId);
    List<QueueItem> list=entry.getValue();
    out.writeInt(list.size());
    for (    QueueItem item : list) {
      item.writeData(out);
    }
  }
}
