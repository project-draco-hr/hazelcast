{
  if (recordCachePos == chunkSize) {
    sendChunk(finalRecord);
  }
  int hash=replicatedRecord.getLatestUpdateHash();
  Object key=replicatedRecordStore.unmarshallKey(replicatedRecord.getKey());
  Object value=replicatedRecordStore.unmarshallValue(replicatedRecord.getValue());
  VectorClockTimestamp vectorClockTimestamp=replicatedRecord.getVectorClockTimestamp();
  long ttlMillis=replicatedRecord.getTtlMillis();
  recordCache[recordCachePos++]=new ReplicatedRecord(key,value,vectorClockTimestamp,hash,ttlMillis);
  if (finalRecord) {
    sendChunk(finalRecord);
  }
}
