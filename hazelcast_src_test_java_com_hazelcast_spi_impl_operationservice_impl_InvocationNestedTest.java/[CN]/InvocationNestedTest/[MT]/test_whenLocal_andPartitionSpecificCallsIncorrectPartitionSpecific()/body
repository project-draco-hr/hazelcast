{
  HazelcastInstance localHz=createHazelcastInstance();
  String response="someresponse";
  int outerPartitionId=0;
  int nestedPartitionId=1;
  DummyOperation nestedOperation=new DummyOperation(response);
  nestedOperation.setPartitionId(nestedPartitionId);
  NestedOperation operation=new NestedOperation(nestedOperation);
  OperationService operationService=getOperationService(localHz);
  InternalCompletableFuture f=operationService.invokeOnPartition(null,operation,outerPartitionId);
  try {
    f.getSafely();
    fail();
  }
 catch (  IllegalThreadStateException e) {
  }
}
