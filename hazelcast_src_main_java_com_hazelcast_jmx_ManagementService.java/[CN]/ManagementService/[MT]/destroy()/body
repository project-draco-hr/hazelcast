{
  if (!enabled) {
    return;
  }
  instance.removeDistributedObjectListener(registrationId);
  MBeanServer mbs=ManagementFactory.getPlatformMBeanServer();
  try {
    Set<ObjectName> entries=mbs.queryNames(new ObjectName(HazelcastMBean.DOMAIN + ":Cluster=" + instance.getName()+ ",*"),null);
    for (    ObjectName name : entries) {
      if (mbs.isRegistered(name)) {
        mbs.unregisterMBean(name);
      }
    }
  }
 catch (  Exception e) {
    logger.log(Level.WARNING,"Error while un-registering MBeans",e);
  }
}
