{
  MBeanServer mbs=ManagementFactory.getPlatformMBeanServer();
  try {
    InstanceMBean instanceMBean=new InstanceMBean(instance,this);
    mbs.registerMBean(instanceMBean,instanceMBean.objectName);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  registrationId=instance.addDistributedObjectListener(this);
  for (  final DistributedObject distributedObject : instance.getDistributedObjects()) {
    registerDistributedObject(distributedObject);
  }
}
