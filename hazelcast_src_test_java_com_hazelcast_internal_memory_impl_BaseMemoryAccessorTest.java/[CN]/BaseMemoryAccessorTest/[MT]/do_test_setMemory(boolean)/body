{
  final int SET_LENGTH=8;
  long address=0;
  try {
    address=allocateMemory(2 * SET_LENGTH);
    long accessAddress=aligned ? address : address + 1;
    memoryAccessor.setMemory(accessAddress,SET_LENGTH,(byte)0x01);
    for (int i=0; i < SET_LENGTH; i++) {
      assertEquals((byte)0x01,memoryAccessor.getByte(accessAddress + i));
    }
  }
  finally {
    if (address != 0) {
      freeMemory(address);
    }
  }
}
