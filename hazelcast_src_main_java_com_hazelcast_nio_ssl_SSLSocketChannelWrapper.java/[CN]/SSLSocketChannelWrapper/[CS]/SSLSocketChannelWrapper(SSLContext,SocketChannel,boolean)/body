{
  super(sc);
  sslEngine=sslContext.createSSLEngine();
  sslEngine.setUseClientMode(client);
  sslEngine.setEnableSessionCreation(true);
  SSLSession session=sslEngine.getSession();
  applicationBuffer=ByteBuffer.allocate(session.getApplicationBufferSize());
  emptyBuffer=ByteBuffer.allocate(0);
  int netBufferMax=session.getPacketBufferSize();
  netOutBuffer=ByteBuffer.allocate(netBufferMax);
  netInBuffer=ByteBuffer.allocate(netBufferMax);
}
