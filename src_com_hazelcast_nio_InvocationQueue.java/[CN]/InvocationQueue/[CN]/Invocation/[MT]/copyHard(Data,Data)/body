{
  int written=0;
  for (  ByteBuffer bb : from.lsData) {
    int limit=bb.limit();
    if (limit == 0)     throw new RuntimeException("limit cannot be zero");
    ByteBuffer bbTo=(to.inv == null) ? obtainBuffer() : to.inv.takeEmptyBuffer();
    bbTo.put(bb.array(),0,limit);
    to.add(bbTo);
    written+=limit;
  }
  if (from.size != to.size)   throw new RuntimeException("size doesn't match: src " + from.size + " dest: "+ to.size);
  to.postRead();
}
