{
  waitingThread=Thread.currentThread();
  if (timeout < 0)   throw new IllegalArgumentException();
  if (timeout == 0)   return response;
  if (timeout >= Integer.MAX_VALUE)   return take();
  long remaining=unit.toNanos(timeout);
  while (response == null && remaining > 0) {
    long start=System.currentTimeMillis();
    LockSupport.parkNanos(10000);
    remaining-=TimeUnit.MILLISECONDS.toNanos(System.currentTimeMillis() - start);
  }
  return (response == NULL) ? null : response;
}
