{
  SecondExecutorFactory secondExecutorFactory=new SecondExecutorFactory(){
    public SecondExecutor newSecondExecutor(){
      return new SecondBulkExecutor(){
        public void executeAll(        ConcurrentMap<Object,Object> entries){
          for (          Object o : entries.values()) {
            System.out.println(o);
          }
        }
        public void endSecond(){
        }
      }
;
    }
  }
;
  final ScheduledExecutorService ses=Executors.newScheduledThreadPool(1);
  KeyScheduler keyScheduler=new KeyScheduler(ses,secondExecutorFactory);
  for (int i=0; i < 10; i++) {
    schedule(true,keyScheduler,i,100);
    schedule(true,keyScheduler,i,100);
    schedule(true,keyScheduler,i,100);
  }
  for (int i=10; i < 20; i++) {
    schedule(true,keyScheduler,i,3330);
    schedule(true,keyScheduler,i,4330);
    schedule(true,keyScheduler,i,5330);
  }
  while (true) {
    System.out.println(keyScheduler);
    Thread.sleep(1000);
  }
}
