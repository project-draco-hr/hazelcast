{
  TransactionImpl transaction;
  TransactionManagerServiceImpl transactionManagerService=mock(TransactionManagerServiceImpl.class);
  when(transactionManagerService.pickBackupAddresses(anyInt())).thenThrow(new RuntimeException("example exception"));
  NodeEngine nodeEngine=mock(NodeEngine.class);
  when(nodeEngine.getLocalMember()).thenReturn(new MemberImpl());
  transaction=new TransactionImpl(transactionManagerService,nodeEngine,TransactionOptions.getDefault(),null);
  try {
    transaction.begin();
    fail("Transaction expected to fail");
  }
 catch (  Exception e) {
    assertEquals("example exception",e.getMessage());
  }
  transaction=new TransactionImpl(transactionManagerService,nodeEngine,TransactionOptions.getDefault(),"123");
  try {
    transaction.begin();
    fail("Transaction expected to fail");
  }
 catch (  Exception e) {
    assertEquals("example exception",e.getMessage());
  }
}
