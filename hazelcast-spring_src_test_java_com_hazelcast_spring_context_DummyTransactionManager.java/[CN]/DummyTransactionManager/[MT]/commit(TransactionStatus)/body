{
  if (committed) {
    throw new IllegalTransactionStateException("Transaction should not be committed at this stage!");
  }
  committed=true;
}
