{
  String name="default";
  Config cfg=getConfig();
  final int size=100;
  MapStoreConfig mapStoreConfig=new MapStoreConfig();
  mapStoreConfig.setEnabled(true);
  mapStoreConfig.setImplementation(new MapStoreAdapter(){
    @Override public Map loadAll(    Collection keys){
      Map map=new HashMap();
      for (      Object key : keys) {
        Employee emp=new Employee();
        emp.setActive(true);
        map.put(key,emp);
      }
      return map;
    }
    @Override public Set loadAllKeys(){
      Set set=new HashSet();
      for (int i=0; i < size; i++) {
        set.add(i);
      }
      return set;
    }
  }
);
  cfg.getMapConfig(name).setMapStoreConfig(mapStoreConfig);
  HazelcastInstance instance=createHazelcastInstance(cfg);
  final IMap map=instance.getMap(name);
  assertTrueEventually(new AssertTask(){
    @Override public void run() throws Exception {
      Collection values=map.values(new SqlPredicate("active = true"));
      assertEquals(size,values.size());
    }
  }
);
}
