{
  if (listener == null) {
    throw new NullPointerException("listener can't be null");
  }
  AddMessageListenerRequest request=new AddMessageListenerRequest(name);
  EventHandler<PortableMessage> handler=new EventHandler<PortableMessage>(){
    @Override public void handle(    PortableMessage event){
      SerializationService serializationService=getContext().getSerializationService();
      ClientClusterService clusterService=getContext().getClusterService();
      E messageObject=serializationService.toObject(event.getMessage());
      Member member=clusterService.getMember(event.getUuid());
      Message<E> message=new Message<E>(name,messageObject,event.getPublishTime(),member);
      listener.onMessage(message);
    }
    @Override public void beforeListenerRegister(){
    }
    @Override public void onListenerRegister(){
    }
  }
;
  return registerListener(request,handler);
}
