{
  logger.log(Level.INFO,"Building ClientConfig " + (resource != null ? " using " + resource : "") + ".");
  if (props.containsKey(GROUP_NAME)) {
    config.getGroupConfig().setName(props.getProperty(GROUP_NAME));
  }
  if (props.containsKey(GROUP_PASS)) {
    config.getGroupConfig().setPassword(props.getProperty(GROUP_PASS));
  }
  if (props.containsKey(CONNECTION_TIMEOUT)) {
    config.setConnectionTimeout(Integer.parseInt(props.getProperty(CONNECTION_TIMEOUT)));
  }
  if (props.containsKey(CONNECTION_ATTEMPT_LIMIT)) {
    config.setConnectionAttemptLimit(Integer.parseInt(props.getProperty(CONNECTION_ATTEMPT_LIMIT)));
  }
  if (props.containsKey(CONNECTION_ATTEMPT_PERIOD)) {
    config.setConnectionAttemptPeriod(Integer.parseInt(props.getProperty(CONNECTION_ATTEMPT_PERIOD)));
  }
  if (props.containsKey(ADDRESSES)) {
    final String addressesProp=props.getProperty(ADDRESSES);
    if (addressesProp != null) {
      final String[] addresses=addressesProp.split("[,; ]");
      for (      String address : addresses) {
        address=address.trim();
        if (address.length() > 0) {
          config.addAddress(address);
        }
      }
    }
  }
  return config;
}
