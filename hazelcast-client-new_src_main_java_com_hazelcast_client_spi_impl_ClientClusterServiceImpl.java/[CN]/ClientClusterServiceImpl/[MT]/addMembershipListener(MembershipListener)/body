{
  if (listener == null) {
    throw new NullPointerException("listener can't be null");
  }
  final String id=UuidUtil.buildRandomUuidString();
  listeners.put(id,listener);
  if (listener instanceof InitialMembershipListener) {
    final Cluster cluster=client.getCluster();
    ((InitialMembershipListener)listener).init(new InitialMembershipEvent(cluster,cluster.getMembers()));
  }
  return id;
}
