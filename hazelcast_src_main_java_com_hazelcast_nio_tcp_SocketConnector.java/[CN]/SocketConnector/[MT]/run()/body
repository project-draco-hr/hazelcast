{
  if (!connectionManager.isLive()) {
    if (logger.isFinestEnabled()) {
      String message="ConnectionManager is not live, connection attempt to " + address + " is cancelled!";
      log(Level.FINEST,message);
    }
    return;
  }
  try {
    if (logger.isFinestEnabled()) {
      log(Level.FINEST,"Starting to connect to " + address);
    }
    final Address thisAddress=connectionManager.ioService.getThisAddress();
    if (address.isIPv4()) {
      tryToConnect(address.getInetSocketAddress(),connectionManager.getSocketConnectTimeoutSeconds() * 1000);
    }
 else     if (thisAddress.isIPv6() && thisAddress.getScopeId() != null) {
      final Inet6Address inetAddress=AddressUtil.getInetAddressFor((Inet6Address)address.getInetAddress(),thisAddress.getScopeId());
      tryToConnect(new InetSocketAddress(inetAddress,address.getPort()),connectionManager.getSocketConnectTimeoutSeconds() * 1000);
    }
 else {
      tryConnectToIPv6();
    }
  }
 catch (  Throwable e) {
    logger.finest(e);
    connectionManager.failedConnection(address,e,silent);
  }
}
