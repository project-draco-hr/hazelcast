{
  if (connection == null) {
    return null;
  }
  try {
    ClientMessage requestMessage=ClientGetPartitionsCodec.encodeRequest();
    Future<ClientMessage> future=new ClientInvocation(client,requestMessage,connection).invoke();
    ClientMessage responseMessage=future.get();
    return ClientGetPartitionsCodec.decodeResponse(responseMessage);
  }
 catch (  Exception e) {
    if (client.getLifecycleService().isRunning()) {
      LOGGER.severe("Error while fetching cluster partition table!",e);
    }
  }
  return null;
}
