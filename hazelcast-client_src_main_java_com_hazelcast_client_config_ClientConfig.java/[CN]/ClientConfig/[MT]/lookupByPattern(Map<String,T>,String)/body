{
  T t=map.get(name);
  if (t == null) {
    int lastMatchingPoint=-1;
    for (    Map.Entry<String,T> entry : map.entrySet()) {
      String pattern=entry.getKey();
      T value=entry.getValue();
      final int matchingPoint=getMatchingPoint(name,pattern);
      if (matchingPoint > lastMatchingPoint) {
        lastMatchingPoint=matchingPoint;
        t=value;
      }
    }
  }
  return t;
}
