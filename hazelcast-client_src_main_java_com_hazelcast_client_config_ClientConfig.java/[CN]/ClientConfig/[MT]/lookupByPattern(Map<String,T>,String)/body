{
  T t=map.get(name);
  if (t == null) {
    int index=-1;
    for (    Map.Entry<String,T> entry : map.entrySet()) {
      String pattern=entry.getKey();
      T value=entry.getValue();
      final int i=nameMatches(name,pattern);
      if (i > index) {
        index=i;
        t=value;
      }
    }
  }
  return t;
}
