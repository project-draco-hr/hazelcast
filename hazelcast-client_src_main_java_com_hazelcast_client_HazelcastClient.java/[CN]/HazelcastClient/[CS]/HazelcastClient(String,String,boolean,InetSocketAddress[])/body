{
  connectionManager=new ConnectionManager(this,clusterMembers,shuffle);
  out=new OutRunnable(this,calls,new PacketWriter());
  new Thread(out,"hz.client.OutThread").start();
  in=new InRunnable(this,calls,new PacketReader());
  new Thread(in,"hz.client.InThread").start();
  listenerManager=new ListenerManager();
  new Thread(listenerManager,"hz.client.Listener").start();
  try {
    connectionManager.getConnection();
  }
 catch (  IOException ignored) {
  }
  executorServiceManager=new ExecutorServiceManager(this);
  new Thread(executorServiceManager,"hz.client.executorManager").start();
  mapLockProxy=getMap("__hz_Locks");
  clusterClientProxy=new ClusterClientProxy(this);
  clusterClientProxy.setOutRunnable(out);
  Boolean authenticate=clusterClientProxy.authenticate(groupName,groupPassword);
  if (!authenticate) {
    this.shutdown();
    throw new RuntimeException("Wrong group name and password.");
  }
}
