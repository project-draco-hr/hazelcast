{
  if (!shutdownInProgress) {
    shutdownInProgress=true;
    long begin=System.currentTimeMillis();
    out.shutdown();
    listenerManager.shutdown();
    in.shutdown();
    long time=System.currentTimeMillis() - begin;
    logger.log(Level.FINE,"HazelcastClient shutdown completed in " + time + " ms.");
    shutdownInProgress=false;
    executor.shutdownNow();
    try {
      executor.awaitTermination(5,TimeUnit.SECONDS);
    }
 catch (    InterruptedException ignore) {
    }
  }
}
