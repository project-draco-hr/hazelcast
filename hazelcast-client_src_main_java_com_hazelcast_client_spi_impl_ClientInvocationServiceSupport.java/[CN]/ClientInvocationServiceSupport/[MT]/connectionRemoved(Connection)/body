{
  if (connectionManager.isAlive()) {
    try {
      executionService.execute(new CleanResourcesTask((ClientConnection)connection));
    }
 catch (    RejectedExecutionException e) {
      logger.warning("Execution rejected ",e);
    }
  }
 else {
    cleanResources(new ConstructorFunction<Object,Throwable>(){
      @Override public Throwable createNew(      Object arg){
        return new HazelcastClientNotActiveException("Client is shutting down!");
      }
    }
,(ClientConnection)connection);
  }
}
