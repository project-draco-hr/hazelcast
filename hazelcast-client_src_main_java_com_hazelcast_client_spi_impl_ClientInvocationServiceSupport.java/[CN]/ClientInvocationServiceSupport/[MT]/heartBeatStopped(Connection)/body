{
  final RemoveAllListeners request=new RemoveAllListeners();
  new ClientInvocation(client,request,connection).invoke();
  final Address remoteEndpoint=connection.getEndPoint();
  final Iterator<ClientInvocation> iterator=eventHandlerMap.values().iterator();
  final TargetDisconnectedException response=new TargetDisconnectedException(remoteEndpoint);
  while (iterator.hasNext()) {
    final ClientInvocation clientInvocation=iterator.next();
    if (clientInvocation.getConnection().equals(connection)) {
      iterator.remove();
      clientInvocation.notify(response);
    }
  }
}
