{
  this.client=client;
  this.connectionManager=client.getConnectionManager();
  this.partitionService=client.getClientPartitionService();
  responseThread=new ResponseThread(client.getThreadGroup(),client.getName() + ".response-",client.getClientConfig().getClassLoader());
  responseThread.start();
  final ClientProperties clientProperties=client.getClientProperties();
  int waitTime=clientProperties.getInvocationTimeoutSeconds().getInteger();
  this.retryTimeoutInSeconds=waitTime > 0 ? waitTime : Integer.parseInt(ClientProperties.PROP_INVOCATION_TIMEOUT_SECONDS_DEFAULT);
}
