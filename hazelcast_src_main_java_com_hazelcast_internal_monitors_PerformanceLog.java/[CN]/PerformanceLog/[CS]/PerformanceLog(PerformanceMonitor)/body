{
  this.performanceMonitor=performanceMonitor;
  this.logWriter=performanceMonitor.singleLine ? new SingleLinePerformanceLogWriter() : new MultiLinePerformanceLogWriter();
  this.logger=performanceMonitor.nodeEngine.getLogger(PerformanceLog.class);
  this.hazelcastInstance=(HazelcastInstanceImpl)performanceMonitor.nodeEngine.getHazelcastInstance();
  this.pathname=getPathName();
  GroupProperties props=hazelcastInstance.node.getGroupProperties();
  this.maxRollingFileCount=props.getInteger(PERFORMANCE_MONITOR_MAX_ROLLED_FILE_COUNT);
  this.maxRollingFileSizeBytes=round(ONE_MB * props.getFloat(PERFORMANCE_MONITOR_MAX_ROLLED_FILE_SIZE_MB));
  logger.finest("maxRollingFileSizeBytes:" + maxRollingFileSizeBytes + " maxRollingFileCount:"+ maxRollingFileCount);
}
