{
  try {
    if (file == null) {
      file=new File(format(fileName,index));
      bufferedWriter=newWriter();
      renderStaticPlugins();
    }
    renderPlugin(plugin);
    bufferedWriter.flush();
    if (fileLength >= maxRollingFileSizeBytes) {
      rollover();
    }
  }
 catch (  IOException e) {
    logger.warning("Failed to write to file:" + file.getAbsolutePath(),e);
    file=null;
    closeResource(bufferedWriter);
    bufferedWriter=null;
  }
catch (  RuntimeException e) {
    logger.warning("Failed to write file: " + file,e);
  }
}
