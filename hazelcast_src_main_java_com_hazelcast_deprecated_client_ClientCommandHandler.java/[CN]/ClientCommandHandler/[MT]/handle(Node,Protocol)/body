{
  Protocol response;
  try {
    response=processCall(node,protocol);
  }
 catch (  HazelcastInstanceNotActiveException e) {
    Data exception=node.serializationService.toData(e);
    response=new Protocol(protocol.conn,Command.ERROR,protocol.flag,protocol.threadId,false,new String[]{e.getClass().getName()},exception);
  }
catch (  RuntimeException e) {
    ILogger logger=node.getLogger(this.getClass().getName());
    logger.log(Level.WARNING,"exception during handling " + protocol.command + ": "+ e.getMessage(),e);
    Data exception=node.serializationService.toData(e);
    response=new Protocol(protocol.conn,Command.ERROR,protocol.flag,protocol.threadId,false,new String[]{e.getClass().getName()},exception);
  }
  if (response != null)   sendResponse(node,response,protocol.conn);
}
