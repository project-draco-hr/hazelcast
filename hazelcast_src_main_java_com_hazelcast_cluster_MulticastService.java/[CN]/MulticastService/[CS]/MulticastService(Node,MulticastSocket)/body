{
  this.node=node;
  logger=node.getLogger(MulticastService.class.getName());
  Config config=node.getConfig();
  this.multicastSocket=multicastSocket;
  sendOutput=node.getSerializationService().createObjectDataOutput(DATAGRAM_BUFFER_SIZE);
  receiveOutput=node.getSerializationService().createObjectDataOutput(DATAGRAM_BUFFER_SIZE);
  this.datagramPacketReceive=new DatagramPacket(new byte[DATAGRAM_BUFFER_SIZE],DATAGRAM_BUFFER_SIZE);
  final MulticastConfig multicastConfig=config.getNetworkConfig().getJoin().getMulticastConfig();
  this.datagramPacketSend=new DatagramPacket(new byte[0],0,InetAddress.getByName(multicastConfig.getMulticastGroup()),multicastConfig.getMulticastPort());
  running=true;
}
