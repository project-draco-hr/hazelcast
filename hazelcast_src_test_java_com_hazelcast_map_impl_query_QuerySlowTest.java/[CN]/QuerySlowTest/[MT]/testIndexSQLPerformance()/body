{
  Config cfg=new Config();
  TestHazelcastInstanceFactory nodeFactory=createHazelcastInstanceFactory(4);
  HazelcastInstance instance=nodeFactory.newHazelcastInstance(cfg);
  IMap<String,SampleObjects.Employee> map=instance.getMap("employees");
  fillMap(map);
  long start=Clock.currentTimeMillis();
  Set<Map.Entry<String,SampleObjects.Employee>> entries=map.entrySet(new SqlPredicate("active=true and age=23"));
  long tookWithout=(Clock.currentTimeMillis() - start);
  assertEntriesMatch(entries);
  map.clear();
  map=instance.getMap("employees2");
  map.addIndex("name",false);
  map.addIndex("age",true);
  map.addIndex("active",false);
  fillMap(map);
  start=Clock.currentTimeMillis();
  entries=map.entrySet(new SqlPredicate("active and age=23"));
  long tookWithIndex=(Clock.currentTimeMillis() - start);
  assertEntriesMatch(entries);
  assertTrue(tookWithIndex < (tookWithout / 2));
}
