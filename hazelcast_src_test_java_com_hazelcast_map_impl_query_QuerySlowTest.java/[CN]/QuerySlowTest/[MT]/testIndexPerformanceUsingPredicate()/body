{
  HazelcastInstance h1=createHazelcastInstance(newConfig());
  IMap imap=h1.getMap("employees");
  fillMap(imap);
  EntryObject e=new PredicateBuilder().getEntryObject();
  Predicate predicate=e.is("active").and(e.get("age").equal(23));
  long tookWithout=runQuery(imap,predicate);
  imap.clear();
  imap=h1.getMap("employees2");
  imap.addIndex("name",false);
  imap.addIndex("active",false);
  imap.addIndex("age",true);
  fillMap(imap);
  waitAllForSafeState(h1);
  long tookWithIndex=runQuery(imap,predicate);
  assertTrue("withIndex: " + tookWithIndex + ", without: "+ tookWithout,tookWithIndex < (tookWithout / 2));
}
