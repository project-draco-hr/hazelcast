{
  int partitionId=getPartitionId();
  recordStore=mapService.getRecordStore(partitionId,name);
  Set<Map.Entry<Data,Data>> entries=entrySet.getEntrySet();
  for (  Map.Entry<Data,Data> entry : entries) {
    Data dataKey=entry.getKey();
    Data dataValue=entry.getValue();
    Record record=recordStore.getRecord(dataKey);
    if (record == null) {
      record=mapService.createRecord(name,dataKey,dataValue,-1,false);
      updateSizeEstimator(calculateRecordSize(record));
      recordStore.putRecord(dataKey,record);
    }
 else {
      updateSizeEstimator(-calculateRecordSize(record));
      mapContainer.getRecordFactory().setValue(record,dataValue);
      updateSizeEstimator(calculateRecordSize(record));
    }
  }
}
