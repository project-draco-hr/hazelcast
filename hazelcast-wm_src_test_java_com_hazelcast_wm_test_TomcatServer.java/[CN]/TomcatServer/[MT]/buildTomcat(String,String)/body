{
  tomcat=new Tomcat();
  File baseDir=new File(System.getProperty("java.io.tmpdir"));
  tomcat.setPort(port);
  tomcat.setBaseDir(baseDir.getAbsolutePath());
  Context context=tomcat.addContext("/",sourceDir);
  context.getServletContext().setAttribute(Globals.ALT_DD_ATTR,sourceDir + "/WEB-INF/" + serverXml);
  ContextConfig contextConfig=new ContextConfig();
  context.addLifecycleListener(contextConfig);
  context.setCookies(true);
  context.setBackgroundProcessorDelay(1);
  context.setReloadable(true);
  tomcat.getEngine().setJvmRoute("tomcat" + port);
  tomcat.getEngine().setName("tomcat-test" + port);
  tomcat.start();
  running=true;
}
