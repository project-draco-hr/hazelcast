{
  ByteBuffer byteBuffer=ByteBuffer.allocate(512);
  ClientMessage cmEncode=new ClientMessage();
  cmEncode.wrapForEncode(byteBuffer,0);
  cmEncode.headerType(7).version((short)3).flags(ClientMessage.BEGIN_AND_END_FLAGS).correlationId(66);
  ClientMessage cmDecode=new ClientMessage();
  cmDecode.wrapForDecode(byteBuffer,0);
  assertEquals(7,cmDecode.headerType());
  assertEquals(3,cmDecode.version());
  assertEquals(ClientMessage.BEGIN_AND_END_FLAGS,cmDecode.flags());
  assertEquals(66,cmDecode.correlationId());
  assertEquals(14,cmDecode.frameLength());
}
