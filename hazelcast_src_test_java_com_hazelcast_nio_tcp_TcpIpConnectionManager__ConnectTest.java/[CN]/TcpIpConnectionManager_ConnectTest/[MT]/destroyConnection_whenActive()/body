{
  startAllConnectionManagers();
  final TcpIpConnection connAB=connect(connManagerA,addressB);
  final TcpIpConnection connBA=connect(connManagerB,addressA);
  connManagerA.destroyConnection(connAB);
  assertIsDestroyed(connAB);
  assertTrueEventually(new AssertTask(){
    @Override public void run() throws Exception {
      assertIsDestroyed(connBA);
    }
  }
);
}
