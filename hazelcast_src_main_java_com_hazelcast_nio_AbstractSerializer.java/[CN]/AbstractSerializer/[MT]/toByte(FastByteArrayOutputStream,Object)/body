{
  if (object == null) {
    return;
  }
  try {
    TypeSerializer ts=(ds.isSuitable(object)) ? ds : cs;
    bos.writeByte(ts.getTypeId());
    ts.write(bos,object);
    bos.flush();
  }
 catch (  Throwable e) {
    logger.log(Level.SEVERE,e.getMessage(),e);
    throw new RuntimeException(e);
  }
}
