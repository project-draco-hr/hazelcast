{
  boolean isError=false;
  Object clientResponseObject;
  if (response == null) {
    clientResponseObject=ClientEngineImpl.NULL;
  }
 else   if (response instanceof Throwable) {
    isError=true;
    ClientExceptionConverter converter=ClientExceptionConverters.get(getClientType());
    clientResponseObject=converter.convert((Throwable)response);
  }
 else {
    clientResponseObject=response;
  }
  ClientResponse clientResponse=new ClientResponse(clientEngine.toData(clientResponseObject),isError,callId);
  clientEngine.sendResponse(this,clientResponse);
}
