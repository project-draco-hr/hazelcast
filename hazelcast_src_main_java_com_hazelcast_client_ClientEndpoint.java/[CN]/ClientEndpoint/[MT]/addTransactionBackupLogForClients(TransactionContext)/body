{
  Transaction transaction=TransactionAccessor.getTransaction(context);
  if (context.isXAManaged() && transaction.getState() == PREPARED) {
    TransactionManagerServiceImpl transactionManager=(TransactionManagerServiceImpl)clientEngine.getTransactionManagerService();
    transactionManager.addTxBackupLogForClientRecovery(transaction);
  }
 else {
    ILogger logger=getLogger();
    try {
      context.rollbackTransaction();
    }
 catch (    HazelcastInstanceNotActiveException ignored) {
      if (logger.isFinestEnabled()) {
        logger.finest(ignored);
      }
    }
catch (    Exception e) {
      logger.warning(e);
    }
  }
}
