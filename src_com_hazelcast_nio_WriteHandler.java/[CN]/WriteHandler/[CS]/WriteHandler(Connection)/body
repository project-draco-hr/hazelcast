{
  super(connection,true);
  if (cipherBuilder != null) {
    if (cipherBuilder.isAsymmetric()) {
      packetWriter=new AsymmetricCipherPacketWriter();
    }
 else {
      packetWriter=new SymmetricCipherPacketWriter();
    }
  }
 else {
    packetWriter=new DefaultPacketWriter();
  }
  System.out.println("WRITEHandler " + packetWriter);
}
