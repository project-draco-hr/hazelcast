{
  final int requiredDataSize=calculateDataSize(member,memberAttributeChange,eventType,members);
  ClientMessage clientMessage=ClientMessage.createForEncode(requiredDataSize);
  clientMessage.setMessageType(TYPE.id());
  clientMessage.ensureCapacity(requiredDataSize);
  encodeMember(member,clientMessage);
  encodeMemberAttributeChange(memberAttributeChange,clientMessage);
  clientMessage.set(eventType);
  encodeMemberList(members,clientMessage);
  clientMessage.setFlags(ClientMessage.LISTENER_EVENT_FLAG);
  clientMessage.updateFrameLength();
  return clientMessage;
}
