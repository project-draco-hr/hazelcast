{
  if (defaultInstance.get() != null) {
    throw new IllegalStateException("Default Hazelcast instance is already initialized.");
  }
synchronized (initLock) {
    if (defaultInstance.get() != null) {
      throw new IllegalStateException("Default Hazelcast instance is already initialized.");
    }
    defaultConfig=config;
    HazelcastInstance defaultInstanceObject=com.hazelcast.impl.FactoryImpl.newHazelcastInstanceProxy(config,null);
    defaultInstance.set(defaultInstanceObject);
    return defaultInstanceObject;
  }
}
