{
  if (defaultInstance.get() != null) {
    throw new IllegalStateException("Default Hazelcast instance is already initilized.");
  }
synchronized (initLock) {
    if (defaultInstance.get() != null) {
      throw new IllegalStateException("Default Hazelcast instance is already initilized.");
    }
    defaultInstance.set(com.hazelcast.impl.FactoryImpl.newHazelcastInstanceProxy(config));
  }
  return defaultInstance.get();
}
