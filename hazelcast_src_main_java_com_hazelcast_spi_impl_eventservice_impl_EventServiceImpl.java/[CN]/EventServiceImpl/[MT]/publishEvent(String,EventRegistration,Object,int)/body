{
  if (!(registration instanceof Registration)) {
    throw new IllegalArgumentException();
  }
  final Registration reg=(Registration)registration;
  if (isLocal(reg)) {
    executeLocal(serviceName,event,reg,orderKey);
  }
 else {
    final Address subscriber=registration.getSubscriber();
    sendEventPacket(subscriber,new EventPacket(registration.getId(),serviceName,event),orderKey);
  }
}
