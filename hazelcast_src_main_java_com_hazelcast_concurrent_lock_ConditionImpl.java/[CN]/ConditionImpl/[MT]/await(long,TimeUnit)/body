{
  final NodeEngine nodeEngine=lockProxy.getNodeEngine();
  final Invocation inv=nodeEngine.getOperationService().createInvocationBuilder(LockService.SERVICE_NAME,new AwaitOperation(lockProxy.namespace,lockProxy.key,ThreadContext.getThreadId(),unit.toMillis(time),conditionId),partitionId).build();
  Future f=inv.invoke();
  try {
    final Object result=f.get();
    return Boolean.TRUE.equals(result);
  }
 catch (  Throwable t) {
    return (Boolean)ExceptionUtil.rethrow(t);
  }
}
