{
  final Set<Member> members=new HashSet<Member>(node.getClusterImpl().getMembers());
  final Data key=request.key;
  PartitionInfo partitionInfo=null;
  PartitionManager pm=node.partitionManager;
  if (key != null) {
    partitionInfo=new PartitionInfo(pm.getPartition(pm.getPartitionId(key)));
  }
  final Address endpoint=isCaller ? request.target : request.caller;
  boolean connected=false;
  if (endpoint != null && !endpoint.equals(node.getThisAddress())) {
    Connection targetConnection=node.connectionManager.getConnection(endpoint);
    connected=(targetConnection != null && targetConnection.live());
  }
  return new RedoLog(request.name,key,request.operation,endpoint,connected,members,partitionInfo,request.redoCount,pm.getMigratingPartition(),redoType,isCaller);
}
