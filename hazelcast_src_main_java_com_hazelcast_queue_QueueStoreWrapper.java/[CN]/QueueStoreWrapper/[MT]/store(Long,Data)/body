{
  if (enabled) {
    final Object actualValue;
    if (binary) {
      BufferObjectDataOutput out=serializationService.createObjectDataOutput(value.totalSize());
      try {
        value.writeData(out);
        actualValue=out.getBuffer();
      }
 catch (      IOException e) {
        throw new HazelcastException(e);
      }
 finally {
        IOUtil.closeResource(out);
      }
    }
 else {
      actualValue=serializationService.toObject(value);
    }
    store.store(key,actualValue);
  }
}
