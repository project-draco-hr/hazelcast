{
  clearMigrationQueue();
  lock.lock();
  try {
    initialized=false;
    for (    PartitionInfo partition : partitions) {
      for (int i=0; i < PartitionInfo.MAX_REPLICA_COUNT; i++) {
        partition.setReplicaAddress(i,null);
      }
    }
    activeMigrations.clear();
    completedMigrations.clear();
    stateVersion.set(0);
  }
  finally {
    lock.unlock();
  }
}
