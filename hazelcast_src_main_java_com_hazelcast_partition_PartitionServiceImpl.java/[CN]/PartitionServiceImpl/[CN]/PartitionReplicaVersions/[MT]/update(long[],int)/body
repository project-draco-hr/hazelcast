{
  final int index=currentReplica - 1;
  final long current=versions[index];
  final long next=newVersions[index];
  final boolean updated=(current == next - 1);
  if (updated) {
    System.arraycopy(newVersions,0,versions,0,newVersions.length);
  }
  return updated;
}
