{
  boolean changed=false;
  Address currentAddress=addresses.get(index);
  if (partitionListener != null) {
    if (currentAddress == null) {
      changed=(address != null);
    }
 else {
      changed=!currentAddress.equals(address);
    }
  }
  addresses.set(index,address);
  if (changed) {
    partitionListener.replicaChanged(new PartitionReplicaChangeEvent(partitionId,index,currentAddress,address));
  }
}
