{
  if (a == null) {
    throw new NullPointerException();
  }
  final int size=size();
  final T[] result;
  if (a.length < size) {
    result=(T[])java.lang.reflect.Array.newInstance(a.getClass().getComponentType(),size);
  }
 else {
    result=a;
  }
  int i=0;
  for (  Entry<K,V> entry : entrySet) {
    result[i++]=(T)entry.getValue();
  }
  for (int j=i; j < a.length; j++) {
    result[j]=null;
  }
  return result;
}
