{
  final Integer threadId=threadLocal.get();
  if (threadId != null) {
    return threadId;
  }
  return (int)Thread.currentThread().getId();
}
