{
  final Long threadId=threadLocal.get();
  if (threadId != null) {
    return threadId;
  }
  return Thread.currentThread().getId();
}
