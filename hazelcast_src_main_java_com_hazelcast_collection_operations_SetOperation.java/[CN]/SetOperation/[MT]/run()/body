{
  CollectionContainer container=getOrCreateContainer();
  recordId=container.nextId();
  CollectionRecord record=new CollectionRecord(recordId,isBinary() ? value : toObject(value));
  List<CollectionRecord> list=(List<CollectionRecord>)container.getOrCreateCollectionWrapper(dataKey).getCollection();
  try {
    record=list.set(index,record);
    response=record == null ? null : record.getObject();
    shouldBackup=true;
  }
 catch (  IndexOutOfBoundsException e) {
    response=e;
  }
}
