{
  if (threadId == -1 || address == null)   throw new IllegalArgumentException();
  if (lockCount == 0)   return true;
  if (getLockThreadId() != threadId || !address.equals(getLockAddress())) {
    return false;
  }
  if (lockCount > 0) {
    lockCount--;
  }
  return true;
}
