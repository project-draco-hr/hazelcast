{
  Session session=sf.openSession();
  Transaction tx=session.beginTransaction();
  try {
    for (int i=0; i < count; i++) {
      DummyEntity e=new DummyEntity((long)i,"dummy:" + i,i * 123456d,new Date());
      session.save(e);
      for (int j=0; j < childCount; j++) {
        DummyProperty p=new DummyProperty("key:" + j,e);
        session.save(p);
      }
    }
    tx.commit();
  }
 catch (  Exception e) {
    tx.rollback();
    e.printStackTrace();
  }
 finally {
    session.close();
  }
}
