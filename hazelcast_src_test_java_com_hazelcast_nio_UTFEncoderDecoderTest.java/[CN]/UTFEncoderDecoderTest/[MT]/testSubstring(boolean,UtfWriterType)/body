{
  UTFEncoderDecoder utfEncoderDecoder=newUTFEncoderDecoder(fastStringEnabled,utfWriterType);
  if (utfEncoderDecoder == null) {
    System.err.println("Ignoring test... " + utfWriterType + " is not available!");
    return;
  }
  byte[] buffer=new byte[64];
  String original="1234abcd";
  String str=original.substring(4);
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  DataOutputStream dos=new DataOutputStream(baos);
  utfEncoderDecoder.writeUTF0(dos,str,buffer);
  byte[] bytes=baos.toByteArray();
  ByteArrayInputStream bais=new ByteArrayInputStream(bytes);
  DataInputStream dis=new DataInputStream(bais);
  String result=utfEncoderDecoder.readUTF0(dis,buffer);
  assertEquals(str,result);
}
