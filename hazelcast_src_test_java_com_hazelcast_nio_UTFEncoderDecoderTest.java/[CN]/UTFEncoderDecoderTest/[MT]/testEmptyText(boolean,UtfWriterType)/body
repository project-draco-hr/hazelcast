{
  UTFEncoderDecoder utfEncoderDecoder=newUTFEncoderDecoder(fastStringEnabled,utfWriterType);
  if (utfEncoderDecoder == null) {
    System.err.println("Ignoring test... " + utfWriterType + " is not available!");
    return;
  }
  byte[] buffer=new byte[1024];
  ByteArrayOutputStream baos=new ByteArrayOutputStream(500);
  DataOutputStream dos=new DataOutputStream(baos);
  utfEncoderDecoder.writeUTF0(dos,"",buffer);
  utfEncoderDecoder.writeUTF0(dos,"some other value",buffer);
  ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  DataInputStream dis=new DataInputStream(bais);
  String result1=utfEncoderDecoder.readUTF0(dis,buffer);
  String result2=utfEncoderDecoder.readUTF0(dis,buffer);
  assertEquals("",result1);
  assertEquals("some other value",result2);
}
