{
  UTFEncoderDecoder utfEncoderDecoder=newUTFEncoderDecoder(fastStringEnabled,utfWriterType);
  if (utfEncoderDecoder == null) {
    System.err.println("Ignoring test... " + utfWriterType + " is not available!");
    return;
  }
  byte[] buffer=new byte[1024];
  for (int o=0; o < BENCHMARK_ROUNDS; o++) {
    for (int i=170; i < 300; i+=2) {
      ByteArrayOutputStream baos=new ByteArrayOutputStream(500);
      DataOutputStream dos=new DataOutputStream(baos);
      String randomString=random(i * 100);
      utfEncoderDecoder.writeUTF0(dos,randomString,buffer);
      ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
      DataInputStream dis=new DataInputStream(bais);
      String result=utfEncoderDecoder.readUTF0(dis,buffer);
      assertEquals(randomString,result);
    }
  }
}
