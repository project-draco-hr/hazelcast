{
synchronized (listenerMap) {
    Map<Object,ListenerThread> map=listenerMap.get(listener);
    if (map == null) {
      map=new HashMap<Object,ListenerThread>();
      listenerMap.put(listener,map);
    }
    map.put(key,thread);
  }
}
