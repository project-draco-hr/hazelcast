{
  Config config=new Config();
  final TestHazelcastInstanceFactory factory=createHazelcastInstanceFactory(2);
  final HazelcastInstance h1=factory.newHazelcastInstance(config);
  boolean b=h1.executeTransaction(new TransactionalTask<Boolean>(){
    public Boolean execute(    TransactionalTaskContext context) throws TransactionException {
      final TransactionalMap<Object,Object> txnMap=context.getMap("default");
      txnMap.put("1","value");
      assertEquals("value",txnMap.get("1"));
      assertEquals("value",txnMap.get("1"));
      assertEquals("value",txnMap.get("1"));
      assertEquals(1,txnMap.size());
      return true;
    }
  }
);
  assertEquals(1,h1.getMap("default").size());
}
