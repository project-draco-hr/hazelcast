{
  final IMap map=getMap();
  final SimpleClient client=getClient();
  for (int i=0; i < 100; i++) {
    map.put(i,i);
  }
  for (int i=0; i < 100; i++) {
    getClient().send(new MapRemoveRequest(mapName,TestUtil.toData(i),ThreadUtil.getThreadId()));
    assertEquals(i,client.receive());
  }
  for (int i=0; i < 100; i++) {
    map.put(i,i);
  }
  for (int i=0; i < 100; i++) {
    client.send(new MapDeleteRequest(mapName,TestUtil.toData(i),ThreadUtil.getThreadId()));
    client.receive();
    assertNull(map.get(i));
  }
  for (int i=0; i < 100; i++) {
    map.put(i,i);
  }
  for (int i=0; i < 100; i++) {
    client.send(new MapEvictRequest(mapName,TestUtil.toData(i),ThreadUtil.getThreadId()));
    client.receive();
    assertNull(map.get(i));
  }
  assertEquals(0,map.size());
}
