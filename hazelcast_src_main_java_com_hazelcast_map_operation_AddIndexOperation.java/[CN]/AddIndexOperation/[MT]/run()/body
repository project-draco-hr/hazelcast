{
  MapService mapService=getService();
  MapContainer mapContainer=mapService.getMapServiceContext().getMapContainer(name);
  RecordStore recordStore=mapService.getMapServiceContext().getPartitionContainer(getPartitionId()).getRecordStore(name);
  IndexService indexService=mapContainer.getIndexService();
  SerializationService ss=getNodeEngine().getSerializationService();
  Index index=indexService.addOrGetIndex(attributeName,ordered);
  final Iterator<Record> iterator=recordStore.valueIterator();
  while (iterator.hasNext()) {
    final Record record=iterator.next();
    Data key=record.getKey();
    Object value=record.getValue();
    index.saveEntryIndex(new QueryEntry(ss,key,key,value));
  }
}
