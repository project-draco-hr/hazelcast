{
  Config config=new Config();
  config.setProperty(GroupProperty.PARTITION_COUNT,"2");
  config.setProperty(GroupProperty.PARTITION_OPERATION_THREAD_COUNT,"1");
  HazelcastInstance hz=createHazelcastInstance(config);
  final OperationService operationService=getOperationService(hz);
  int innerPartitionId=0;
  int outerPartitionId=1;
  InnerOperation innerOperation=new InnerOperation(response,innerPartitionId);
  OuterOperation outerOperation=new OuterOperation(innerOperation,outerPartitionId);
  Future f=operationService.invokeOnPartition(null,outerOperation,outerOperation.getPartitionId());
  assertEquals(response,f.get());
}
