{
  if (response == null) {
    throw new IllegalArgumentException("response can't be null");
  }
synchronized (this) {
    if (this.response != null) {
      throw new IllegalArgumentException("The Future.set method can only be called once");
    }
    this.response=response;
    this.notifyAll();
  }
}
