{
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  DataOutputStream dout=new DataOutputStream(bos);
  MapOperationStatsImpl mapOperationStats=new MapOperationStatsImpl(100);
  mapOperationStats.incrementPuts();
  mapOperationStats.incrementGets();
  mapOperationStats.incrementRemoves();
  mapOperationStats.writeData(dout);
  MapOperationStatsImpl newStat=new MapOperationStatsImpl();
  ByteArrayInputStream bis=new ByteArrayInputStream(bos.toByteArray());
  newStat.readData(new DataInputStream(bis));
  assertEquals(mapOperationStats.getNumberOfGets(),newStat.getNumberOfGets());
  assertEquals(mapOperationStats.getNumberOfPuts(),newStat.getNumberOfPuts());
  assertEquals(mapOperationStats.getNumberOfRemoves(),newStat.getNumberOfRemoves());
}
