{
  try {
    if (active) {
      joined=false;
      active=false;
      concurrentMapManager.reset();
      clusterService.stop();
      multicastService.stop();
      connectionManager.shutdown();
      executorManager.stop();
      inSelector.shutdown();
      outSelector.shutdown();
      address=null;
      masterAddress=null;
      clusterManager.stop();
      Runtime.getRuntime().removeShutdownHook(shutdownHookThread);
    }
  }
 catch (  Throwable e) {
    if (logger != null)     logger.log(Level.FINEST,"shutdown exception",e);
  }
}
