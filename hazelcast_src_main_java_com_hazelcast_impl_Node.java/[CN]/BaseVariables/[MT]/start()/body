{
  if (completelyShutdown)   return;
  final Thread inThread=new Thread(inSelector,"hz.InThread");
  inThread.setPriority(7);
  inThread.start();
  final Thread outThread=new Thread(outSelector,"hz.OutThread");
  outThread.setPriority(7);
  outThread.start();
  final Thread clusterServiceThread=new Thread(clusterService,"hz.ServiceThread");
  clusterServiceThread.setPriority(8);
  clusterServiceThread.start();
  final Thread queryThread=new Thread(queryService,"hz.QueryThread");
  queryThread.setPriority(6);
  queryThread.start();
  if (config.getNetworkConfig().getJoin().getMulticastConfig().isEnabled()) {
    startMulticastService();
  }
  active=true;
  join();
  if (!completelyShutdown) {
    Runtime.getRuntime().addShutdownHook(shutdownHookThread);
  }
}
