{
  while (!joined) {
    try {
      logger.log(Level.FINEST,"joining... " + masterAddress);
      if (masterAddress == null) {
        masterAddress=findMaster();
        if (masterAddress == null || masterAddress.equals(address)) {
          setAsMaster();
          return;
        }
      }
      if (!masterAddress.equals(address)) {
        connectAndSendJoinRequest(masterAddress);
      }
      Thread.sleep(500);
    }
 catch (    final Exception e) {
      logger.log(Level.FINEST,"multicast join",e);
    }
  }
}
