{
  final long joinStartTime=joiner != null ? joiner.getStartTime() : Clock.currentTimeMillis();
  final long maxJoinMillis=getGroupProperties().MAX_JOIN_SECONDS.getInteger() * 1000;
  try {
    if (joiner == null) {
      logger.log(Level.WARNING,"No join method is enabled! Starting standalone.");
      setAsMaster();
    }
 else {
      joiner.join(joined);
    }
  }
 catch (  Exception e) {
    if (Clock.currentTimeMillis() - joinStartTime < maxJoinMillis) {
      logger.log(Level.WARNING,e.getMessage());
      rejoin();
    }
 else {
      logger.log(Level.SEVERE,"Could not join cluster, shutting down!",e);
      shutdown(false,true);
    }
  }
}
