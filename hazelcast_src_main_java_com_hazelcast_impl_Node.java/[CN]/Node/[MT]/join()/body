{
  long joinStartTime=Clock.currentTimeMillis();
  long maxJoinMillis=getGroupProperties().MAX_JOIN_SECONDS.getInteger() * 1000;
  try {
    if (joiner == null) {
      logger.log(Level.WARNING,"No join method is enabled! Starting standalone.");
      setAsMaster();
    }
 else {
      joiner.join(joined);
    }
  }
 catch (  Exception e) {
    logger.log(Level.WARNING,e.getMessage());
    if (Clock.currentTimeMillis() - joinStartTime < maxJoinMillis) {
      factory.lifecycleService.restart();
    }
 else {
      setActive(false);
      joined.set(false);
      Util.throwUncheckedException(e);
    }
  }
}
