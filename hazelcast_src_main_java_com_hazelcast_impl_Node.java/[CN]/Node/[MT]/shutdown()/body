{
  try {
    if (active) {
      joined=false;
      active=false;
      ConcurrentMapManager.get().reset();
      ClusterService.get().stop();
      MulticastService.get().stop();
      ConnectionManager.get().shutdown();
      ExecutorManager.get().stop();
      InSelector.get().shutdown();
      OutSelector.get().shutdown();
      address=null;
      masterAddress=null;
      FactoryImpl.inited=false;
      ClusterManager.get().stop();
    }
  }
 catch (  Throwable e) {
    if (logger != null)     logger.log(Level.FINEST,"shutdown exception",e);
  }
}
