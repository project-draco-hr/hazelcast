{
  try {
    new Thread(new Runnable(){
      public void run(){
        if (connectionManager != null) {
          connectionManager.shutdown();
          LifecycleServiceImpl lifecycleService=factory.lifecycleService;
synchronized (lifecycleService.lifecycleLock) {
            lifecycleService.fireLifecycleEvent(SHUTTING_DOWN);
            doShutdown(true);
            lifecycleService.fireLifecycleEvent(SHUTDOWN);
          }
        }
      }
    }
).start();
  }
 catch (  Throwable ignored) {
    logger.log(Level.FINEST,ignored.getMessage(),ignored);
  }
 finally {
    outOfMemory=true;
    logger.log(Level.SEVERE,e.getMessage(),e);
  }
}
