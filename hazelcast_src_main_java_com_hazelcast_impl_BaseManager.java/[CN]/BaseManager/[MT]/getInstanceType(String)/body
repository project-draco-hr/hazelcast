{
  if (name.startsWith(Prefix.QUEUE)) {
    return InstanceType.QUEUE;
  }
 else   if (name.startsWith(Prefix.TOPIC)) {
    return InstanceType.TOPIC;
  }
 else   if (name.startsWith(Prefix.MAP)) {
    return InstanceType.MAP;
  }
 else   if (name.startsWith(Prefix.MAP_BASED)) {
    if (name.length() > 3) {
      final String typeStr=name.substring(2,4);
      if (Prefix.AS_SET.equals(typeStr)) {
        return InstanceType.SET;
      }
 else       if (Prefix.AS_LIST.equals(typeStr)) {
        return InstanceType.LIST;
      }
 else       if (Prefix.AS_MULTIMAP.equals(typeStr)) {
        return InstanceType.MULTIMAP;
      }
    }
    return InstanceType.MAP;
  }
 else {
    throw new RuntimeException("Unknown InstanceType " + name);
  }
}
