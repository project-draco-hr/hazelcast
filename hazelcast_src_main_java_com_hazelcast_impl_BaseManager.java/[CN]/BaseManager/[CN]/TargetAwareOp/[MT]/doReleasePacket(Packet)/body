{
  checkServiceThread();
  if (qServiceThreadPacketCache.offer(packet)) {
    if (packet.released) {
      throw new RuntimeException("Packet is already released! " + TargetAwareOp.this);
    }
    packet.released=true;
  }
 else {
    releasePacket(packet);
  }
}
