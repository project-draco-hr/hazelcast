{
  fireTtlCleanup();
  NearCacheRecord record=cache.get(key);
  if (record != null) {
    record.access();
    if (record.isExpired(maxIdleMillis,timeToLiveMillis)) {
      cache.remove(key);
      stats.incrementMisses();
      return null;
    }
    if (record.getValue().equals(NULL_OBJECT)) {
      stats.incrementMisses();
      return NULL_OBJECT;
    }
    stats.incrementHits();
    return inMemoryFormat.equals(InMemoryFormat.BINARY) ? context.getSerializationService().toObject(record.getValue()) : record.getValue();
  }
 else {
    stats.incrementMisses();
    return null;
  }
}
