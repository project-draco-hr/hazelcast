{
  Object result=null;
  boolean done=true;
  try {
    result=doGetResult((time == -1) ? -1 : unit.toMillis(time));
    if (result == OBJECT_NO_RESPONSE || result == OBJECT_REDO) {
      done=false;
      innerFutureTask.innerSetException(new TimeoutException(),false);
    }
 else     if (result instanceof CancellationException) {
      innerFutureTask.innerSetCancelled();
    }
 else     if (result == OBJECT_MEMBER_LEFT) {
      innerFutureTask.innerSetMemberLeft(member);
    }
 else     if (result instanceof Throwable) {
      innerFutureTask.innerSetException((Throwable)result,true);
    }
 else {
      innerFutureTask.innerSet(result);
    }
  }
 catch (  Exception e) {
    if (time > 0 && e instanceof OperationTimeoutException) {
      e=new TimeoutException();
    }
    innerFutureTask.innerSetException(e,done);
  }
 finally {
    if (singleTask && done) {
      innerFutureTask.innerDone();
    }
  }
}
