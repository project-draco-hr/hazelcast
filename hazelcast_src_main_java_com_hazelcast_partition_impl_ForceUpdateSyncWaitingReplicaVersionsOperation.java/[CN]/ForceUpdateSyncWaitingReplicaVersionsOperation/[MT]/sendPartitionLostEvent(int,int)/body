{
  final InternalPartitionLostEvent partitionLostEvent=new InternalPartitionLostEvent(partitionId,lostReplicaIndex,getNodeEngine().getThisAddress());
  NodeEngineImpl nodeEngine=(NodeEngineImpl)getNodeEngine();
  for (  PartitionAwareService service : nodeEngine.getServices(PartitionAwareService.class)) {
    try {
      service.onPartitionLost(partitionLostEvent);
    }
 catch (    Throwable e) {
      getLogger().warning("Handling partitionLostEvent failed. Service: " + service.getClass() + " Event: "+ partitionLostEvent,e);
    }
  }
}
