{
  if (partitionId < 0) {
    return true;
  }
  Thread currentThread=Thread.currentThread();
  if (currentThread instanceof OperationThread) {
    int threadId=((OperationThread)currentThread).threadId;
    return toPartitionThreadIndex(partitionId) == threadId;
  }
  return false;
}
