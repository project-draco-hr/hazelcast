{
  if (task == null) {
    throw new NullPointerException();
  }
  if (partitionId > -1) {
    PartitionThread partitionThread=partitionThreads[toPartitionThreadIndex(partitionId)];
    if (priority) {
      partitionThread.priorityQueue.offer(task);
      partitionThread.workQueue.offer(triggerTask);
    }
 else {
      partitionThread.workQueue.offer(task);
    }
  }
 else {
    Runnable runnable;
    if (task instanceof Runnable) {
      runnable=(Runnable)task;
    }
 else {
      runnable=new Runnable(){
        @Override public void run(){
          processor.process(task);
        }
      }
;
    }
    if (priority) {
    }
 else {
    }
    globalExecutor.execute(runnable);
  }
}
