{
  processedResponses++;
  try {
    Response response;
    if (task instanceof Packet) {
      response=responseHandler.deserialize((Packet)task);
    }
 else {
      response=(Response)task;
    }
    responseHandler.process(response);
  }
 catch (  Throwable e) {
    inspectOutputMemoryError(e);
    logger.severe("Failed to process response: " + task + " on response thread:"+ getName());
  }
}
