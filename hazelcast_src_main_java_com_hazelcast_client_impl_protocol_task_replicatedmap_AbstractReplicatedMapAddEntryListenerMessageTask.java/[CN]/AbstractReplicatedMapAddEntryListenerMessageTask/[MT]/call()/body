{
  ReplicatedMapService replicatedMapService=getService(ReplicatedMapService.SERVICE_NAME);
  ReplicatedRecordStore recordStore=replicatedMapService.getReplicatedRecordStore(getDistributedObjectName(),true);
  String registrationId;
  Predicate predicate=getPredicate();
  if (predicate == null) {
    registrationId=recordStore.addEntryListener(this,getKey());
  }
 else {
    registrationId=recordStore.addEntryListener(this,predicate,getKey());
  }
  endpoint.setListenerRegistration(ReplicatedMapService.SERVICE_NAME,getDistributedObjectName(),registrationId);
  return registrationId;
}
