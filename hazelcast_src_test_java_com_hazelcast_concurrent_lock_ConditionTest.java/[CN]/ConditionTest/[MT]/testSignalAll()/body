{
  HazelcastInstance instance=createHazelcastInstance();
  final ILock lock=instance.getLock(randomString());
  final ICondition condition=lock.newCondition(randomString());
  final CountDownLatch latch=new CountDownLatch(2);
  createThreadWaitsForCondition(latch,lock,condition).start();
  createThreadWaitsForCondition(latch,lock,condition).start();
  sleepSeconds(1);
  lock.lock();
  condition.signalAll();
  lock.unlock();
  assertOpenEventually(latch);
}
