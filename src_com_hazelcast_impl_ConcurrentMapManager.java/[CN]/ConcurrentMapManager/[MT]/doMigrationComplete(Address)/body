{
  Collection<Block> blocks=mapBlocks.values();
  for (  Block block : blocks) {
    if (from.equals(block.owner)) {
      if (block.isMigrating()) {
        block.owner=block.migrationAddress;
        block.migrationAddress=null;
      }
    }
  }
  if (isMaster() && !from.equals(thisAddress)) {
    for (    MemberImpl member : lsMembers) {
      if (!member.localMember() || !from.equals(member.getAddress())) {
        Invocation inv=obtainServiceInvocation();
        inv.name="cmap";
        inv.operation=OP_CMAP_MIGRATION_COMPLETE;
        boolean sent=send(inv,member.getAddress());
        if (!sent) {
          inv.returnToContainer();
        }
      }
    }
  }
}
