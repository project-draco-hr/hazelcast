{
  Packet packet=obtainPacket();
  packet.name=record.getName();
  packet.blockId=record.getBlockId();
  packet.version=record.version;
  packet.threadId=record.lockThreadId;
  packet.lockAddress=record.lockAddress;
  packet.lockCount=record.lockCount;
  doHardCopy(record.getKey(),packet.key);
  if (includeValue) {
    if (record.getValue() != null) {
      doHardCopy(record.getValue(),packet.value);
    }
  }
  return packet;
}
