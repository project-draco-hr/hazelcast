{
  for (  final Long recordId : recordsToMigrate) {
    MMigrate mmigrate=new MMigrate();
    mmigrate.migrate(recordId);
  }
  for (  final Long recordId : recordsToBackup) {
    Processable backupProcess=new Processable(){
      public void process(){
        Record record=getRecordById(recordId);
        if (record != null) {
          sendBackupAdd(record,true);
        }
      }
    }
;
    enqueueAndReturn(backupProcess);
    try {
      Thread.sleep(1);
    }
 catch (    InterruptedException e) {
      e.printStackTrace();
    }
  }
  Processable processCompletion=new Processable(){
    public void process(){
      doMigrationComplete(thisAddress);
      sendMigrationComplete();
      if (DEBUG) {
        printBlocks();
      }
    }
  }
;
  enqueueAndReturn(processCompletion);
}
