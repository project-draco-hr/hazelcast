{
  Record record=mapRecords.get(req.key);
  req.key.setNoData();
  req.key=null;
  if (record == null) {
    return false;
  }
  boolean removed=false;
  if (record.getCopyCount() > 0) {
    record.decrementCopyCount();
    removed=true;
  }
 else   if (record.value != null) {
    removed=true;
  }
 else   if (record.lsValues != null) {
    removed=true;
  }
  if (removed) {
    fireMapEvent(mapListeners,name,EntryEvent.TYPE_REMOVED,record);
    record.version++;
    if (record.value != null) {
      record.value.setNoData();
      record.value=null;
    }
 else     if (record.lsValues != null) {
      for (      Data v : record.lsValues) {
        v.setNoData();
      }
      record.lsValues=null;
    }
  }
  req.version=record.version;
  req.longValue=record.copyCount;
  if (record.isRemovable()) {
    removeRecord(record.key);
    record.key.setNoData();
    record.key=null;
  }
  return true;
}
