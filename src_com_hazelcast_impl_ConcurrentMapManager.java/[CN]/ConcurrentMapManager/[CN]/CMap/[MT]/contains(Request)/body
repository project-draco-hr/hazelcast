{
  Data key=req.key;
  Data value=req.value;
  if (key != null) {
    Record record=getRecord(req.key);
    if (record == null)     return false;
 else {
      Block block=mapBlocks.get(record.blockId);
      if (thisAddress.equals(block.owner)) {
        if (value == null) {
          return record.valueCount() > 0;
        }
 else {
          return record.containsValue(value);
        }
      }
    }
  }
 else {
    Collection<Record> records=mapRecords.values();
    for (    Record record : records) {
      Block block=mapBlocks.get(record.blockId);
      if (thisAddress.equals(block.owner)) {
        if (record.containsValue(value)) {
          return true;
        }
      }
    }
  }
  return false;
}
