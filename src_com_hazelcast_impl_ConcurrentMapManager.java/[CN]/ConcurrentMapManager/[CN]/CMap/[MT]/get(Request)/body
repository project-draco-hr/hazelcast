{
  Record record=getRecord(req.key);
  if (record == null)   return null;
  touch(record);
  Data data=record.getValue();
  Data returnValue=null;
  if (data != null) {
    returnValue=doHardCopy(data);
  }
 else {
    if (record.lsValues != null) {
      Values values=new Values(record.lsValues);
      returnValue=toData(values);
    }
  }
  if (returnValue != null) {
    req.key.setNoData();
    ThreadContext.get().releaseData(req.key);
    req.key=null;
  }
  return returnValue;
}
