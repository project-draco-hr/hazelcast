{
  if (expiryTime != CacheRecord.EXPIRATION_TIME_NOT_AVAILABLE) {
    record.setExpirationTime(expiryTime);
  }
  if (!disableWriteThrough) {
    writeThroughCache(key,value);
  }
  if (!isExpiredAt(expiryTime,now)) {
    updateRecord(key,record,value,completionId,source,origin);
  }
  return processExpiredEntry(key,record,expiryTime,now,source) != null;
}
