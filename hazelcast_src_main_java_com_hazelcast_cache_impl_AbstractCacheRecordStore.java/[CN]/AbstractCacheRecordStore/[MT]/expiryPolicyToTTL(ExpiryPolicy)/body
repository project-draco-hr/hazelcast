{
  if (expiryPolicy == null) {
    return CacheRecord.EXPIRATION_TIME_NOT_AVAILABLE;
  }
  try {
    Duration expiryDuration=expiryPolicy.getExpiryForCreation();
    if (expiryDuration == null || expiryDuration.isEternal()) {
      return CacheRecord.EXPIRATION_TIME_NOT_AVAILABLE;
    }
    long durationAmount=expiryDuration.getDurationAmount();
    TimeUnit durationTimeUnit=expiryDuration.getTimeUnit();
    return TimeUnit.MILLISECONDS.convert(durationAmount,durationTimeUnit);
  }
 catch (  Exception e) {
    return CacheRecord.EXPIRATION_TIME_NOT_AVAILABLE;
  }
}
