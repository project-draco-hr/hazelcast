{
  long expiryTime=-1L;
  try {
    Duration expiryDuration=expiryPolicy.getExpiryForAccess();
    if (expiryDuration != null) {
      expiryTime=expiryDuration.getAdjustedTime(now);
      record.setExpirationTime(expiryTime);
      if (isEventsEnabled) {
        publishEvent(CacheEventType.EXPIRATION_TIME_UPDATED,toHeapData(key),null,toEventData(record.getValue()),false,IGNORE_COMPLETION,expiryTime);
      }
    }
  }
 catch (  Exception e) {
    EmptyStatement.ignore(e);
  }
  return expiryTime;
}
