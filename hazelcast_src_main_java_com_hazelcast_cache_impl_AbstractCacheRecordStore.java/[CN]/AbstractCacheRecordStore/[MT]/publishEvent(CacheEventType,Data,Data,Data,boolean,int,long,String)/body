{
  if (isEventBatchingEnabled) {
    final CacheEventDataImpl cacheEventData=new CacheEventDataImpl(name,eventType,dataKey,dataValue,dataOldValue,isOldValueAvailable);
    Set<CacheEventData> cacheEventDataSet=batchEvent.get(eventType);
    if (cacheEventDataSet == null) {
      cacheEventDataSet=new HashSet<CacheEventData>();
      batchEvent.put(eventType,cacheEventDataSet);
    }
    cacheEventDataSet.add(cacheEventData);
  }
 else {
    cacheService.publishEvent(name,eventType,dataKey,dataValue,dataOldValue,isOldValueAvailable,dataKey.hashCode(),completionId,expirationTime,origin);
  }
}
