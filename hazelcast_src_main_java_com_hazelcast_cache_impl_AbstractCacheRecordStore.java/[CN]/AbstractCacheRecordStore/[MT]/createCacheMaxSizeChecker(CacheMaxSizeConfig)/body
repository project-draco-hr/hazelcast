{
  if (maxSizeConfig == null) {
    throw new IllegalArgumentException("Max-Size config cannot be null");
  }
  final CacheMaxSizeConfig.CacheMaxSizePolicy maxSizePolicy=maxSizeConfig.getMaxSizePolicy();
  if (maxSizePolicy == null) {
    throw new IllegalArgumentException("Max-Size policy cannot be null");
  }
  if (maxSizePolicy == CacheMaxSizeConfig.CacheMaxSizePolicy.ENTRY_COUNT) {
    return new EntryCountCacheMaxSizeChecker(maxSizeConfig,records,partitionCount);
  }
  return null;
}
