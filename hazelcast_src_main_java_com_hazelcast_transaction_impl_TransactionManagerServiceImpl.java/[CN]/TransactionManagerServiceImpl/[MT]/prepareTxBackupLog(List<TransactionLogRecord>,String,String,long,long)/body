{
  TxBackupLog beginLog=txBackupLogs.get(txnId);
  if (beginLog == null) {
    throw new TransactionException("Could not find begin tx log!");
  }
  if (beginLog.state != State.ACTIVE) {
    throw new TransactionException("TxLog already exists!");
  }
  TxBackupLog newTxBackupLog=new TxBackupLog(records,callerUuid,State.COMMITTING,timeoutMillis,startTime);
  if (!txBackupLogs.replace(txnId,beginLog,newTxBackupLog)) {
    throw new TransactionException("TxLog already exists!");
  }
}
