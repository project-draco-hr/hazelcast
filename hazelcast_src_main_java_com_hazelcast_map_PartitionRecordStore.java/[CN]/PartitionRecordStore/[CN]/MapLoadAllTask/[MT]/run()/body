{
  NodeEngine nodeEngine=mapService.getNodeEngine();
  int partitionId=partitionContainer.getPartitionId();
  Map values=mapContainer.getStore().loadAll(keys.values());
  MapEntrySet entrySet=new MapEntrySet();
  for (  Data dataKey : keys.keySet()) {
    Object key=keys.get(dataKey);
    Data dataValue=mapService.toData(values.get(key));
    entrySet.add(dataKey,dataValue);
  }
  PutAllOperation operation=new PutAllOperation(name,entrySet,true);
  operation.setNodeEngine(nodeEngine);
  operation.setResponseHandler(new ResponseHandler(){
    @Override public void sendResponse(    Object obj){
      if (!(obj instanceof Exception)) {
        loaded.set(true);
      }
 else {
        Exception e=(Exception)obj;
        e.printStackTrace();
      }
    }
  }
);
  operation.setPartitionId(partitionId);
  OperationAccessor.setCallerAddress(operation,nodeEngine.getThisAddress());
  operation.setServiceName(MapService.SERVICE_NAME);
  nodeEngine.getOperationService().executeOperation(operation);
}
