{
  if (mapContainer.getStore() != null) {
    long writeDelayMillis=mapContainer.getWriteDelayMillis();
    if (writeDelayMillis <= 0 || flush) {
      mapContainer.getStore().store(mapService.toObject(record.getKey()),mapService.toObject(record.getValue()));
      record.onStore();
    }
 else {
      if (record.getState().getStoreTime() <= 0) {
        record.getState().updateStoreTime(writeDelayMillis);
        mapService.scheduleMapStoreWrite(name,record.getKey(),record.getValue(),writeDelayMillis);
      }
    }
  }
}
