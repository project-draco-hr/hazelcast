{
  this.node=node;
  logger=node.getLogger(MulticastService.class.getName());
  Config config=node.getConfig();
  this.multicastSocket=multicastSocket;
  int bufferSize=1024 * 1024;
  this.datagramPacketReceive=new DatagramPacket(new byte[bufferSize],bufferSize);
  this.datagramPacketSend=new DatagramPacket(new byte[bufferSize],bufferSize,InetAddress.getByName(config.getNetworkConfig().getJoin().getMulticastConfig().getMulticastGroup()),config.getNetworkConfig().getJoin().getMulticastConfig().getMulticastPort());
  running=true;
}
