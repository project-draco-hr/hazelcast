{
  while (running) {
    try {
      Runnable runnable=queue.poll();
      if (runnable != null) {
        runnable.run();
        return;
      }
      final JoinInfo joinInfo=receive();
      if (joinInfo != null) {
        for (        MulticastListener multicastListener : lsListeners) {
          multicastListener.onMessage(joinInfo);
        }
      }
    }
 catch (    OutOfMemoryError e) {
      node.onOutOfMemory(e);
    }
catch (    Exception e) {
      logger.log(Level.WARNING,e.getMessage(),e);
    }
  }
}
