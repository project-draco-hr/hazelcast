{
  final int count=100;
  final int childCount=3;
  insertDummyEntities(count,childCount);
  Session session=sf.openSession();
  DummyEntity e1=(DummyEntity)session.get(DummyEntity.class,(long)1);
  e1.setDate(new Date());
  Set<DummyProperty> dummyProperties=e1.getProperties();
  Transaction tx=session.beginTransaction();
  try {
    for (    DummyProperty property : dummyProperties) {
      property.setKey("test");
      session.update(property);
    }
    tx.commit();
  }
 catch (  Exception e) {
    tx.rollback();
    e.printStackTrace();
  }
 finally {
    session.close();
  }
  session=sf2.openSession();
  e1=(DummyEntity)session.get(DummyEntity.class,(long)1);
  Transaction tx2=session.beginTransaction();
  try {
    e1.getProperties().clear();
    tx2.commit();
  }
 catch (  Exception e) {
    tx2.rollback();
    e.printStackTrace();
  }
 finally {
    session.close();
  }
  Statistics stats=sf.getStatistics();
  stats.logSummary();
}
