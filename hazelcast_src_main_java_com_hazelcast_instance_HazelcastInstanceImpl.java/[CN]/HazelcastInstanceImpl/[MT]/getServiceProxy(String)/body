{
  Object service=node.nodeService.getService(serviceName);
  if (service == null) {
    throw new NullPointerException();
  }
  if (service instanceof ManagedService) {
    return (S)((ManagedService)service).createProxy();
  }
  throw new IllegalArgumentException();
}
