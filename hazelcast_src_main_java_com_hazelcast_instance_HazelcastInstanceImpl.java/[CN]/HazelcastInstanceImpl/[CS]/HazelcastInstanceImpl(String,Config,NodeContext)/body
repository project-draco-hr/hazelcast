{
  this.name=name;
  this.threadGroup=new ThreadGroup(name);
  threadMonitoringService=new ThreadMonitoringService(threadGroup);
  lifecycleService=new LifecycleServiceImpl(this);
  managedContext=new HazelcastManagedContext(this,config.getManagedContext());
  final ConcurrentMap<String,Object> cfgUserContext=config.getUserContext();
  userContext=cfgUserContext != null ? cfgUserContext : new ConcurrentHashMap<String,Object>();
  node=new Node(this,config,nodeContext);
  logger=node.getLogger(getClass().getName());
  lifecycleService.fireLifecycleEvent(STARTING);
  node.start();
  if (!node.isActive()) {
    node.connectionManager.shutdown();
    throw new IllegalStateException("Node failed to start!");
  }
  managementService=new ManagementService(this);
}
