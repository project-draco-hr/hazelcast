{
  int total=0;
  MapService mapService=getService(MapService.SERVICE_NAME);
  final MapServiceContext mapServiceContext=mapService.getMapServiceContext();
  for (  Object result : map.values()) {
    Integer size=(Integer)mapServiceContext.toObject(result);
    total+=size;
  }
  final Address thisAddress=mapServiceContext.getNodeEngine().getThisAddress();
  if (total > 0) {
    mapServiceContext.getMapEventPublisher().publishMapEvent(thisAddress,parameters.name,EntryEventType.EVICT_ALL,total);
  }
  return IntResultParameters.encode(total);
}
