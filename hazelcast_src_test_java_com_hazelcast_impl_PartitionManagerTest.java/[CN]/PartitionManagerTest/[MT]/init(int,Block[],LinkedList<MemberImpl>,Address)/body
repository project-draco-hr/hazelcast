{
  ConcurrentMapManager concurrentMapManager=mock(ConcurrentMapManager.class);
  Node node=mock(Node.class);
  when(node.getLogger(PartitionManager.class.getName())).thenReturn(new NoLogFactory().getLogger("test"));
  Config config=new Config();
  GroupProperties group=new GroupProperties(config);
  when(node.getGroupProperties()).thenReturn(group);
  when(concurrentMapManager.getNode()).thenReturn(node);
  when(concurrentMapManager.getPartitionCount()).thenReturn(BLOCK_COUNT);
  when(concurrentMapManager.getBlocks()).thenReturn(blocks);
  when(concurrentMapManager.getThisAddress()).thenReturn(thisAddress);
  when(concurrentMapManager.getMembers()).thenReturn(members);
  when(concurrentMapManager.isMaster()).thenReturn(true);
  PartitionManager partitionManager=new PartitionManager(concurrentMapManager);
  return partitionManager;
}
