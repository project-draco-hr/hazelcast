{
  final int requiredDataSize=calculateDataSize(infoCollection);
  ClientMessage clientMessage=ClientMessage.createForEncode(requiredDataSize);
  clientMessage.setMessageType(TYPE.id());
  int size=infoCollection.size();
  clientMessage.set(size);
  for (  DistributedObjectInfo distributedObjectInfo : infoCollection) {
    DistributedObjectInfoCodec.encode(distributedObjectInfo,clientMessage);
  }
  clientMessage.ensureCapacity(requiredDataSize);
  clientMessage.updateFrameLength();
  return clientMessage;
}
