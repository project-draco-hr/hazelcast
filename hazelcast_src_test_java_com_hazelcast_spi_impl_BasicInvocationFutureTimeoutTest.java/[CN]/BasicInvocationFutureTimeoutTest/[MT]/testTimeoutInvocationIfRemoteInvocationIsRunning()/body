{
  int callTimeoutMillis=500;
  Config config=new Config();
  config.setProperty(GroupProperties.PROP_OPERATION_CALL_TIMEOUT_MILLIS,String.valueOf(callTimeoutMillis));
  TestHazelcastInstanceFactory factory=createHazelcastInstanceFactory(2);
  HazelcastInstance hz1=factory.newHazelcastInstance(config);
  HazelcastInstance hz2=factory.newHazelcastInstance(config);
  Address remoteAddress=getNode(hz2).getThisAddress();
  final BasicTargetInvocation invocation=new BasicTargetInvocation(getNode(hz1).getNodeEngine(),null,new DummyOperation(callTimeoutMillis * 10),remoteAddress,0,0,callTimeoutMillis,null,null,true);
  final BasicInvocationFuture future=invocation.invoke();
  assertTrueEventually(new AssertTask(){
    @Override public void run() throws Exception {
      assertTrue(future.isOperationExecuting(invocation.getTarget()));
    }
  }
);
  future.timeoutInvocationIfNotExecuting();
  assertTrueAllTheTime(new AssertTask(){
    @Override public void run() throws Exception {
      assertFalse(future.isDone());
    }
  }
,2);
}
