{
  String mapName="mm";
  long key=1L;
  String value="value";
  final Config config=new Config();
  final TestHazelcastInstanceFactory factory=createHazelcastInstanceFactory(2);
  HazelcastInstance instance1=factory.newHazelcastInstance(config);
  HazelcastInstance instance2=factory.newHazelcastInstance(config);
  CountingEntryListener<Object,Object> listener=new CountingEntryListener<Object,Object>();
  MultiMap<Object,Object> map=instance1.getMultiMap(mapName);
  map.addEntryListener(listener,true);
  TransactionContext ctx1=instance2.newTransactionContext();
  ctx1.beginTransaction();
  ctx1.getMultiMap(mapName).put(key,value);
  ctx1.commitTransaction();
  TransactionContext ctx2=instance2.newTransactionContext();
  ctx2.beginTransaction();
  ctx2.getMultiMap(mapName).remove(key,value);
  ctx2.commitTransaction();
  Thread.sleep(100);
  assertEquals(1,listener.addedCount);
  assertEquals(1,listener.removedCount);
}
