{
  final TopicService service=getService();
  final ClientEngine clientEngine=getClientEngine();
  final ClientEndpoint endpoint=getEndpoint();
  MessageListener listener=new MessageListener(){
    public void onMessage(    Message message){
      if (endpoint.live()) {
        Data messageData=clientEngine.toData(message.getMessageObject());
        PortableMessage portableMessage=new PortableMessage(messageData,message.getPublishTime(),message.getPublishingMember().getUuid());
        clientEngine.sendResponse(endpoint,portableMessage);
      }
    }
  }
;
  String registrationId=service.addMessageListener(name,listener);
  endpoint.setListenerRegistration(TopicService.SERVICE_NAME,name,registrationId);
  return null;
}
