{
  final TopicService service=getService();
  final ClientEngine clientEngine=getClientEngine();
  final ClientEndpoint endpoint=getEndpoint();
  MessageListener listener=new MessageListener(){
    public void onMessage(    Message message){
      if (endpoint.live()) {
        Data messageData=clientEngine.toData(message.getMessageObject());
        PortableMessage portableMessage=new PortableMessage(messageData,message.getPublishTime(),message.getPublishingMember().getUuid());
        clientEngine.sendResponse(endpoint,portableMessage);
      }
 else {
        if (registrationId != null) {
          service.removeMessageListener(name,registrationId);
        }
 else {
          getClientEngine().getLogger(AddMessageListenerRequest.class).log(Level.WARNING,"RegistrationId is null!");
        }
      }
    }
  }
;
  registrationId=service.addMessageListener(name,listener);
  return null;
}
