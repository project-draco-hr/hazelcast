{
  C selectedEvictionCandidate=null;
  long now=Clock.currentTimeMillis();
  for (  C currentEvictionCandidate : evictionCandidates) {
    if (selectedEvictionCandidate == null) {
      selectedEvictionCandidate=currentEvictionCandidate;
    }
 else {
      E evictable=currentEvictionCandidate.getEvictable();
      if (evictable == null) {
        continue;
      }
      if (isExpired(now,evictable)) {
        return currentEvictionCandidate instanceof Iterable ? (Iterable<C>)currentEvictionCandidate : Collections.singleton(currentEvictionCandidate);
      }
      int comparisonResult=evictionPolicyComparator.compare(selectedEvictionCandidate,currentEvictionCandidate);
      if (comparisonResult == EvictionPolicyComparator.SECOND_ENTRY_HAS_HIGHER_PRIORITY_TO_BE_EVICTED) {
        selectedEvictionCandidate=currentEvictionCandidate;
      }
    }
  }
  if (selectedEvictionCandidate == null) {
    return null;
  }
 else {
    return selectedEvictionCandidate instanceof Iterable ? (Iterable<C>)selectedEvictionCandidate : Collections.singleton(selectedEvictionCandidate);
  }
}
