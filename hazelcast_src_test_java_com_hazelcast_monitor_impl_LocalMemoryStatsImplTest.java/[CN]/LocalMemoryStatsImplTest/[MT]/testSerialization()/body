{
  LocalMemoryStatsImpl memoryStats=new LocalMemoryStatsImpl(localMemoryStats);
  memoryStats.setGcStats(null);
  JsonObject serialized=memoryStats.toJson();
  LocalMemoryStatsImpl deserialized=new LocalMemoryStatsImpl();
  deserialized.fromJson(serialized);
  assertEquals(0,deserialized.getCreationTime());
  assertEquals(4196,deserialized.getTotal());
  assertEquals(2048,deserialized.getAvailable());
  assertEquals(1024,deserialized.getNativeMemoryStats().getTotal());
  assertEquals(768,deserialized.getNativeMemoryStats().getCommitted());
  assertEquals(512,deserialized.getNativeMemoryStats().getUsed());
  assertEquals(256,deserialized.getNativeMemoryStats().getAvailable());
  assertEquals(3333,deserialized.getHeapMemoryStats().getTotal());
  assertEquals(2222,deserialized.getHeapMemoryStats().getCommitted());
  assertEquals(1111,deserialized.getHeapMemoryStats().getUsed());
  assertEquals(2222,deserialized.getHeapMemoryStats().getAvailable());
  assertNotNull(deserialized.getGCStats());
  assertNotNull(deserialized.toString());
}
