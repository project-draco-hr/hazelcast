{
  if (state != PREPARED) {
    throw new IllegalStateException("Transaction is not prepared");
  }
  checkTimeout();
  state=COMMITTING;
  for (  TransactionLogRecord record : transactionLog) {
    transactionLog.commitAsync(nodeEngine,record,callback);
  }
  state=COMMITTED;
}
