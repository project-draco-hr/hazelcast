{
  Collection<MemberImpl> members=nodeService.getClusterService().getMemberList();
  Collection<Future> calls=new ArrayList<Future>(members.size());
  for (  MemberImpl member : members) {
    if (!member.localMember()) {
      Invocation inv=nodeService.createInvocationBuilder(NAME,new RegistrationOperation(service,subscribers,topic),member.getAddress()).build();
      calls.add(inv.invoke());
    }
  }
  final EventSegment segment=getSegment(service,true);
  Collection<Address> subscriberList=getSubscribers(topic,segment,true);
  Collections.addAll(subscriberList,subscribers);
  for (  Future call : calls) {
    try {
      call.get(5,TimeUnit.SECONDS);
    }
 catch (    Exception e) {
      nodeService.getLogger(EventService.class.getName()).log(Level.FINEST,"While registering listener",e);
    }
  }
}
