{
  HazelcastClient hClient=getHazelcastClient();
  final IMap<String,String> map=hClient.getMap("addListenerForKey");
  map.clear();
  assertEquals(0,map.size());
  final CountDownLatch entryAddLatch=new CountDownLatch(1);
  final CountDownLatch entryUpdatedLatch=new CountDownLatch(1);
  final CountDownLatch entryRemovedLatch=new CountDownLatch(1);
  CountDownLatchEntryListener<String,String> listener=new CountDownLatchEntryListener<String,String>(entryAddLatch,entryUpdatedLatch,entryRemovedLatch);
  map.addEntryListener(listener,"hello",true);
  assertNull(map.get("hello"));
  map.put("hello","world");
  map.put("hello","new world");
  assertEquals("new world",map.get("hello"));
  map.remove("hello");
  assertTrue(entryAddLatch.await(10,TimeUnit.SECONDS));
  assertTrue(entryUpdatedLatch.await(10,TimeUnit.SECONDS));
  assertTrue(entryRemovedLatch.await(10,TimeUnit.SECONDS));
}
