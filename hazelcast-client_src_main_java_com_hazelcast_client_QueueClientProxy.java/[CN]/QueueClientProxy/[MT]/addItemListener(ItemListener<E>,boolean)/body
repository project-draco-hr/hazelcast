{
  check(listener);
synchronized (lock) {
    boolean shouldCall=listenerManager().noListenerRegistered(getName());
    listenerManager().registerListener(getName(),listener,includeValue);
    if (shouldCall) {
      protocolProxyHelper.doCommand(Command.QADDLISTENER,new String[]{getName(),String.valueOf(includeValue)},null);
    }
  }
}
