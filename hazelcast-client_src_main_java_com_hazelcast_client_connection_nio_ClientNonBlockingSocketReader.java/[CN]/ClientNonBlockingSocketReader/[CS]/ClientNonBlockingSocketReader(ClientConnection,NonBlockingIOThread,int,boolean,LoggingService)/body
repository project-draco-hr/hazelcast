{
  super(connection,ioThread,loggingService,SelectionKey.OP_READ);
  this.buffer=IOUtil.newByteBuffer(bufferSize,direct);
  this.lastReadTime=Clock.currentTimeMillis();
  this.builder=new ClientMessageBuilder(new ClientMessageBuilder.MessageHandler(){
    @Override public void handleMessage(    ClientMessage message){
      connectionManager.handleClientMessage(message,connection);
    }
  }
);
}
