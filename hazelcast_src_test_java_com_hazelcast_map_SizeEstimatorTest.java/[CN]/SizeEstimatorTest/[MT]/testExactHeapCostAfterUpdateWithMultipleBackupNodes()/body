{
  final long expectedPerEntryHeapCost=164L;
  final int putCount=1;
  final int nodeCount=1;
  final SizeEstimatorTestMapBuilder<Integer,Long> testMapBuilder=new SizeEstimatorTestMapBuilder<Integer,Long>(factory);
  final IMap<Integer,Long> map=testMapBuilder.withNodeCount(nodeCount).withBackupCount(nodeCount - 1).build();
  for (int i=0; i < putCount; i++) {
    map.put(i,System.currentTimeMillis());
  }
  final long heapCost=testMapBuilder.totalHeapCost();
  assertEquals("Heap cost calculation is wrong!",expectedPerEntryHeapCost * putCount * nodeCount,heapCost);
}
