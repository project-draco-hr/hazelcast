{
  lock.lock();
  try {
    final MigratingPartition mPartition=migratingPartition;
    if (mPartition != null && partition.getPartitionId() == mPartition.getPartitionId()) {
      final Address targetAddress=mPartition.getToAddress();
      if (targetAddress != null && targetAddress.equals(partition.getReplicaAddress(mPartition.getReplicaIndex()))) {
        migratingPartition=null;
      }
    }
  }
  finally {
    lock.unlock();
  }
}
