{
  IMap map=Hazelcast.getMap("testMapRemoveWithTwoTxn");
  map.put("1","value");
  TransactionalMap txnMap=newTransactionalMapProxy("testMapRemoveWithTwoTxn");
  TransactionalMap txnMap2=newTransactionalMapProxy("testMapRemoveWithTwoTxn");
  txnMap.begin();
  assertEquals("value",txnMap.remove("1"));
  assertEquals(0,txnMap.size());
  assertEquals(1,map.size());
  assertFalse(txnMap.containsKey("1"));
  assertTrue(map.containsKey("1"));
  txnMap.commit();
  assertEquals(0,txnMap.size());
  assertEquals(0,map.size());
  assertFalse(txnMap.containsKey("1"));
  assertFalse(map.containsKey("1"));
  txnMap2.begin();
  txnMap2.remove("1");
  txnMap2.commit();
}
