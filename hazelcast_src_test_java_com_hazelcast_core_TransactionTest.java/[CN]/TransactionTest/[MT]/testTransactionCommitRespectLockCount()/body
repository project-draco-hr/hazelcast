{
  Hazelcast.getMap("testTransactionCommitRespectLockCount").put("1","value");
  TransactionalMap txnMap=newTransactionalMapProxy("testTransactionCommitRespectLockCount");
  TransactionalMap txnMap2=newTransactionalMapProxy("testTransactionCommitRespectLockCount");
  txnMap.lock(1);
  txnMap.begin();
  txnMap.put(1,"value");
  txnMap.commit();
  assertFalse("Shouldn't acquire lock",txnMap2.tryLock(1));
  txnMap.unlock(1);
  Assert.assertTrue(txnMap2.tryLock(1));
}
