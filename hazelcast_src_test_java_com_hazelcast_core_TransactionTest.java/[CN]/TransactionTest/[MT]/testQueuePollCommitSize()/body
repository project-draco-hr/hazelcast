{
  TransactionalQueue txnq=newTransactionalQueueProxy("testPoll");
  TransactionalQueue txnq2=newTransactionalQueueProxy("testPoll");
  txnq.offer("item1");
  txnq.offer("item2");
  assertEquals(2,txnq.size());
  assertEquals(2,txnq2.size());
  txnq.begin();
  assertEquals("item1",txnq.poll());
  assertEquals(1,txnq.size());
  assertEquals(1,txnq2.size());
  txnq.commit();
  assertEquals(1,txnq.size());
  assertEquals(1,txnq2.size());
}
