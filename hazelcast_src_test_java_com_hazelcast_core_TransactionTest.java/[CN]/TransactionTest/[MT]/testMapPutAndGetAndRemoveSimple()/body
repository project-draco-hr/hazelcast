{
  TransactionalMap txnMap=newTransactionalMapProxy("testMapPutAndGetAndRemoveSimple");
  txnMap.put("1","value");
  txnMap.put("2","value");
  txnMap.begin();
  txnMap.put("3","value");
  assertEquals("value",txnMap.get("1"));
  assertEquals("value",txnMap.get("1"));
  assertEquals("value",txnMap.put("1","value2"));
  assertEquals("value2",txnMap.put("1","value3"));
  assertEquals("value3",txnMap.get("1"));
  assertEquals(3,txnMap.size());
  assertEquals("value",txnMap.get("2"));
  assertEquals(3,txnMap.size());
  assertEquals("value",txnMap.remove("2"));
  assertEquals("value",txnMap.remove("3"));
  assertNull(txnMap.remove("2"));
  assertNull(txnMap.remove("3"));
  assertEquals(1,txnMap.size());
  txnMap.commit();
  assertEquals(1,txnMap.size());
}
