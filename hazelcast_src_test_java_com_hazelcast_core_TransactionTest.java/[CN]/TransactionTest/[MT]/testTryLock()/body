{
  Hazelcast.getMap("testMap").put("1","value");
  TransactionalMap txnMap=newTransactionalMapProxy("testMap");
  TransactionalMap txnMap2=newTransactionalMapProxy("testMap");
  txnMap.lock("1");
  long start=System.currentTimeMillis();
  assertFalse(txnMap2.tryLock("1",2,TimeUnit.SECONDS));
  long end=System.currentTimeMillis();
  long took=(end - start);
  assertTrue((took > 1000) ? (took < 4000) : false);
  assertFalse(txnMap2.tryLock("1"));
  txnMap.unlock("1");
  assertTrue(txnMap2.tryLock("1",2,TimeUnit.SECONDS));
}
