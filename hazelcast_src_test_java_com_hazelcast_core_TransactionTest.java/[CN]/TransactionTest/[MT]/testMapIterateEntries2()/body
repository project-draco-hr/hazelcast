{
  TransactionalMap txnMap=newTransactionalMapProxy("testMap");
  assertEquals(0,txnMap.size());
  txnMap.begin();
  txnMap.put("1","value1");
  txnMap.put("2","value2");
  assertEquals(2,txnMap.size());
  Set<Map.Entry> entries=txnMap.entrySet();
  for (  Map.Entry entry : entries) {
    if ("1".equals(entry.getKey())) {
      assertEquals("value1",entry.getValue());
    }
 else     if ("2".equals(entry.getKey())) {
      assertEquals("value2",entry.getValue());
    }
 else     throw new RuntimeException("cannot contain another entry with key " + entry.getKey());
  }
  txnMap.commit();
  assertEquals(2,txnMap.size());
}
