{
  this.clientConfig=clientConfig;
  if (element == null) {
    final DocumentBuilder builder=DocumentBuilderFactory.newInstance().newDocumentBuilder();
    Document doc;
    try {
      doc=builder.parse(in);
    }
 catch (    final Exception e) {
      throw new IllegalStateException("Could not parse configuration file, giving up.");
    }
    element=doc.getDocumentElement();
  }
  try {
    element.getTextContent();
  }
 catch (  final Throwable e) {
    domLevel3=false;
  }
  handleConfig(element);
}
