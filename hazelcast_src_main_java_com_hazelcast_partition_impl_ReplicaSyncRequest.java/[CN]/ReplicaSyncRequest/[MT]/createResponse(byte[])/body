{
  int partitionId=getPartitionId();
  NodeEngine nodeEngine=getNodeEngine();
  InternalPartitionService partitionService=nodeEngine.getPartitionService();
  long[] replicaVersions=partitionService.getPartitionReplicaVersions(partitionId);
  byte[] sendableData=data;
  boolean compress=nodeEngine.getGroupProperties().PARTITION_MIGRATION_ZIP_ENABLED.getBoolean();
  if (sendableData != null && sendableData.length > 0 && compress) {
    sendableData=IOUtil.compress(sendableData);
  }
  ReplicaSyncResponse syncResponse=new ReplicaSyncResponse(sendableData,replicaVersions,compress);
  syncResponse.setPartitionId(partitionId).setReplicaIndex(getReplicaIndex());
  return syncResponse;
}
