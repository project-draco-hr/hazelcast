{
  int partitionId=getPartitionId();
  NodeEngine nodeEngine=getNodeEngine();
  InternalPartitionService partitionService=nodeEngine.getPartitionService();
  long[] replicaVersions=partitionService.getPartitionReplicaVersions(partitionId);
  boolean compress=nodeEngine.getGroupProperties().PARTITION_MIGRATION_ZIP_ENABLED.getBoolean();
  if (data != null && data.length > 0 && compress) {
    data=IOUtil.compress(data);
  }
  ReplicaSyncResponse syncResponse=new ReplicaSyncResponse(data,replicaVersions,compress);
  syncResponse.setPartitionId(partitionId).setReplicaIndex(getReplicaIndex());
  return syncResponse;
}
