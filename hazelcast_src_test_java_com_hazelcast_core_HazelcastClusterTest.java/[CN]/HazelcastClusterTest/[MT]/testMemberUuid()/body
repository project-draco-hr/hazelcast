{
  HazelcastInstance hz1=Hazelcast.newHazelcastInstance(null);
  Member m1=hz1.getCluster().getLocalMember();
  assertNotNull(m1.getUuid());
  HazelcastInstance hz2=Hazelcast.newHazelcastInstance(null);
  Member m2=hz2.getCluster().getLocalMember();
  assertNotNull(m2.getUuid());
  HazelcastInstance hz3=Hazelcast.newHazelcastInstance(null);
  Member m3=hz3.getCluster().getLocalMember();
  assertNotNull(m3.getUuid());
  List<Member> memberList=Arrays.asList(new Member[]{m1,m2,m3});
  compareMemberUuids(memberList,new ArrayList<Member>(hz1.getCluster().getMembers()));
  compareMemberUuids(memberList,new ArrayList<Member>(hz2.getCluster().getMembers()));
  compareMemberUuids(memberList,new ArrayList<Member>(hz3.getCluster().getMembers()));
  hz1.getLifecycleService().restart();
  m1=hz1.getCluster().getLocalMember();
  Thread.sleep(2000);
  memberList=Arrays.asList(new Member[]{m2,m3,m1});
  compareMemberUuids(memberList,new ArrayList<Member>(hz1.getCluster().getMembers()));
  compareMemberUuids(memberList,new ArrayList<Member>(hz2.getCluster().getMembers()));
  compareMemberUuids(memberList,new ArrayList<Member>(hz3.getCluster().getMembers()));
}
