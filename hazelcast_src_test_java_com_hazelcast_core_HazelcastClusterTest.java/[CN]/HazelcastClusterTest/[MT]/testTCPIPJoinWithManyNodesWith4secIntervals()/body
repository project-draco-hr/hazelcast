{
  final int count=10;
  System.setProperty("hazelcast.mancenter.enabled","false");
  final CountDownLatch latch=new CountDownLatch(count);
  for (int i=0; i < count; i++) {
    final int seed=i;
    new Thread(new Runnable(){
      public void run(){
        try {
          Thread.sleep(4700 * seed + 1);
          final Config config=new Config();
          config.getNetworkConfig().getJoin().getMulticastConfig().setEnabled(false);
          TcpIpConfig tcpIpConfig=config.getNetworkConfig().getJoin().getTcpIpConfig();
          tcpIpConfig.setEnabled(true);
          int port=12301;
          config.setPortAutoIncrement(false);
          config.setPort(port + seed);
          for (int i=0; i < count; i++) {
            tcpIpConfig.addAddress(new Address("127.0.0.1",port + i));
          }
          HazelcastInstance h=Hazelcast.newHazelcastInstance(config);
          latch.countDown();
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
).start();
  }
  assertTrue(latch.await(200000,TimeUnit.MILLISECONDS));
}
