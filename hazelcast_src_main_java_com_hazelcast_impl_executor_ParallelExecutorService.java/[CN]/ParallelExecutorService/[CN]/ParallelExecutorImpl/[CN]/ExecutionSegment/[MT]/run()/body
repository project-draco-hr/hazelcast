{
  activeCount.incrementAndGet();
  Runnable r=q.poll();
  while (r != null) {
    try {
      beforeRun();
      r.run();
      afterRun();
      waitingExecutions.decrementAndGet();
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
    size.decrementAndGet();
    r=q.poll();
  }
  activeCount.decrementAndGet();
}
