{
  activeCount.incrementAndGet();
  Runnable r=q.poll();
  while (r != null) {
    try {
      beforeRun();
      r.run();
      afterRun();
      waitingExecutions.decrementAndGet();
    }
 catch (    Throwable e) {
      logger.log(Level.WARNING,e.getMessage(),e);
    }
    size.decrementAndGet();
    r=q.poll();
  }
  activeCount.decrementAndGet();
}
