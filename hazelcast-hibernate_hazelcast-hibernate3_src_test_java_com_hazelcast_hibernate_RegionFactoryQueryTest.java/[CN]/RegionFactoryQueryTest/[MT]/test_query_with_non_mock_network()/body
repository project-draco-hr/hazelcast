{
  final int entityCount=10;
  final int queryCount=2;
  insertDummyEntities(entityCount);
  List<DummyEntity> list=null;
  for (int i=0; i < queryCount; i++) {
    list=executeQuery(sf);
    assertEquals(entityCount,list.size());
  }
  for (int i=0; i < queryCount; i++) {
    list=executeQuery(sf2);
    assertEquals(entityCount,list.size());
  }
  assertNotNull(list);
  DummyEntity toDelete=list.get(0);
  Session session=sf.openSession();
  Transaction tx=session.beginTransaction();
  try {
    session.delete(toDelete);
    tx.commit();
  }
 catch (  Exception e) {
    tx.rollback();
    e.printStackTrace();
  }
 finally {
    session.close();
  }
  assertEquals(entityCount - 1,executeQuery(sf).size());
  assertEquals(entityCount - 1,executeQuery(sf2).size());
}
