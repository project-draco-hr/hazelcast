{
  Config config=new Config();
  final String name="defMM";
  config.getMultiMapConfig(name).setValueCollectionType(MultiMapConfig.ValueCollectionType.LIST);
  final int insCount=4;
  TestHazelcastInstanceFactory factory=createHazelcastInstanceFactory(insCount);
  final HazelcastInstance[] instances=factory.newInstances(config);
  assertTrue(getMultiMap(instances,name).put("key1","key1_value1"));
  assertTrue(getMultiMap(instances,name).put("key1","key1_value2"));
  assertTrue(getMultiMap(instances,name).put("key2","key2_value1"));
  assertTrue(getMultiMap(instances,name).put("key2","key2_value1"));
  assertEquals(getMultiMap(instances,name).valueCount("key1"),2);
  assertEquals(getMultiMap(instances,name).valueCount("key2"),2);
  assertEquals(getMultiMap(instances,name).size(),4);
  Collection coll=getMultiMap(instances,name).get("key1");
  assertEquals(coll.size(),2);
  Iterator iter=coll.iterator();
  assertEquals(iter.next(),"key1_value1");
  assertEquals(iter.next(),"key1_value2");
  assertTrue(getMultiMap(instances,name).remove("key1","key1_value1"));
  assertFalse(getMultiMap(instances,name).remove("key1","key1_value1"));
  assertTrue(getMultiMap(instances,name).remove("key1","key1_value2"));
  coll=getMultiMap(instances,name).get("key1");
  assertEquals(coll.size(),0);
  coll=getMultiMap(instances,name).remove("key2");
  assertEquals(coll.size(),2);
  iter=coll.iterator();
  assertEquals(iter.next(),"key2_value1");
  assertEquals(iter.next(),"key2_value1");
}
