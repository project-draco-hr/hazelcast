{
  eventCount.inc();
  lastReadTime=Clock.currentTimeMillis();
  if (!connection.isAlive()) {
    String message="We are being asked to read, but connection is not live so we won't";
    logger.finest(message);
    return;
  }
  try {
    if (socketReader == null) {
      initializeSocketReader();
      if (socketReader == null) {
        return;
      }
    }
    int readBytes=socketChannel.read(inputBuffer);
    if (readBytes == -1) {
      throw new EOFException("Remote socket closed!");
    }
 else {
      bytesRead.inc(readBytes);
    }
  }
 catch (  Throwable e) {
    handleSocketException(e);
    return;
  }
  try {
    if (inputBuffer.position() == 0) {
      return;
    }
    inputBuffer.flip();
    socketReader.read(inputBuffer);
    if (inputBuffer.hasRemaining()) {
      inputBuffer.compact();
    }
 else {
      inputBuffer.clear();
    }
  }
 catch (  Throwable t) {
    handleSocketException(t);
  }
}
