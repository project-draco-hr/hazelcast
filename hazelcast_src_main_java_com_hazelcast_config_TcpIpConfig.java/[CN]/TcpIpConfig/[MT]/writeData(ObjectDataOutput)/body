{
  boolean hasMembers=members != null && !members.isEmpty();
  boolean hasAddresses=addresses != null && !addresses.isEmpty();
  boolean hasRequiredMember=requiredMember != null;
  out.writeByte(ByteUtil.toByte(enabled,hasRequiredMember,hasMembers,hasAddresses));
  out.writeInt(connectionTimeoutSeconds);
  if (hasRequiredMember) {
    out.writeUTF(requiredMember);
  }
  if (hasMembers) {
    out.writeInt(members.size());
    for (    final String member : members) {
      out.writeUTF(member);
    }
  }
  if (hasAddresses) {
    out.writeInt(addresses.size());
    for (    final Address address : addresses) {
      address.writeData(out);
    }
  }
}
