{
  String registrationId=nearCacheInvalidationListeners.remove(member);
  if (registrationId != null) {
    try {
      if (removeFromMemberAlso) {
        ClientMessage request=CacheRemoveInvalidationListenerCodec.encodeRequest(nameWithPrefix,registrationId);
        HazelcastClientInstanceImpl clientInstance=(HazelcastClientInstanceImpl)clientContext.getHazelcastInstance();
        ClientInvocation invocation=new ClientInvocation(clientInstance,request,member.getAddress());
        Future<ClientMessage> future=invocation.invoke();
        boolean result=CacheRemoveInvalidationListenerCodec.decodeResponse(future.get()).response;
        if (!result) {
          logger.warning("Invalidation listener couldn't be removed on member " + member.getAddress());
        }
      }
      clientContext.getListenerService().deRegisterListener(registrationId);
    }
 catch (    Exception e) {
      throw ExceptionUtil.rethrow(e);
    }
  }
}
