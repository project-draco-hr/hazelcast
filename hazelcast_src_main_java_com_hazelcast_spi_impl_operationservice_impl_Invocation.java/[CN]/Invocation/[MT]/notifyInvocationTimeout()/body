{
  if (pendingResponse != null) {
    return;
  }
  if (invocationFuture.getWaitingThreadsCount() > 0) {
    return;
  }
  long maxCallTimeout=invocationFuture.getMaxCallTimeout();
  if (maxCallTimeout == Long.MAX_VALUE) {
    return;
  }
  long expirationTime=op.getInvocationTime() + maxCallTimeout;
  if (expirationTime < 0) {
    return;
  }
  if (expirationTime < Clock.currentTimeMillis()) {
    invocationFuture.set(newOperationTimeoutException(maxCallTimeout));
  }
}
