{
  final ConditionWaiter key=new ConditionWaiter(caller,threadId);
  ConditionWaiter waiter=waiters.get(key);
  if (waiter == null) {
    throw new IllegalStateException();
  }
  return !waiter.started && (waiter.started=true);
}
