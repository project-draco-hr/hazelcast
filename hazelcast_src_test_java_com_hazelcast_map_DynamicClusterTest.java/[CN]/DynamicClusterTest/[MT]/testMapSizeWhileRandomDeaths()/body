{
  IMap map=getInstance(0).getMap("testMapSizeWhileRandomDeaths");
  int size=1000;
  for (int i=0; i < size; i++) {
    map.put(i,i);
  }
  Random rand=new Random(System.currentTimeMillis());
  for (int i=0; i < 30; i++) {
    map=getInstance(0).getMap("testMapSizeWhileRandomDeaths");
    assertEquals(map.size(),size);
    System.out.println("trial:" + i + " instance count:"+ instanceCount);
    if ((rand.nextInt(10) % 2 == 0 && instanceCount > 2) || instanceCount > 6) {
      System.out.println("remove...");
      System.out.println("remove...");
      System.out.println("remove...");
      removeInstance();
      System.out.println("removed!!!");
      System.out.println("removed!!!");
      System.out.println("removed!!!");
    }
 else {
      System.out.println("new instance...");
      System.out.println("new instance...");
      System.out.println("new instance...");
      newInstance();
    }
    Thread.sleep(10000);
    int realSize=getInstance(0).getCluster().getMembers().size();
    System.out.println("Instance count Real:" + realSize + " Expected:"+ instanceCount);
    System.out.println("Instance count Real:" + realSize + " Expected:"+ instanceCount);
    System.out.println("Instance count Real:" + realSize + " Expected:"+ instanceCount);
    instanceCount=realSize;
  }
}
