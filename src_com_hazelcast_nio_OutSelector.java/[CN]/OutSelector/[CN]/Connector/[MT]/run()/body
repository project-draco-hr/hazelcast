{
  try {
    socketChannel=SocketChannel.open();
    final Address thisAddress=Node.get().getThisAddress();
    try {
      socketChannel.socket().bind(new InetSocketAddress(thisAddress.getInetAddress(),0));
      socketChannel.configureBlocking(false);
      if (DEBUG)       logger.log(Level.FINEST,"connecting to " + address);
      boolean connected=socketChannel.connect(new InetSocketAddress(address.getInetAddress(),address.getPort()));
      if (DEBUG)       logger.log(Level.FINEST,"connection check. connected: " + connected + ", "+ address);
      if (connected) {
        handle();
        return;
      }
    }
 catch (    final Throwable e) {
      logger.log(Level.FINEST,address + " ConnectionFailed.",e);
    }
    socketChannel.register(selector,SelectionKey.OP_CONNECT,Connector.this);
  }
 catch (  final Exception e) {
    if (socketChannel != null) {
      try {
        socketChannel.close();
      }
 catch (      final IOException ignored) {
      }
    }
    if (numberOfConnectionError++ < 2) {
      if (DEBUG) {
        logger.log(Level.FINEST,"Couldn't register connect! will trying again. cause: " + e.getMessage());
      }
      run();
    }
 else {
      ConnectionManager.get().failedConnection(address);
    }
  }
}
