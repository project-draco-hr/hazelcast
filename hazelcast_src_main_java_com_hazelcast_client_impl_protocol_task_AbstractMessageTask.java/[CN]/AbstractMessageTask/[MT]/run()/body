{
  try {
    if (endpoint == null) {
      handleMissingEndpoint();
      return;
    }
    if (!node.joined()) {
      throw new HazelcastInstanceNotActiveException("Hazelcast instance is not ready yet!");
    }
    final Credentials credentials=endpoint.getCredentials();
    interceptBefore(credentials);
    checkPermissions(endpoint);
    processMessage();
    interceptAfter(credentials);
  }
 catch (  Throwable e) {
    handleProcessingFailure(e);
  }
}
