{
  final String mapName=name;
  final MapServiceContext mapServiceContext=getMapServiceContext();
  final MapEventPublisher mapEventPublisher=mapServiceContext.getMapEventPublisher();
  if (mapContainer.getWanReplicationPublisher() != null && mapContainer.getWanMergePolicy() != null) {
    if (EntryEventType.REMOVED.equals(eventType)) {
      mapEventPublisher.publishWanReplicationRemove(mapName,key,Clock.currentTimeMillis());
    }
 else {
      Record record=recordStore.getRecord(key);
      if (record != null) {
        Data tempValue=mapServiceContext.toData(dataValue);
        final EntryView entryView=EntryViews.createSimpleEntryView(key,tempValue,record);
        mapEventPublisher.publishWanReplicationUpdate(mapName,entryView);
      }
    }
  }
}
