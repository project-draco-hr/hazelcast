{
  if (op == null) {
    throw new NullPointerException("op can't be null");
  }
  if (!isAllowedToRunInCurrentThread(op)) {
    throw new IllegalThreadStateException("Operation: " + op + " cannot be run in current thread! -> "+ Thread.currentThread());
  }
  OperationHandler operationHandler=getCurrentThreadOperationHandler();
  operationHandler.process(op);
}
