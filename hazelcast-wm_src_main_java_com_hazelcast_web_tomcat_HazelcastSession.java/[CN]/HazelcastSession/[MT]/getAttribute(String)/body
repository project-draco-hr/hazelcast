{
  if (!isValidInternal()) {
    throw new IllegalStateException(sm.getString("standardSession.getAttribute.ise"));
  }
  if (name == null)   throw new IllegalArgumentException(sm.getString("standardSession.setAttribute.namenull"));
  if (SESSION_MARK.equals(name)) {
    throw new IllegalArgumentException(SESSION_MARK_EXCEPTION);
  }
  HazelcastAttribute attribute=(HazelcastAttribute)attributes.get(name);
  if (attribute == null) {
    final IMap<String,HazelcastAttribute> sessionMap=HazelcastClusterSupport.get().getAttributesMap();
    attribute=(HazelcastAttribute)sessionMap.get(getIdInternal() + "_" + name);
    if (attribute == null) {
      attributes.put(name,new HazelcastAttribute(getIdInternal(),name,null));
      return null;
    }
  }
  long requestId=LocalRequestId.get();
  attribute.touch(requestId);
  return attribute.getValue();
}
