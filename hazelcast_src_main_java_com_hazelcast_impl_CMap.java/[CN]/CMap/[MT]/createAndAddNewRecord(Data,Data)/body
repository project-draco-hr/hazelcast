{
  if (key == null || key.size() == 0) {
    throw new RuntimeException("Cannot create record from a 0 size key: " + key);
  }
  int blockId=concurrentMapManager.getPartitionId(key);
  Record record=concurrentMapManager.recordFactory.createNewRecord(this,blockId,key,value,ttl,maxIdle,concurrentMapManager.newRecordId());
  mapRecords.put(key,record);
  return record;
}
