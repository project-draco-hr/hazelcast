{
  Record rec=concurrentMapManager.ensureRecord(request);
  if (request.operation == CONCURRENT_MAP_LOCK_AND_GET_VALUE) {
    request.value=rec.getValue();
  }
  rec.lock(request.lockThreadId,request.lockAddress);
  rec.incrementVersion();
  request.version=rec.getVersion();
  request.lockCount=rec.getLockCount();
  markAsActive(rec);
  request.response=Boolean.TRUE;
}
