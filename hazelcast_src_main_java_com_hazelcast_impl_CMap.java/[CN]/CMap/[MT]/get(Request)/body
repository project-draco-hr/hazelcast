{
  Record record=getRecord(req);
  if (record == null) {
    return null;
  }
  if (!record.isActive())   return null;
  if (!record.isValid()) {
    if (record.isEvictable()) {
      return null;
    }
  }
  record.setLastAccessed();
  Data data=record.getValueData();
  Data returnValue=null;
  if (data != null) {
    returnValue=data;
  }
 else {
    if (record.getMultiValues() != null && record.getMultiValues().size() > 0) {
      Values values=new Values(record.getMultiValues());
      returnValue=toData(values);
    }
  }
  return returnValue;
}
