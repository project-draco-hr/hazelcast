{
  if (maxIdle > 0 || ttl > 0 || ttlPerRecord || isList() || isMultiMap()) {
    long now=System.currentTimeMillis();
    int size=0;
    Collection<Record> records=mapIndexService.getOwnedRecords();
    for (    Record record : records) {
      if (record.isActive() && record.isValid(now)) {
        size+=record.valueCount();
      }
    }
    return size;
  }
 else {
    System.out.println("size " + mapIndexService.size());
    return mapIndexService.size();
  }
}
