{
  long now=System.currentTimeMillis();
  int size=0;
  Collection<Record> records=mapRecords.values();
  for (  Record record : records) {
    if (record.isActive() && record.isValid(now)) {
      Block block=blocks[record.getBlockId()];
      if (thisAddress.equals(block.getOwner())) {
        size+=record.valueCount();
      }
    }
  }
  return size;
}
