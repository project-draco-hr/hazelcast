{
  Record record=getRecord(req);
  if (record == null) {
    record=toRecord(req);
  }
 else {
    if (!record.isActive()) {
      markAsActive(record);
    }
    if (record.getMultiValues() == null) {
      record.setMultiValues(createMultiValuesCollection());
    }
    record.getMultiValues().add(new ValueHolder(req.value));
  }
  updateIndexes(record);
  record.incrementVersion();
  concurrentMapManager.fireMapEvent(mapListeners,getName(),EntryEvent.TYPE_ADDED,record.getKeyData(),null,req.value,record.getListeners(),req.caller);
  if (req.txnId != -1) {
    unlock(record,req);
  }
  req.clearForResponse();
  req.version=record.getVersion();
}
