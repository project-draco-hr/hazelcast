{
  setupReplicateFrom(configA,configB,clusterB.length,"atob",PassThroughMergePolicy.class.getName());
  setupReplicateFrom(configB,configA,clusterA.length,"btoa",PassThroughMergePolicy.class.getName());
  initClusterA();
  initClusterB();
  createDataIn(clusterA,"map",0,5);
  assertDataInFrom(clusterB,"map",0,5,clusterA);
  createDataIn(clusterB,"map",10,15);
  assertDataInFrom(clusterA,"map",10,15,clusterB);
  createDataIn(clusterA,"map",0,10,10,TimeUnit.SECONDS);
  assertDataInFrom(clusterB,"map",0,10,clusterA);
  createDataIn(clusterB,"map",10,20,10,TimeUnit.SECONDS);
  assertDataInFrom(clusterA,"map",10,20,clusterB);
  createDataIn(clusterA,"map",8,10,1,TimeUnit.HOURS);
  assertDataInFrom(clusterB,"map",8,10,clusterA);
  createDataIn(clusterB,"map",18,20,1,TimeUnit.HOURS);
  assertDataInFrom(clusterA,"map",18,20,clusterB);
  sleepSeconds(10);
  assertKeysNotIn(clusterA,"map",0,8);
  assertKeysIn(clusterA,"map",8,10);
  assertKeysNotIn(clusterA,"map",10,18);
  assertKeysIn(clusterA,"map",18,20);
  assertKeysNotIn(clusterB,"map",0,8);
  assertKeysIn(clusterB,"map",8,10);
  assertKeysNotIn(clusterB,"map",10,18);
  assertKeysIn(clusterB,"map",18,20);
}
