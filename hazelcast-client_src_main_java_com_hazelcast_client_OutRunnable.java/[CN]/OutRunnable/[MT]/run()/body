{
  while (true) {
    Connection connection=null;
    Call c=null;
    try {
      try {
        c=queue.take();
        callMap.put(c.getId(),c);
        connection=connectionManager.getConnection();
        writer.write(connection,c.getRequest());
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
    }
 catch (    IOException io) {
      io.printStackTrace();
      connectionManager.destroyConnection(connection);
      continue;
    }
  }
}
