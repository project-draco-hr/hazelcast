{
  if (result == null) {
    throw new TimeoutException();
  }
 else   if (result instanceof Throwable) {
    if (result instanceof InterruptedException) {
      throw (InterruptedException)result;
    }
 else     if (result instanceof ExecutionException) {
      throw (ExecutionException)result;
    }
 else     if (result instanceof TimeoutException) {
      throw (TimeoutException)result;
    }
 else {
      throw new ExecutionException((Throwable)result);
    }
  }
 else   if (result instanceof Packet) {
    setResult(ProxyHelper.getValue((Packet)result));
  }
 else {
    setResult(result);
  }
}
