{
  boolean allConnected=false;
  if (node.joined()) {
    logger.finest("Waiting for all connections");
    int connectAllWaitSeconds=node.groupProperties.CONNECT_ALL_WAIT_SECONDS.getInteger();
    int checkCount=0;
    while (checkCount++ < connectAllWaitSeconds && !allConnected) {
      try {
        Thread.sleep(1000);
      }
 catch (      InterruptedException ignored) {
      }
      allConnected=true;
      Collection<Member> members=node.getClusterService().getMembers();
      for (      Member member : members) {
        if (!member.localMember() && node.connectionManager.getOrConnect(member.getAddress()) == null) {
          allConnected=false;
          if (logger.isFinestEnabled()) {
            logger.finest("Not-connected to " + member.getAddress());
          }
        }
      }
    }
  }
}
