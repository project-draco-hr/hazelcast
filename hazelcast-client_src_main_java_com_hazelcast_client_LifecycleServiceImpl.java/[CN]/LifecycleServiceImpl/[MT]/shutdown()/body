{
  active.set(false);
synchronized (lifecycleLock) {
    fireLifecycleEvent(SHUTTING_DOWN);
    client.doShutdown();
    fireLifecycleEvent(SHUTDOWN);
  }
}
