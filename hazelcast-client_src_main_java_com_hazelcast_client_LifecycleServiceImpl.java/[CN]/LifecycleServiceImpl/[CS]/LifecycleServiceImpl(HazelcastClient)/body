{
  this.client=client;
  final Collection<EventListener> listeners=client.getClientConfig().getListeners();
  if (listeners != null && !listeners.isEmpty()) {
    for (    EventListener listener : listeners) {
      if (listener instanceof MembershipListener) {
        addLifecycleListener((LifecycleListener)listener);
      }
    }
  }
  fireLifecycleEvent(STARTING);
}
