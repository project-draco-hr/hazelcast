{
  CallIdSequenceWithBackpressure sequence=new CallIdSequenceWithBackpressure(100,60000);
  Invocation invocation=newInvocation(operation);
  invocation.remote=remote;
  long oldSequence=sequence.getLastCallId();
  long result=sequence.next(invocation);
  if (skipped) {
    assertEquals(CALL_ID_LOCAL_SKIPPED,result);
  }
 else {
    assertEquals(oldSequence + 1,result);
  }
  assertEquals(oldSequence + 1,sequence.getLastCallId());
}
