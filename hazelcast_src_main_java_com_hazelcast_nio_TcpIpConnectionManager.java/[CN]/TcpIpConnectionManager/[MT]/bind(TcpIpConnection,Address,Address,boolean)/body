{
  log(Level.FINEST,"Binding " + connection + " to "+ remoteEndPoint+ ", replyBack is "+ replyBack);
  final Address thisAddress=ioService.getThisAddress();
  if (!connection.isClient() && !thisAddress.equals(localEndpoint)) {
    log(Level.WARNING,"Wrong bind request from " + remoteEndPoint + "! This node is not requested endpoint: "+ localEndpoint);
    connection.close();
    return false;
  }
  connection.setEndPoint(remoteEndPoint);
  if (replyBack) {
    sendBindRequest(connection,remoteEndPoint,false);
  }
  final Connection existingConnection=connectionsMap.get(remoteEndPoint);
  if (existingConnection != null && existingConnection.live()) {
    if (existingConnection != connection) {
      log(Level.INFO,existingConnection + " is already bound  to " + remoteEndPoint+ ", new one is "+ connection);
    }
    return false;
  }
  if (!remoteEndPoint.equals(thisAddress)) {
    if (!connection.isClient()) {
      connection.setMonitor(getConnectionMonitor(remoteEndPoint,true));
    }
    connectionsMap.put(remoteEndPoint,connection);
    connectionsInProgress.remove(remoteEndPoint);
    for (    ConnectionListener listener : connectionListeners) {
      listener.connectionAdded(connection);
    }
    return true;
  }
  return false;
}
