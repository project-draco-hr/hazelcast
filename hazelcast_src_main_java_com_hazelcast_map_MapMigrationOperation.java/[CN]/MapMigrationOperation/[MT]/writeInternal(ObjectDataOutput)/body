{
  out.writeInt(data.size());
  for (  Entry<String,Set<Record>> mapEntry : data.entrySet()) {
    out.writeUTF(mapEntry.getKey());
    Set<Record> recordSet=mapEntry.getValue();
    out.writeInt(recordSet.size());
    for (    Record record : recordSet) {
      record.getKey().writeData(out);
      out.writeObject(record);
    }
  }
  final int txSize=transactionItems.size();
  out.writeInt(txSize);
  if (txSize > 0) {
    for (    TransactionItem item : transactionItems) {
      item.writeData(out);
    }
  }
}
