{
  checkNotNull(metricsRegistry,"metricsRegistry");
  ThreadMXBean mxBean=ManagementFactory.getThreadMXBean();
  metricsRegistry.register(mxBean,"thread.threadCount",new LongProbeFunction<ThreadMXBean>(){
    @Override public long get(    ThreadMXBean threadMXBean){
      return threadMXBean.getThreadCount();
    }
  }
);
  metricsRegistry.register(mxBean,"thread.peakThreadCount",new LongProbeFunction<ThreadMXBean>(){
    @Override public long get(    ThreadMXBean threadMXBean){
      return threadMXBean.getPeakThreadCount();
    }
  }
);
  metricsRegistry.register(mxBean,"thread.daemonThreadCount",new LongProbeFunction<ThreadMXBean>(){
    @Override public long get(    ThreadMXBean threadMXBean){
      return threadMXBean.getDaemonThreadCount();
    }
  }
);
  metricsRegistry.register(mxBean,"thread.totalStartedThreadCount",new LongProbeFunction<ThreadMXBean>(){
    @Override public long get(    ThreadMXBean threadMXBean){
      return threadMXBean.getTotalStartedThreadCount();
    }
  }
);
}
