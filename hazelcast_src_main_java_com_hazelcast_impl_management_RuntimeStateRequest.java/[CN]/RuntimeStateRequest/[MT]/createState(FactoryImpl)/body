{
  final ClusterImpl cluster=factory.getCluster();
  final PartitionManager pm=factory.node.concurrentMapManager.getPartitionManager();
  final Collection<Record> lockedRecords=collectLockState(factory);
  return new ClusterRuntimeState(cluster.getMembers(),pm.getPartitions(),pm.getMigratingPartition(),factory.node.connectionManager.getReadonlyConnectionMap(),lockedRecords);
}
