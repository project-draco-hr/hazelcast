{
  final List<String> mapNames=new LinkedList<String>();
  mapNames.add(Prefix.LOCKS_MAP_HAZELCAST);
  for (  Instance instance : factory.getInstances()) {
    if (instance.getInstanceType().isMap()) {
      IMap imap=(IMap)instance;
      mapNames.add(Prefix.MAP + imap.getName());
    }
  }
  final Node node=factory.node;
  final Collection<Record> lockedRecords=new LinkedList<Record>();
  for (  final String mapName : mapNames) {
    final CMap cmap=node.concurrentMapManager.getMap(mapName);
    if (cmap != null) {
      Collection<Record> records=cmap.getLockedRecordsFor(TimeUnit.SECONDS.toMillis(5));
      lockedRecords.addAll(records);
    }
  }
  return lockedRecords;
}
