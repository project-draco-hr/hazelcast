{
  if (request.local) {
    TargetAwareOp mop=(TargetAwareOp)request.attachment;
    mop.setResult(request.response);
  }
 else {
    Invocation inv=request.toInvocation();
    Object result=request.response;
    if (result != null) {
      if (result instanceof Data) {
        Data oldValue=(Data)result;
        if (oldValue != null && oldValue.size() > 0) {
          inv.doSet(oldValue,inv.data);
        }
      }
    }
    sendResponse(inv,request.caller);
  }
}
