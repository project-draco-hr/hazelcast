{
  if (request.local) {
    final TargetAwareOp mop=(TargetAwareOp)request.attachment;
    mop.setResult(request.response);
  }
 else {
    final Invocation inv=request.toInvocation();
    final Object result=request.response;
    if (result != null) {
      if (result instanceof Data) {
        final Data oldValue=(Data)result;
        if (oldValue != null && oldValue.size() > 0) {
          inv.doSet(oldValue,inv.data);
        }
      }
    }
    sendResponse(inv,request.caller);
  }
}
