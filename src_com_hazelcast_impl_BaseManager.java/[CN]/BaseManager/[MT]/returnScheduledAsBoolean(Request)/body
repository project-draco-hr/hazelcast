{
  if (request.local) {
    final TargetAwareOp mop=(TargetAwareOp)request.attachment;
    mop.setResult(request.response);
  }
 else {
    final Invocation inv=request.toInvocation();
    if (request.response == Boolean.TRUE) {
      final boolean sent=sendResponse(inv,request.caller);
      if (DEBUG) {
        log(request.local + " returning scheduled response " + sent);
      }
    }
 else {
      sendResponseFailure(inv,request.caller);
    }
  }
}
