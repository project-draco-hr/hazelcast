{
  QueueContainer container=getContainer();
  keyDataPair=container.drain(maxSize);
  response=keyDataPair.snd;
  if (!container.isStoreAsync()) {
    container.getStore().deleteAll(keyDataPair.fst);
  }
}
