{
  String name=req.getParameter("name");
  String type=req.getParameter("type");
  SessionObject sessionObject=getSessionObject(req.getSession());
  List<? super InstanceStatistics> list=getPastStatistics(name,sessionObject);
  if (list == null) {
    return;
  }
  JFreeChart chart;
  if ("size".equals(type)) {
    chart=generateSizeChart(list);
  }
 else {
    chart=generateOperationStatsChart(list);
  }
  try {
    OutputStream out=response.getOutputStream();
    response.setContentType("image/png");
    ChartUtilities.writeChartAsPNG(out,chart,390,250);
  }
 catch (  IOException ignore) {
  }
}
