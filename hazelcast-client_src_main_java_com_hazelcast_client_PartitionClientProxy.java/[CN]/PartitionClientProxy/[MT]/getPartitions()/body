{
  Protocol protocol=protocolProxyHelper.doCommand(Command.PARTITIONS,new String[]{},null);
  Set<Partition> set=new LinkedHashSet<Partition>();
  int i=protocol.args.length;
  while (i > 0) {
    final int partitionId=Integer.valueOf(protocol.args[i]);
    String owner=protocol.args[++i];
    Partition partition=partition(partitionId,owner);
    set.add(partition);
  }
  return set;
}
