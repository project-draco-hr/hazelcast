{
  return new PreReplicationHook(){
    @Override public void preReplicateMessage(    ReplicationMessage message,    ReplicationChannel channel){
      startReplication.countDown();
      try {
        replicateLatch.await(1,TimeUnit.MINUTES);
      }
 catch (      Exception e) {
        ExceptionUtil.rethrow(e);
      }
      channel.replicate(message);
    }
    @Override public void preReplicateMultiMessage(    MultiReplicationMessage message,    ReplicationChannel channel){
      startReplication.countDown();
      try {
        replicateLatch.await(1,TimeUnit.MINUTES);
      }
 catch (      Exception e) {
        ExceptionUtil.rethrow(e);
      }
      channel.replicate(message);
    }
  }
;
}
