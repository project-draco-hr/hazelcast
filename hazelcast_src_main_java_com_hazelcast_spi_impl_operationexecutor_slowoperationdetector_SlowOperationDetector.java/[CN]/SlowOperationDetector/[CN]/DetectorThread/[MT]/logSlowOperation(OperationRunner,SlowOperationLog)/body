{
  Object operation=operationRunner.currentTask();
  int totalInvocations=log.getTotalInvocations();
  if (totalInvocations == 1) {
    logger.warning(format("Slow operation detected: %s%n%s",operation,log.getStackTrace()));
  }
 else {
    logger.warning(format("Slow operation detected: %s (%d invocations)%n%s",operation,totalInvocations,(totalInvocations % FULL_LOG_FREQUENCY == 0) ? log.getStackTrace() : log.getShortStackTrace()));
  }
}
