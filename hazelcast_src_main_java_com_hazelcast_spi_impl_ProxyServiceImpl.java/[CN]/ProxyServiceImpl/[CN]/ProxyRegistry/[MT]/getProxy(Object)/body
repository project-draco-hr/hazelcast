{
  DistributedObject proxy=proxies.get(objectId);
  if (proxy == null) {
    if (!nodeEngine.isActive()) {
      throw new HazelcastInstanceNotActiveException();
    }
    proxy=service.createDistributedObject(objectId);
    DistributedObject current=proxies.putIfAbsent(objectId,proxy);
    if (current == null) {
      if (proxy instanceof InitializingObject) {
        try {
          ((InitializingObject)proxy).initialize();
        }
 catch (        Exception e) {
          logger.warning("Error while initializing proxy: " + proxy,e);
        }
      }
      final DistributedObjectEvent event=createEvent(objectId,CREATED);
      publish(event);
      nodeEngine.eventService.executeEvent(new StripedRunnable(){
        public void run(){
          for (          DistributedObjectListener listener : listeners.values()) {
            listener.distributedObjectCreated(event);
          }
        }
        public int getKey(){
          return objectId.hashCode();
        }
      }
);
    }
 else {
      proxy=current;
    }
  }
  return proxy;
}
