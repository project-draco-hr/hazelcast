{
  DistributedObject proxy=proxies.get(objectId);
  if (proxy == null) {
    if (!nodeEngine.isActive()) {
      throw new HazelcastInstanceNotActiveException();
    }
    proxy=service.createDistributedObject(objectId);
    DistributedObject current=proxies.putIfAbsent(objectId,proxy);
    if (current == null) {
      final DistributedObjectEvent event=createEvent(objectId,CREATED);
      publish(event);
      nodeEngine.eventService.executeEvent(new Runnable(){
        public void run(){
          for (          DistributedObjectListener listener : listeners.values()) {
            listener.distributedObjectCreated(event);
          }
        }
      }
);
    }
 else {
      proxy=current;
    }
  }
  return proxy;
}
