{
  if (!proxies.containsKey(name)) {
    if (!nodeEngine.isActive()) {
      throw new HazelcastInstanceNotActiveException();
    }
    DistributedObjectFuture proxyFuture=new DistributedObjectFuture();
    if (proxies.putIfAbsent(name,proxyFuture) == null) {
      DistributedObject proxy;
      try {
        proxy=service.createDistributedObject(name);
        if (initialize && proxy instanceof InitializingObject) {
          try {
            ((InitializingObject)proxy).initialize();
          }
 catch (          Exception e) {
            logger.warning("Error while initializing proxy: " + proxy,e);
          }
        }
        proxyFuture.set(proxy);
      }
 catch (      Throwable e) {
        proxyFuture.setError(e);
        proxies.remove(name);
        throw ExceptionUtil.rethrow(e);
      }
      nodeEngine.eventService.executeEventCallback(new ProxyEventProcessor(CREATED,serviceName,proxy));
      if (publishEvent) {
        publish(new DistributedObjectEventPacket(CREATED,serviceName,name));
      }
      return proxyFuture;
    }
  }
  return null;
}
