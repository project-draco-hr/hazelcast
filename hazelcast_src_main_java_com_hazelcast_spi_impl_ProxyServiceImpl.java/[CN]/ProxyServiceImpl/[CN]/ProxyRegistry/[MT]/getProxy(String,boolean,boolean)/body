{
  DistributedObject proxy=proxies.get(name);
  if (proxy == null) {
    if (!nodeEngine.isActive()) {
      throw new HazelcastInstanceNotActiveException();
    }
    proxy=service.createDistributedObject(name);
    DistributedObject current=proxies.putIfAbsent(name,proxy);
    if (current == null) {
      if (initialize && proxy instanceof InitializingObject) {
        try {
          ((InitializingObject)proxy).initialize();
        }
 catch (        Exception e) {
          logger.warning("Error while initializing proxy: " + proxy,e);
        }
      }
      nodeEngine.eventService.executeEvent(new ProxyEventProcessor(CREATED,serviceName,proxy));
      if (publishEvent) {
        publish(new DistributedObjectEventPacket(CREATED,serviceName,name));
      }
    }
 else {
      proxy=current;
    }
  }
  return proxy;
}
