{
  final String serviceName=event.getServiceName();
  if (event.getEventType() == CREATED) {
    try {
      final ProxyRegistry registry=ConcurrencyUtil.getOrPutIfAbsent(registries,serviceName,registryConstructor);
      registry.getProxy(event.getObjectId());
      if (!registry.contains(event.getObjectId())) {
        for (        DistributedObjectListener listener : listeners.values()) {
          listener.distributedObjectCreated(event);
        }
      }
    }
 catch (    HazelcastInstanceNotActiveException ignored) {
    }
  }
 else {
    final ProxyRegistry registry=registries.get(serviceName);
    if (registry != null) {
      registry.removeProxy(event.getObjectId());
    }
    for (    DistributedObjectListener listener : listeners.values()) {
      listener.distributedObjectDestroyed(event);
    }
  }
}
