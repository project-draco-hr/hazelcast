{
  TestHazelcastInstanceFactory nodeFactory=createHazelcastInstanceFactory(1);
  HazelcastInstance h1=nodeFactory.newHazelcastInstance(new Config());
  IMap<String,String> map=h1.getMap(name);
  final CountDownLatch latch=new CountDownLatch(1);
  map.addEntryListener(new EntryAdapter<String,String>(){
    public void entryRemoved(    EntryEvent<String,String> event){
      System.out.println(event.getValue());
      System.out.println(event.getOldValue());
      assertNull(event.getValue());
      assertEquals("value",event.getOldValue());
      latch.countDown();
    }
  }
,true);
  map.put("key","value");
  map.remove("key");
  assertOpenEventually(latch,10);
}
