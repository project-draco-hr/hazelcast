{
  if (value == null)   return Long.MIN_VALUE;
  int valueType=getIndexType(value.getClass());
  if (valueType != returnType) {
    if (value instanceof String) {
      String str=(String)value;
      if (returnType == TYPE_INT) {
        value=Integer.valueOf(str);
      }
 else       if (returnType == TYPE_LONG) {
        value=Long.valueOf(str);
      }
 else       if (returnType == TYPE_BOOLEAN) {
        value=Boolean.valueOf(str);
      }
 else       if (returnType == TYPE_DOUBLE) {
        value=Double.valueOf(str);
      }
 else       if (returnType == TYPE_FLOAT) {
        value=Float.valueOf(str);
      }
 else       if (returnType == TYPE_BYTE) {
        value=Byte.valueOf(str);
      }
 else       if (returnType == TYPE_CHAR) {
        value=str.hashCode();
      }
 else       if (returnType == TYPE_DATE) {
        value=DateHelper.tryParse(str);
      }
    }
  }
  return getLongValueByType(value);
}
