{
  Config config=new Config();
  config.setProperty(GroupProperties.PROP_SLOW_OPERATION_DETECTOR_THRESHOLD_MILLIS,"1000");
  config.setProperty(GroupProperties.PROP_SLOW_OPERATION_DETECTOR_LOG_RETENTION_SECONDS,"2");
  config.setProperty(GroupProperties.PROP_SLOW_OPERATION_DETECTOR_LOG_PURGE_INTERVAL_SECONDS,"1");
  HazelcastInstance instance=getSingleNodeCluster(config);
  IMap<String,String> map=getMapWithSingleElement(instance);
  for (int i=0; i < 2; i++) {
    map.executeOnEntries(new SlowEntryProcessor(2));
  }
  sleepSeconds(3);
  getInternalOperationService(instance).shutdown();
  Collection<SlowOperationLog> logs=getSlowOperationLogs(instance);
  assertNumberOfSlowOperationLogs(logs,0);
}
