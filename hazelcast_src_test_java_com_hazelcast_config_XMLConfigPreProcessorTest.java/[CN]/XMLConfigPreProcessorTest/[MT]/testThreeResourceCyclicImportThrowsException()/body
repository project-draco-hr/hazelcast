{
  File config1=createConfigFile("hz1","xml");
  File config2=createConfigFile("hz2","xml");
  File config3=createConfigFile("hz3","xml");
  FileOutputStream os1=new FileOutputStream(config1);
  FileOutputStream os2=new FileOutputStream(config2);
  FileOutputStream os3=new FileOutputStream(config2);
  String config1Xml="<hazelcast>" + "    <import resource=\"file://" + config2.getAbsolutePath() + "\"/>\n"+ "</hazelcast>";
  String config2Xml="<hazelcast>" + "    <import resource=\"file://" + config3.getAbsolutePath() + "\"/>\n"+ "</hazelcast>";
  String config3Xml="<hazelcast>" + "    <import resource=\"file://" + config1.getAbsolutePath() + "\"/>\n"+ "</hazelcast>";
  writeStringToStreamAndClose(os1,config1Xml);
  writeStringToStreamAndClose(os2,config2Xml);
  writeStringToStreamAndClose(os3,config3Xml);
  ByteArrayInputStream bis=new ByteArrayInputStream(config1Xml.getBytes());
  XmlConfigBuilder configBuilder=new XmlConfigBuilder(bis);
  configBuilder.build();
}
