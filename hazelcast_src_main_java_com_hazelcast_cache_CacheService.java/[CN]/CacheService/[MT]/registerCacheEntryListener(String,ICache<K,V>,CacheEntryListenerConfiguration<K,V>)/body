{
  final CacheEventFilterAdaptor<K,V> eventFilter=new CacheEventFilterAdaptor<K,V>(source,cacheEntryListenerConfiguration);
  final CacheEventListenerAdaptor<K,V> entryListener=new CacheEventListenerAdaptor<K,V>(source,cacheEntryListenerConfiguration);
  final EventService eventService=getNodeEngine().getEventService();
  final EventRegistration registration=eventService.registerListener(CacheService.SERVICE_NAME,name,eventFilter,entryListener);
  Map<CacheEntryListenerConfiguration,EventRegistration> map=eventRegistrationMap.get(name);
  if (map == null) {
    map=new HashMap<CacheEntryListenerConfiguration,EventRegistration>();
    eventRegistrationMap.put(name,map);
  }
  map.put(cacheEntryListenerConfiguration,registration);
}
