{
  if (target == null) {
    throw new IllegalArgumentException("Target is required!");
  }
  if (nodeEngine.getThisAddress().equals(target)) {
    throw new IllegalArgumentException("Target is this node! -> " + target + ", response: "+ response);
  }
  Data data=nodeEngine.toData(response);
  Packet packet=new Packet(data);
  packet.setHeader(Packet.HEADER_OP);
  packet.setHeader(Packet.HEADER_RESPONSE);
  if (response.isUrgent()) {
    packet.setHeader(Packet.HEADER_URGENT);
  }
  Connection connection=node.getConnectionManager().getOrConnect(target);
  return nodeEngine.getPacketTransceiver().transmit(packet,connection);
}
