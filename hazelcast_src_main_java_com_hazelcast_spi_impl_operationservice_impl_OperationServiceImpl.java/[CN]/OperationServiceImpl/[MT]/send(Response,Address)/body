{
  if (target == null) {
    throw new IllegalArgumentException("Target is required!");
  }
  if (nodeEngine.getThisAddress().equals(target)) {
    throw new IllegalArgumentException("Target is this node! -> " + target + ", response: "+ response);
  }
  byte[] bytes=serializationService.toBytes(response);
  Packet packet=new Packet(bytes,-1);
  packet.setHeader(Packet.HEADER_OP);
  packet.setHeader(Packet.HEADER_RESPONSE);
  if (response.isUrgent()) {
    packet.setHeader(Packet.HEADER_URGENT);
  }
  ConnectionManager connectionManager=node.getConnectionManager();
  Connection connection=connectionManager.getOrConnect(target);
  return connectionManager.transmit(packet,connection);
}
