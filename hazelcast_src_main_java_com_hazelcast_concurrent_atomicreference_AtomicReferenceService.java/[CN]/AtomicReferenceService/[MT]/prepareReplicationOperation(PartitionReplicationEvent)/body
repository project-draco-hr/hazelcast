{
  if (event.getReplicaIndex() > 1) {
    return null;
  }
  Map<String,Data> data=new HashMap<String,Data>();
  int partitionId=event.getPartitionId();
  for (  String name : references.keySet()) {
    if (partitionId == getPartitionId(name)) {
      ReferenceWrapper referenceWrapper=references.get(name);
      Data value=referenceWrapper.get();
      data.put(name,value);
    }
  }
  return data.isEmpty() ? null : new AtomicReferenceReplicationOperation(data);
}
