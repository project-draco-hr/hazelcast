{
  long now=System.currentTimeMillis();
  if (counter.incrementAndGet() == LOCAL_INVALIDATION_COUNTER) {
    counter.addAndGet(-(LOCAL_INVALIDATION_COUNTER));
    evict(now,false);
  }
  CacheEntry entry=cache.get(key);
  if (entry == null) {
    return null;
  }
 else {
    if (entry.isValid(now)) {
      Object value=null;
      if (ThreadContext.get().isClient()) {
        value=entry.getValueData();
      }
 else {
        value=entry.getValue();
      }
      cmap.concurrentMapManager.enqueueAndReturn(entry);
      entry.touch(now);
      return value;
    }
 else {
      return null;
    }
  }
}
