{
  boolean allConnected=false;
  if (node.joined()) {
    systemLogService.logJoin("Waiting for all connections");
    int connectAllWaitSeconds=node.groupProperties.CONNECT_ALL_WAIT_SECONDS.getInteger();
    int checkCount=0;
    while (checkCount++ < connectAllWaitSeconds && !allConnected) {
      try {
        Thread.sleep(1000);
      }
 catch (      InterruptedException ignored) {
      }
      allConnected=true;
      Collection<MemberImpl> members=node.getClusterService().getMemberList();
      for (      MemberImpl member : members) {
        if (!member.localMember() && node.connectionManager.getOrConnect(member.getAddress()) == null) {
          allConnected=false;
          systemLogService.logJoin("Not-connected to " + member.getAddress());
        }
      }
    }
  }
}
