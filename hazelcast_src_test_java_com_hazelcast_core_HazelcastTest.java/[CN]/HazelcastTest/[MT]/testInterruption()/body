{
  final IQueue<String> q=Hazelcast.getQueue("testInterruption");
  final CountDownLatch latch=new CountDownLatch(1);
  Thread t=new Thread(new Runnable(){
    public void run(){
      try {
        q.take();
        fail();
      }
 catch (      InterruptedException e) {
        latch.countDown();
      }
    }
  }
);
  t.start();
  Thread.sleep(2000);
  t.interrupt();
  assertTrue(latch.await(10,TimeUnit.SECONDS));
  q.offer("message");
  assertEquals(1,q.size());
}
