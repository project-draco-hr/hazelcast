{
  IMap<String,String> map=Hazelcast.getMap("testMapDestroy");
  Thread.sleep(1000);
  Collection<Instance> instances=Hazelcast.getInstances();
  boolean found=false;
  for (  Instance instance : instances) {
    if (instance.getInstanceType().isMap()) {
      IMap imap=(IMap)instance;
      if (imap.getName().equals("testMapDestroy")) {
        found=true;
      }
    }
  }
  assertTrue(found);
  map.destroy();
  Thread.sleep(1000);
  found=false;
  instances=Hazelcast.getInstances();
  for (  Instance instance : instances) {
    if (instance.getInstanceType().isMap()) {
      IMap imap=(IMap)instance;
      if (imap.getName().equals("testMapDestroy")) {
        found=true;
      }
    }
  }
  assertFalse(found);
}
