{
  mapServiceContext.initPartitionsContainers();
  final LockService lockService=nodeEngine.getSharedService(LockService.SERVICE_NAME);
  if (lockService != null) {
    lockService.registerLockStoreConstructor(MapService.SERVICE_NAME,new ConstructorFunction<ObjectNamespace,LockStoreInfo>(){
      public LockStoreInfo createNew(      final ObjectNamespace key){
        final MapContainer mapContainer=mapServiceContext.getMapContainer(key.getObjectName());
        return new LockStoreInfo(){
          public int getBackupCount(){
            return mapContainer.getBackupCount();
          }
          public int getAsyncBackupCount(){
            return mapContainer.getAsyncBackupCount();
          }
        }
;
      }
    }
);
  }
  mapServiceContext.getExpirationManager().start();
}
