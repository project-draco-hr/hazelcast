{
  try {
    Class serviceClass=ClassLoaderUtil.loadClass(nodeEngine.getConfigClassLoader(),className);
    try {
      Constructor constructor=serviceClass.getConstructor(NodeEngine.class);
      return constructor.newInstance(nodeEngine);
    }
 catch (    NoSuchMethodException ignored) {
    }
    return ClassLoaderUtil.newInstance(serviceClass);
  }
 catch (  Exception e) {
    logger.log(Level.SEVERE,e.getMessage(),e);
  }
  return null;
}
