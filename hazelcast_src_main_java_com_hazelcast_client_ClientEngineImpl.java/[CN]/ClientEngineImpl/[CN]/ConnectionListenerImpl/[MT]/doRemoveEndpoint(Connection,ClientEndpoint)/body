{
  removeEndpoint(connection,true);
  if (!endpoint.isFirstConnection()) {
    return;
  }
  NodeEngine nodeEngine=node.nodeEngine;
  Collection<MemberImpl> memberList=nodeEngine.getClusterService().getMemberList();
  OperationService operationService=nodeEngine.getOperationService();
  for (  MemberImpl member : memberList) {
    ClientDisconnectionOperation op=new ClientDisconnectionOperation(endpoint.getUuid());
    op.setNodeEngine(nodeEngine).setServiceName(SERVICE_NAME).setService(ClientEngineImpl.this).setResponseHandler(createEmptyResponseHandler());
    if (member.localMember()) {
      operationService.runOperationOnCallingThread(op);
    }
 else {
      operationService.send(op,member.getAddress());
    }
  }
}
