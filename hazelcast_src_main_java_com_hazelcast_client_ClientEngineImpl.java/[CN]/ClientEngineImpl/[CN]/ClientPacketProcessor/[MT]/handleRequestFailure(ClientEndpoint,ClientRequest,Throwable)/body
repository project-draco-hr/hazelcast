{
  Level level=nodeEngine.isActive() ? Level.SEVERE : Level.FINEST;
  if (logger.isLoggable(level)) {
    if (request == null) {
      logger.log(level,e.getMessage(),e);
    }
 else {
      logger.log(level,"While executing request: " + request + " -> "+ e.getMessage(),e);
    }
  }
  if (request != null) {
    endpoint.sendResponse(e,request.getCallId());
  }
}
