{
  for (  ClientEndpoint endpoint : endpoints.values()) {
    try {
      endpoint.destroy();
    }
 catch (    LoginException e) {
      logger.log(Level.FINEST,e.getMessage());
    }
    try {
      final Connection conn=endpoint.getConn();
      if (conn.live()) {
        conn.close();
      }
    }
 catch (    Exception e) {
      logger.log(Level.FINEST,e.getMessage(),e);
    }
  }
  endpoints.clear();
}
