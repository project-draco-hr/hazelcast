{
  for (  ClientEndpoint endpoint : endpoints.values()) {
    try {
      endpoint.destroy();
    }
 catch (    LoginException e) {
      logger.finest(e.getMessage());
    }
    try {
      final Connection conn=endpoint.getConnection();
      if (conn.live()) {
        conn.close();
      }
    }
 catch (    Exception e) {
      logger.finest(e);
    }
  }
  endpoints.clear();
}
