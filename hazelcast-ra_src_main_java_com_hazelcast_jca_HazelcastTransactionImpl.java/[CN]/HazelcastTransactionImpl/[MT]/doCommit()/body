{
  log(Level.FINEST,"commit");
  Transaction transaction=ThreadContext.get().getTransaction();
  if (transaction != null) {
    transaction.commit();
    fireConnectionEvent(ConnectionEvent.LOCAL_TRANSACTION_COMMITTED);
  }
 else {
    log(Level.WARNING,"Missed transaction commit due to thread switch!");
  }
}
