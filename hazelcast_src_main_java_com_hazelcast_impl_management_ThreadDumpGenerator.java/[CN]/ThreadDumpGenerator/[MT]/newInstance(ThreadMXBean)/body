{
  String v=System.getProperty("java.specification.version");
  String cname=null;
  if ("1.6".equals(v)) {
    cname=THREAD_DUMP_16_CNAME;
  }
 else {
    cname=THREAD_DUMP_15_CNAME;
  }
  String pkg=ThreadDumpGenerator.class.getPackage().getName();
  String className=pkg + "." + cname;
  Class clazz=ThreadDumpGenerator.class.getClassLoader().loadClass(className);
  Constructor<ThreadDumpGenerator> cons=clazz.getConstructor(TYPE);
  return cons.newInstance(bean);
}
