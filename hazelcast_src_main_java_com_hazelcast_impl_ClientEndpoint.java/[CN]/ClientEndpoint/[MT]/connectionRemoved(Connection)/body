{
  LifecycleServiceImpl lifecycleService=(LifecycleServiceImpl)node.factory.getLifecycleService();
  if (connection.equals(this.conn) && !lifecycleService.paused.get()) {
    destroyEndpointThreads();
    rollbackTransactions();
    removeEntryListeners();
    removeEntryListenersWithKey();
    removeMessageListeners();
    cancelRunningOperations();
    releaseAttachedSemaphorePermits();
    node.clusterManager.sendProcessableToAll(new ClientService.CountDownLatchLeave(conn.getEndPoint()),true);
  }
}
