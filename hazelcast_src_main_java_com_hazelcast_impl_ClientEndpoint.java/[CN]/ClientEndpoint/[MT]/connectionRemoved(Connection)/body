{
  LifecycleServiceImpl lifecycleService=(LifecycleServiceImpl)node.factory.getLifecycleService();
  if (connection.equals(this.conn) && !lifecycleService.paused.get()) {
    for (    Integer threadId : locks.keySet()) {
      ThreadContext.get().setCallContext(getCallContext(threadId));
      Map<IMap,List<Data>> mapOfLocks=locks.get(threadId);
      for (      IMap map : mapOfLocks.keySet()) {
        List<Data> list=mapOfLocks.get(map);
        for (        Data key : list) {
          map.unlock(key);
        }
      }
    }
    for (    IMap map : listeningMaps) {
      map.removeEntryListener(this);
    }
    for (    Map.Entry e : listeningKeysOfMaps) {
      IMap m=(IMap)e.getKey();
      m.removeEntryListener(this,e.getValue());
    }
    for (    ITopic topic : messageListeners.keySet()) {
      topic.removeMessageListener(messageListeners.get(topic));
    }
  }
}
