{
  final HazelcastInstance hz1=Hazelcast.newHazelcastInstance();
  final HazelcastInstance hz2=Hazelcast.newHazelcastInstance();
  final ClientConfig clientConfig=new ClientConfig();
  clientConfig.addNearCacheConfig("map*",new NearCacheConfig().setInMemoryFormat(MapConfig.InMemoryFormat.OBJECT));
  final Random random=new Random(System.currentTimeMillis());
  for (int i=0; i < 12; i++) {
    new Thread(){
      public void run(){
        final HazelcastInstance client=HazelcastClient.newHazelcastClient(clientConfig);
        final IMap<Object,Object> map=client.getMap("map" + random.nextInt(3));
        while (true) {
          final int r1=random.nextInt(2);
          final int r2=random.nextInt(1000);
          if (r1 == 0) {
            map.put("key" + r2,"value" + r2);
          }
 else {
            map.get("key" + r2);
          }
        }
      }
    }
.start();
  }
  Thread.sleep(50 * 1000);
}
