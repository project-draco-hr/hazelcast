{
  boolean shouldMerge=false;
  if (joinInfo != null) {
    boolean validJoinRequest;
    try {
      try {
        validJoinRequest=node.validateJoinRequest(joinInfo);
      }
 catch (      Exception e) {
        validJoinRequest=false;
      }
      if (validJoinRequest) {
        for (        Member member : node.getClusterImpl().getMembers()) {
          MemberImpl memberImpl=(MemberImpl)member;
          if (memberImpl.getAddress().equals(joinInfo.address)) {
            return false;
          }
        }
        int currentMemberCount=node.getClusterImpl().getMembers().size();
        if (joinInfo.getMemberCount() > currentMemberCount) {
          logger.log(Level.FINEST,node.address + "Merging because : joinInfo.getMemberCount() > currentMemberCount" + joinInfo+ ", this node member count: "+ node.getClusterImpl().getMembers().size());
          shouldMerge=true;
        }
 else         if (joinInfo.getMemberCount() == currentMemberCount) {
          if (node.getThisAddress().hashCode() > joinInfo.address.hashCode()) {
            logger.log(Level.FINEST,node.address + "Merging because : node.getThisAddress().hashCode() > joinInfo.address.hashCode()" + joinInfo+ ", this node member count: "+ node.getClusterImpl().getMembers().size());
            shouldMerge=true;
          }
        }
      }
    }
 catch (    Throwable e) {
      logger.log(Level.SEVERE,e.getMessage(),e);
      return false;
    }
  }
  return shouldMerge;
}
