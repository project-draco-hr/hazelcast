{
  T listener=null;
  if (listenerConfig.getImplementation() != null) {
    listener=(T)listenerConfig.getImplementation();
  }
 else   if (listenerConfig.getClassName() != null) {
    try {
      listener=ClassLoaderUtil.newInstance(getNodeEngine().getConfigClassLoader(),listenerConfig.getClassName());
    }
 catch (    Exception e) {
      throw ExceptionUtil.rethrow(e);
    }
  }
  if (listener instanceof HazelcastInstanceAware) {
    ((HazelcastInstanceAware)listener).setHazelcastInstance(getNodeEngine().getHazelcastInstance());
  }
  return listener;
}
