{
  final NodeEngineImpl nodeEngine=(NodeEngineImpl)getNodeEngine();
  TransactionManagerService txService=getService();
  txService.prepare(getCallerUuid(),txnId,getPartitionId(),services);
  for (  String serviceName : services) {
    final TransactionalService service=nodeEngine.getService(serviceName);
    if (service == null) {
      throw new TransactionException("Unknown service: " + serviceName);
    }
    service.prepare(txnId,getPartitionId());
  }
}
