{
  for (int i=0; i < 10; i++) {
    boolean result=q.offer("item");
    if (i < 6) {
      assertTrue(result);
    }
 else {
      assertFalse(result);
    }
  }
  assertEquals(6,q.size());
  new Thread(){
    public void run(){
      try {
        Thread.sleep(2 * 1000);
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
      q.poll();
    }
  }
.start();
  boolean result=q.offer("item",5,TimeUnit.SECONDS);
  assertTrue(result);
  for (int i=0; i < 10; i++) {
    Object o=q.poll();
    if (i < 6) {
      assertNotNull(o);
    }
 else {
      assertNull(o);
    }
  }
  assertEquals(0,q.size());
  new Thread(){
    public void run(){
      try {
        Thread.sleep(2 * 1000);
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
      q.offer("item1");
    }
  }
.start();
  Object o=q.poll(5,TimeUnit.SECONDS);
  assertEquals("item1",o);
}
