{
  assertEquals(0,q.size());
  final CountDownLatch latch=new CountDownLatch(5);
  ItemListener listener=new ItemListener(){
    public void itemAdded(    ItemEvent itemEvent){
      latch.countDown();
    }
    public void itemRemoved(    ItemEvent item){
    }
  }
;
  String id=q.addItemListener(listener,true);
  Thread.sleep(500);
  new Thread(){
    public void run(){
      for (int i=0; i < 5; i++) {
        if (!q.offer("event_item" + i)) {
          throw new RuntimeException();
        }
      }
    }
  }
.start();
  assertTrue(latch.await(5,TimeUnit.SECONDS));
  q.removeItemListener(id);
}
