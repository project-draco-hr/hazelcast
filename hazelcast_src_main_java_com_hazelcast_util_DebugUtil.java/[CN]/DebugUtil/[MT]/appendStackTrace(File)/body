{
  if (file == null) {
    throw new NullPointerException();
  }
  Thread thread=Thread.currentThread();
  StringBuilder sb=new StringBuilder();
  sb.append(thread.getClass()).append(' ');
  sb.append(thread.getName()).append('\n');
  StackTraceElement[] elements=thread.getStackTrace();
  for (  StackTraceElement element : elements) {
    sb.append('\t').append(element.toString()).append('\n');
  }
  PrintWriter out=null;
  try {
    out=new PrintWriter(new BufferedWriter(new FileWriter(file,true)));
    out.print(sb.toString());
    out.close();
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
 finally {
    IOUtil.closeResource(out);
  }
}
