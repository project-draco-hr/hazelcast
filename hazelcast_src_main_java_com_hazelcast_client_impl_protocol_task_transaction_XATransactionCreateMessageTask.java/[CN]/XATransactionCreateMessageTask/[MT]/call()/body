{
  ClientEndpoint endpoint=getEndpoint();
  XAService xaService=getService(getServiceName());
  TransactionContext context=xaService.newXATransactionContext(parameters.xid,(int)parameters.timeout,true);
  TransactionAccessor.getTransaction(context).begin();
  endpoint.setTransactionContext(context);
  return context.getTxnId();
}
