{
  if (cachingProvider == null) {
    throw new NullPointerException("CachingProvider missing");
  }
  this.cachingProvider=cachingProvider;
  isDefaultURI=uri == null || cachingProvider.getDefaultURI().equals(uri);
  this.uri=isDefaultURI ? cachingProvider.getDefaultURI() : uri;
  isDefaultClassLoader=classLoader == null || cachingProvider.getDefaultClassLoader().equals(classLoader);
  final ClassLoader _classLoader=isDefaultClassLoader ? cachingProvider.getDefaultClassLoader() : classLoader;
  this.classLoaderReference=new WeakReference<ClassLoader>(_classLoader);
  this.properties=properties == null ? new Properties() : new Properties(properties);
  this.cacheNamePrefix=cacheNamePrefix();
}
