{
  NodeEngine nodeEngine=getNodeEngine();
  Function f=nodeEngine.toObject(function);
  AtomicReferenceWrapper reference=getReference();
  Object input=nodeEngine.toObject(reference.get());
  response=input;
  Object output=f.apply(input);
  update=nodeEngine.toData(output);
  reference.set(update);
}
