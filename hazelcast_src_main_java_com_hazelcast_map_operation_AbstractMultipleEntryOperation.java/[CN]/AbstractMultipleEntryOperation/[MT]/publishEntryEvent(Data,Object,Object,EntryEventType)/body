{
  if (hasRegisteredListenerForThisMap()) {
    oldValue=nullifyOldValueIfNecessary(oldValue,eventType);
    final MapEventPublisher mapEventPublisher=getMapEventPublisher();
    value=toData(value);
    mapEventPublisher.publishEvent(getCallerAddress(),name,eventType,key,toData(oldValue),(Data)value);
  }
  return value;
}
