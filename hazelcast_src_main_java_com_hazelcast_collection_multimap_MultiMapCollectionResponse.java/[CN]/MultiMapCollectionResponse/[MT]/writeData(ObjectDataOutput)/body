{
  out.writeUTF(collectionType.toString());
  if (collection == null) {
    out.writeInt(-1);
    return;
  }
  out.writeInt(collection.size());
  for (  Object obj : collection) {
    Data data=binary ? (Data)obj : serializationService.toData(obj);
    data.writeData(out);
  }
}
