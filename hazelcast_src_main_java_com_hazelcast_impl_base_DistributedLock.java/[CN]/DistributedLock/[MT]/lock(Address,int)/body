{
  if (lockCount == 0) {
    lockAddress=address;
    lockThreadId=threadId;
    lockCount=1;
    lockAcquireTime=Clock.currentTimeMillis();
    return true;
  }
 else   if (isLockedBy(address,threadId)) {
    lockCount=1;
    return true;
  }
  return false;
}
