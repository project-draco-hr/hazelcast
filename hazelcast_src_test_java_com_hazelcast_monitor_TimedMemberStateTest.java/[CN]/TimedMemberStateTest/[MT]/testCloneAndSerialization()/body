{
  Set<String> instanceNames=new HashSet<String>();
  instanceNames.add("topicStats");
  HazelcastInstance hz=createHazelcastInstance();
  TimedMemberStateFactory timedMemberStateFactory=new TimedMemberStateFactory(getHazelcastInstanceImpl(hz));
  TimedMemberState state=timedMemberStateFactory.createTimedMemberState();
  state.setClusterName("ClusterName");
  state.setTime(1827731);
  state.setInstanceNames(instanceNames);
  JsonObject serialized=state.clone().toJson();
  TimedMemberState deserialized=new TimedMemberState();
  deserialized.fromJson(serialized);
  assertNotNull(deserialized);
  assertEquals("ClusterName",deserialized.getClusterName());
  assertEquals(1827731,deserialized.getTime());
  assertNotNull(deserialized.getInstanceNames());
  assertEquals(1,deserialized.getInstanceNames().size());
  assertTrue(deserialized.getInstanceNames().contains("topicStats"));
  assertNotNull(deserialized.getMemberState());
  assertNotNull(deserialized.toString());
}
