{
  if (CollectionUtil.isEmpty(keys)) {
    return Collections.emptyMap();
  }
  List<Data> requestedKeys=new ArrayList<Data>(keys.size());
  for (  K key : keys) {
    checkNotNull(key,NULL_KEY_IS_NOT_ALLOWED);
    Data k=toData(key,partitionStrategy);
    requestedKeys.add(k);
  }
  List resultingKeyValuePairs=new ArrayList(keys.size());
  getAllObjectInternal(requestedKeys,resultingKeyValuePairs);
  Map<Object,Object> result=MapUtil.createHashMap(keys.size());
  for (int i=0; i < resultingKeyValuePairs.size(); ) {
    Object key=toObject(resultingKeyValuePairs.get(i++));
    Object value=toObject(resultingKeyValuePairs.get(i++));
    result.put(key,value);
  }
  return (Map<K,V>)result;
}
