{
  isNotNull(callback,"callback");
  isNotNull(executor,"executor");
  if (isDone()) {
    runAsynchronous(callback,executor);
    return;
  }
  for (; ; ) {
    ExecutionCallbackNode<V> oldCallbackHead=callbackHead;
    ExecutionCallbackNode<V> newCallbackHead=new ExecutionCallbackNode<V>(callback,executor,oldCallbackHead);
    if (callbackUpdater.compareAndSet(this,oldCallbackHead,newCallbackHead)) {
      break;
    }
  }
}
