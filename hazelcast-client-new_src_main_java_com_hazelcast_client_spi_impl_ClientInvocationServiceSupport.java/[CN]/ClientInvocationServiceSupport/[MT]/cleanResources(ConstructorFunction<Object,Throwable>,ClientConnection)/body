{
  final Iterator<Map.Entry<Integer,ClientInvocation>> iter=callIdMap.entrySet().iterator();
  while (iter.hasNext()) {
    final Map.Entry<Integer,ClientInvocation> entry=iter.next();
    final ClientInvocation invocation=entry.getValue();
    if (connection.equals(invocation.getSendConnection())) {
      iter.remove();
      invocation.notifyException(responseCtor.createNew(null));
      eventHandlerMap.remove(entry.getKey());
    }
  }
  final Iterator<ClientListenerInvocation> iterator=eventHandlerMap.values().iterator();
  while (iterator.hasNext()) {
    final ClientInvocation invocation=iterator.next();
    if (connection.equals(invocation.getSendConnection())) {
      iterator.remove();
      invocation.notifyException(responseCtor.createNew(null));
    }
  }
}
