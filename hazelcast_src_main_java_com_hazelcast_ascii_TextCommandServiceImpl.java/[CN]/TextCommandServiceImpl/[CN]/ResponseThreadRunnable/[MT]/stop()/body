{
  running=false;
synchronized (stopObject) {
    try {
      blockingQueue.offer(new AbstractTextCommand(TextCommandConstants.TextCommandType.STOP){
        public boolean doRead(        ByteBuffer cb){
          return true;
        }
        public boolean writeTo(        ByteBuffer bb){
          return true;
        }
      }
);
      stopObject.wait(1000);
    }
 catch (    Exception ignored) {
    }
  }
}
