{
  if (instance == null) {
    ILogger logger=Logger.getLogger(ThreadContext.class.getName());
    logger.log(Level.SEVERE,"HazelcastInstance is null",new Throwable());
  }
  final String factoryKey=instance != null ? instance.getName() : "null";
  HazelcastInstanceThreadContext hic=mapHazelcastInstanceContexts.get(factoryKey);
  if (hic != null)   return hic;
  hic=new HazelcastInstanceThreadContext(instance);
  mapHazelcastInstanceContexts.put(factoryKey,hic);
  return hic;
}
