{
  final LockStore lockStore=getLockStore();
  awaiting=lockStore.isAwaiting(key,conditionId,getCallerUuid(),threadId);
  if (!awaiting) {
    isLockOwner=lockStore.isLocked(key) && lockStore.canAcquireLock(key,getCallerUuid(),threadId);
    if (!isLockOwner) {
      throw new IllegalMonitorStateException("Current thread is not owner of the lock!");
    }
  }
}
