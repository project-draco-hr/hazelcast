{
  final Timestamp ts=(Timestamp)messageObject;
  final Object key=ts.getKey();
  for (; ; ) {
    final Expirable value=cache.get(key);
    final Long current=value != null ? (Long)value.getValue() : null;
    if (current != null) {
      if (ts.getTimestamp() > current) {
        if (cache.replace(key,value,new Value(value.getVersion(),Clock.currentTimeMillis(),ts.getTimestamp()))) {
          return;
        }
      }
 else {
        return;
      }
    }
 else {
      if (cache.putIfAbsent(key,new Value(null,Clock.currentTimeMillis(),ts.getTimestamp())) == null) {
        return;
      }
    }
  }
}
