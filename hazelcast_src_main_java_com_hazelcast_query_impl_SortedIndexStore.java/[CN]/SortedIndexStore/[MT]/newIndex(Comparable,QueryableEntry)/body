{
  ensureNotLocked();
  takeLock();
  try {
    ConcurrentMap<Data,QueryableEntry> records=mapRecords.get(newValue);
    if (records == null) {
      records=new ConcurrentHashMap<Data,QueryableEntry>(1,LOAD_FACTOR,1);
      mapRecords.put(newValue,records);
      if (!(newValue instanceof IndexImpl.NullObject)) {
        sortedSet.add(newValue);
      }
    }
    records.put(record.getIndexKey(),record);
  }
  finally {
    releaseLock();
  }
}
