{
  final Connection connection=new Connection(this,connectionIdGen.incrementAndGet(),socketChannel);
  setActiveConnections.add(connection);
  try {
    if (acceptor) {
    }
 else {
      node.inSelector.addTask(connection.getReadHandler());
    }
  }
 catch (  final Exception e) {
    logger.log(Level.WARNING,e.getMessage(),e);
  }
  return connection;
}
