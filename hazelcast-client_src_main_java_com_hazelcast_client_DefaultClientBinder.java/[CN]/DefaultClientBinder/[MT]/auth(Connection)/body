{
  Packet auth=new Packet();
  final GroupConfig groupConfig=client.groupConfig();
  auth.set("",ClusterOperation.CLIENT_AUTHENTICATE,toByte(groupConfig.getName()),toByte(groupConfig.getPassword()));
  Packet packet=writeAndRead(connection,auth);
  final Object response=toObject(packet.getValue());
  logger.log(Level.FINEST,"auth responce:" + response);
  if (response instanceof Exception) {
    throw new RuntimeException((Exception)response);
  }
  if (!Boolean.TRUE.equals(response)) {
    throw new AuthenticationException("Client [" + connection + "] has failed authentication");
  }
}
