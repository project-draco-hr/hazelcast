{
  failedHeartBeat++;
  if (failedHeartBeat == connectionManager.maxFailedHeartbeatCount) {
    connectionManager.connectionMarkedAsNotResponsive(this);
    final Iterator<ClientCallFuture> iterator=eventHandlerMap.values().iterator();
    final TargetDisconnectedException response=new TargetDisconnectedException(remoteEndpoint);
    while (iterator.hasNext()) {
      final ClientCallFuture future=iterator.next();
      iterator.remove();
      future.notify(response);
    }
  }
}
