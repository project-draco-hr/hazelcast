{
  if (socketChannelWrapper.isOpen()) {
    socketChannelWrapper.close();
  }
  reader.shutdown();
  writer.shutdown();
  MetricsRegistryImpl metricsRegistry=client.getMetricsRegistry();
  metricsRegistry.deregister(this);
  metricsRegistry.deregister(writer);
  metricsRegistry.deregister(reader);
}
