{
  if (!live) {
    return;
  }
  live=false;
  if (socketChannelWrapper.isOpen()) {
    socketChannelWrapper.close();
  }
  readHandler.shutdown();
  writeHandler.shutdown();
  if (socketChannelWrapper.isBlocking()) {
    return;
  }
  if (connectionManager.isLive()) {
    try {
      executionService.execute(new CleanResourcesTask());
    }
 catch (    RejectedExecutionException e) {
      logger.warning("Execution rejected ",e);
    }
  }
 else {
    cleanResources(new ConstructorFunction<Object,Throwable>(){
      @Override public Throwable createNew(      Object arg){
        return new HazelcastException("Client is shutting down!");
      }
    }
);
  }
}
