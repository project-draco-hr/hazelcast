{
  final long begin=System.currentTimeMillis();
  int count=packetCount.get();
  while (count != 0) {
    try {
      Thread.sleep(SLEEP_TIME);
    }
 catch (    InterruptedException e) {
      logger.warning(e);
      break;
    }
    long elapsed=System.currentTimeMillis() - begin;
    if (elapsed > 5000) {
      logger.warning("There are packets which are not processed " + count);
      break;
    }
    count=packetCount.get();
  }
}
