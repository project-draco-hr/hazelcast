{
  ensureOpen();
  if (map == null) {
    throw new NullPointerException("map is null");
  }
  if (map.keySet().contains(null)) {
    throw new NullPointerException(NULL_KEY_IS_NOT_ALLOWED);
  }
  if (map.values().contains(null)) {
    throw new NullPointerException(NULL_VALUE_IS_NOT_ALLOWED);
  }
  for (  Map.Entry<? extends K,? extends V> entry : map.entrySet()) {
    put(entry.getKey(),entry.getValue(),expiryPolicy);
  }
}
