{
  Thread currentThread=Thread.currentThread();
  ThreadContext threadContext=mapContexts.get(currentThread);
  if (threadContext == null) {
    threadContext=new ThreadContext(Thread.currentThread());
    mapContexts.put(currentThread,threadContext);
    Iterator<Thread> threads=mapContexts.keySet().iterator();
    while (threads.hasNext()) {
      Thread thread=threads.next();
      if (!thread.isAlive()) {
        threads.remove();
      }
    }
  }
  return threadContext;
}
