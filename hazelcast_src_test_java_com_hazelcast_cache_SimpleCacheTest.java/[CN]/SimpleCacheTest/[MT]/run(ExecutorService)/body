{
  final CachingProvider cachingProvider=Caching.getCachingProvider();
  final CacheManager cacheManager=cachingProvider.getCacheManager();
  CacheConfig<String,Object> config=new CacheConfig<String,Object>();
  config.setTypes(String.class,Object.class);
  config.setStatisticsEnabled(true);
  config.setManagementEnabled(true);
  cacheManager.createCache(NAMESPACE,config);
  cacheManager.createCache("test",config);
  cacheManager.createCache("test2",config);
  ManagementFactory.getPlatformMBeanServer();
  final IMap<String,Object> map=instance.getMap(NAMESPACE);
  map.put("1",1);
  for (int i=0; i < threadCount; i++) {
    es.execute(new Runnable(){
      public void run(){
        try {
          while (true) {
            final Cache<String,Object> cache=cacheManager.getCache(NAMESPACE,String.class,Object.class);
            int key=(int)(random.nextFloat() * entryCount);
            int operation=((int)(random.nextFloat() * 100));
            if (operation < getPercentage) {
              cache.get(String.valueOf(key));
              stats.gets.incrementAndGet();
            }
 else             if (operation < getPercentage + putPercentage) {
              cache.put(String.valueOf(key),createValue());
              stats.puts.incrementAndGet();
            }
 else {
              cache.remove(String.valueOf(key));
              stats.removes.incrementAndGet();
            }
          }
        }
 catch (        HazelcastInstanceNotActiveException e) {
          e.printStackTrace();
        }
catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
);
  }
}
