{
  Document document=root.getOwnerDocument();
  NodeList misplacedImports=(NodeList)xpath.evaluate("//" + IMPORT.name + "/parent::*[not(name()=\""+ this.getXmlType().name+ "\")]",document,XPathConstants.NODESET);
  if (misplacedImports.getLength() > 0) {
    throw new InvalidConfigurationException("<import> element can appear only in the top level of the XML");
  }
  NodeList importTags=(NodeList)xpath.evaluate("/*[name()='" + this.getXmlType().name + "']/*[name()='"+ IMPORT.name+ "']",document,XPathConstants.NODESET);
  for (  Node node : asElementIterable(importTags)) {
    loadAndReplaceImportElement(root,node);
  }
}
