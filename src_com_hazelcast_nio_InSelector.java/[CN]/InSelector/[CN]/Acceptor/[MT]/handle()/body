{
  try {
    final SocketChannel channel=serverSocketChannel.accept();
    if (DEBUG)     logger.log(Level.INFO,channel.socket().getLocalPort() + " this socket is connected to " + channel.socket().getRemoteSocketAddress());
    if (channel != null) {
      final Connection connection=initChannel(channel,true);
      final InetSocketAddress remoteSocket=(InetSocketAddress)channel.socket().getRemoteSocketAddress();
      final int remoteRealPort=Config.get().getPort() + ((remoteSocket.getPort() - 10000) % 20);
      final Address endPoint=new Address(remoteSocket.getAddress(),remoteRealPort);
      ConnectionManager.get().bind(endPoint,connection,true);
      channel.register(selector,SelectionKey.OP_READ,connection.getReadHandler());
    }
    serverSocketChannel.register(selector,SelectionKey.OP_ACCEPT,Acceptor.this);
    selector.wakeup();
  }
 catch (  final Exception e) {
    e.printStackTrace();
    try {
      serverSocketChannel.close();
    }
 catch (    final Exception ignore) {
    }
    Node.get().shutdown();
  }
}
