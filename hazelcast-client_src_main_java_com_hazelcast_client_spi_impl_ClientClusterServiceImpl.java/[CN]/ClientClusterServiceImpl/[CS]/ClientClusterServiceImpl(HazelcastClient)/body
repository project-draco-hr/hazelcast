{
  this.client=client;
  clusterThread=new ClusterListenerThread(client.getThreadGroup(),client.getName() + ".cluster-listener");
  final ClientConfig clientConfig=getClientConfig();
  redoOperation=clientConfig.isRedoOperation();
  credentials=clientConfig.getCredentials();
  final Collection<EventListener> listenersList=client.getClientConfig().getListeners();
  if (listenersList != null && !listenersList.isEmpty()) {
    for (    EventListener listener : listenersList) {
      if (listener instanceof MembershipListener) {
        addMembershipListener((MembershipListener)listener);
      }
    }
  }
}
