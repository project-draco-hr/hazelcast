{
  final SerializationService ss=getSerializationService();
  connection.write(ss.toData(request));
  final Data data=connection.read();
  ClientResponse clientResponse=ss.toObject(data);
  Object response=clientResponse.getResponse();
  if (response instanceof Throwable) {
    Throwable t=(Throwable)response;
    ExceptionUtil.fixRemoteStackTrace(t,Thread.currentThread().getStackTrace());
    throw new Exception(t);
  }
  return response;
}
