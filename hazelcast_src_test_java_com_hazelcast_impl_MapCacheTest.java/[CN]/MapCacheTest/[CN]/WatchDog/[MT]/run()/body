{
  try {
    long startMs=System.currentTimeMillis();
    while (System.currentTimeMillis() < startMs + (DURATION_SEC * 1000)) {
      boolean tmp=checkEquals();
      int cnt=0;
      while (!tmp && (cnt++ < LOOP_MAX)) {
        Thread.sleep(4);
        tmp=checkEquals();
      }
      if (!tmp) {
        Thread.sleep(5000);
        if (!checkEquals()) {
          failureDetected=true;
          return;
        }
      }
      if (queue.peek() == null)       queue.put(true);
    }
  }
 catch (  InterruptedException ignored) {
  }
}
