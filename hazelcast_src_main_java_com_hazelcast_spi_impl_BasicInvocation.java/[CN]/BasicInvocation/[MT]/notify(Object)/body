{
  Object response=resolveResponse(obj);
  if (response == RETRY_RESPONSE) {
    handleRetryResponse();
    return;
  }
  if (response == WAIT_RESPONSE) {
    handleWaitResponse();
    return;
  }
  if (response instanceof NormalResponse && op instanceof BackupAwareOperation) {
    final NormalResponse resp=(NormalResponse)response;
    if (resp.getBackupCount() > 0) {
      waitForBackups(resp.getBackupCount(),TIMEOUT,TimeUnit.SECONDS,resp);
      return;
    }
  }
  invocationFuture.set(response);
}
