{
  HazelcastInstance h1=Hazelcast.newHazelcastInstance(new Config());
  HazelcastClient client=newHazelcastClient(h1);
  final String name="simple";
  final AtomicNumber nodeAtomicLong=h1.getAtomicNumber(name);
  final AtomicNumber clientAtomicLong=client.getAtomicNumber(name);
  check(nodeAtomicLong,clientAtomicLong,0L);
  assertEquals(1L,clientAtomicLong.incrementAndGet());
  check(nodeAtomicLong,clientAtomicLong,1L);
  assertEquals(1L,clientAtomicLong.getAndAdd(1));
  check(nodeAtomicLong,clientAtomicLong,2L);
  assertEquals(1L,nodeAtomicLong.decrementAndGet());
  check(nodeAtomicLong,clientAtomicLong,1L);
  assertEquals(2L,clientAtomicLong.addAndGet(1L));
  check(nodeAtomicLong,clientAtomicLong,2L);
  clientAtomicLong.set(3L);
  check(nodeAtomicLong,clientAtomicLong,3L);
  assertFalse(nodeAtomicLong.compareAndSet(4L,1L));
  check(nodeAtomicLong,clientAtomicLong,3L);
  assertTrue(clientAtomicLong.compareAndSet(3L,1L));
  check(nodeAtomicLong,clientAtomicLong,1L);
}
