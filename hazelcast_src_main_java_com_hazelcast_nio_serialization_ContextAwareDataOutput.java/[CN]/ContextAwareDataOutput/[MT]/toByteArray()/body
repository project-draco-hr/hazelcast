{
  if (buffer == null) {
    return new byte[0];
  }
  final byte newBuffer[]=new byte[size()];
  System.arraycopy(buffer,offset,newBuffer,0,size());
  return newBuffer;
}
