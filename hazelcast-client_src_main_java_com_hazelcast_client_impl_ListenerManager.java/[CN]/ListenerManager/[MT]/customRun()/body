{
  try {
    Object obj=queue.poll(100,TimeUnit.MILLISECONDS);
    if (obj == null) {
      return;
    }
    if (obj instanceof Protocol) {
      Protocol protocol=(Protocol)obj;
      if (Command.EVENT.equals(protocol.command)) {
        entryListenerManager.notifyListeners(protocol);
      }
 else       if (Command.QEVENT.equals(protocol.command)) {
        queueItemListenerManager.notifyListeners(protocol);
      }
 else       if (Command.MESSAGE.equals(protocol.command)) {
        messageListenerManager.notifyMessageListeners(protocol);
      }
    }
 else     if (obj instanceof Runnable) {
      ((Runnable)obj).run();
    }
  }
 catch (  InterruptedException ine) {
    throw ine;
  }
catch (  Throwable ignored) {
    ignored.printStackTrace();
  }
}
