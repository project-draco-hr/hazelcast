{
  mapService=getService();
  List<Integer> initialPartitions=mapService.getOwnedPartitions().get();
  IndexService indexService=mapService.getMapContainer(name).getIndexService();
  Set<QueryableEntry> entries=indexService.query(predicate,null);
  if (entries == null) {
    entries=runParallel(initialPartitions);
  }
  List<Integer> finalPartitions=mapService.getOwnedPartitions().get();
  if (initialPartitions == finalPartitions) {
    result=new QueryResult();
    result.setPartitionIds(finalPartitions);
    result.setResult(entries);
  }
}
