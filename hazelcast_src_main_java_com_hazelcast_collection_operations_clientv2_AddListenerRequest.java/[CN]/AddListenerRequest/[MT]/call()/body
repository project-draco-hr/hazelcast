{
  final ClientEndpoint endpoint=getEndpoint();
  final ClientEngine clientEngine=getClientEngine();
  final CollectionService service=getService();
  EntryListener listener=new EntryListener(){
    public void entryAdded(    EntryEvent event){
      send(event);
    }
    public void entryRemoved(    EntryEvent event){
      send(event);
    }
    public void entryUpdated(    EntryEvent event){
      send(event);
    }
    public void entryEvicted(    EntryEvent event){
      send(event);
    }
    private void send(    EntryEvent event){
      if (endpoint.getConn().live()) {
        clientEngine.sendResponse(endpoint,event.toString());
      }
 else {
        System.err.println("De-registering listener for " + proxyId);
        service.removeListener(proxyId.getName(),this,key);
      }
    }
  }
;
  service.addListener(proxyId.getName(),listener,key,includeValue,local);
  return null;
}
