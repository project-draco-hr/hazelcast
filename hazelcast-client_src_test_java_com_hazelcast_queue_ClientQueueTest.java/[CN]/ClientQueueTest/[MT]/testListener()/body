{
  final CountDownLatch latch=new CountDownLatch(6);
  ItemListener listener=new ItemListener(){
    public void itemAdded(    ItemEvent itemEvent){
      latch.countDown();
    }
    public void itemRemoved(    ItemEvent item){
    }
  }
;
  q.addItemListener(listener,true);
  new Thread(){
    public void run(){
      for (int i=0; i < 5; i++) {
        q.offer("item" + i);
      }
      q.offer("done");
    }
  }
.start();
  assertTrue(latch.await(20,TimeUnit.SECONDS));
}
