{
  Set<Entry<String,Object>> entrySet=getClusterMap().entrySet(new SessionAttributePredicate(hazelcastSession.getId()));
  Map<String,LocalCacheEntry> cache=hazelcastSession.localCache;
  for (  Entry<String,Object> entry : entrySet) {
    String attributeKey=extractAttributeKey(entry.getKey());
    LocalCacheEntry cacheEntry=cache.get(attributeKey);
    if (cacheEntry == null) {
      cacheEntry=new LocalCacheEntry();
      cache.put(attributeKey,cacheEntry);
    }
    if (LOGGER.isFinestEnabled()) {
      LOGGER.finest("Storing " + attributeKey + " on session "+ hazelcastSession.getId());
    }
    cacheEntry.value=entry.getValue();
    cacheEntry.dirty=false;
  }
}
