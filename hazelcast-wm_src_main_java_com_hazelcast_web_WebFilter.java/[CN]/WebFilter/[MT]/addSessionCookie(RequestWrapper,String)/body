{
  final Cookie sessionCookie=new Cookie(sessionCookieName,sessionId);
  String path=req.getContextPath();
  if ("".equals(path)) {
    path="/";
  }
  sessionCookie.setPath(path);
  sessionCookie.setMaxAge(-1);
  if (sessionCookieDomain != null) {
    sessionCookie.setDomain(sessionCookieDomain);
  }
  if (sessionCookieHttpOnly) {
    try {
      sessionCookie.setHttpOnly(true);
    }
 catch (    NoSuchMethodError e) {
      LOGGER.info("HttpOnly cookies require a Servlet 3.0+ container. Add the following to the " + getClass().getName() + " mapping in web.xml to disable HttpOnly cookies:\n"+ "<init-param>\n"+ "    <param-name>cookie-http-only</param-name>\n"+ "    <param-value>false</param-value>\n"+ "</init-param>");
    }
  }
  sessionCookie.setSecure(sessionCookieSecure);
  req.res.addCookie(sessionCookie);
}
