{
  String debugParam=config.getInitParameter("debug");
  if (debugParam != null) {
    debug=Boolean.valueOf(debugParam);
  }
  servletContext=config.getServletContext();
  hazelcastInstance=getInstance(config);
  String mapName=config.getInitParameter("map-name");
  if (mapName != null) {
    clusterMapName=mapName;
  }
 else {
    clusterMapName="_web_" + servletContext.getServletContextName();
  }
  String stickySessionParam=config.getInitParameter("sticky-session");
  if (stickySessionParam != null) {
    stickySession=Boolean.valueOf(stickySessionParam);
  }
  String shutdownOnDestroyParam=config.getInitParameter("shutdown-on-destroy");
  if (shutdownOnDestroyParam != null) {
    shutdownOnDestroy=Boolean.valueOf(shutdownOnDestroyParam);
  }
  if (!stickySession) {
    getClusterMap().addEntryListener(new EntryListener(){
      public void entryAdded(      EntryEvent entryEvent){
      }
      public void entryRemoved(      EntryEvent entryEvent){
        if (!entryEvent.getMember().localMember()) {
          removeSessionLocally((String)entryEvent.getKey());
        }
      }
      public void entryUpdated(      EntryEvent entryEvent){
        if (!entryEvent.getMember().localMember()) {
          markSessionDirty((String)entryEvent.getKey());
        }
      }
      public void entryEvicted(      EntryEvent entryEvent){
      }
    }
,false);
  }
  log("sticky:" + stickySession + ", debug: "+ debug+ ", shutdown-on-destroy: "+ shutdownOnDestroy+ ", map-name: "+ clusterMapName);
}
