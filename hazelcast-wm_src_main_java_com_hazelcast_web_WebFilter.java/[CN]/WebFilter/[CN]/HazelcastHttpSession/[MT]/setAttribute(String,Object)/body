{
  if (name == null) {
    throw new NullPointerException("name must not be null");
  }
  if (value == null) {
    throw new IllegalArgumentException("value must not be null");
  }
  if (!(value instanceof Serializable) && !(value instanceof DataSerializable) && !(value instanceof Portable)) {
    throw new IllegalArgumentException(new NotSerializableException(value.getClass().getName()));
  }
  if (deferredWrite) {
    LocalCacheEntry entry=localCache.get(name);
    if (entry == null) {
      entry=new LocalCacheEntry();
      localCache.put(name,entry);
    }
    entry.value=value;
    entry.dirty=true;
  }
 else {
    getClusterMap().put(buildAttributeName(name),value);
  }
}
