{
  if (name == null) {
    throw new NullPointerException("name must not be null");
  }
  if (value == null) {
    removeAttribute(name);
    return;
  }
  if (deferredWrite) {
    LocalCacheEntry entry=localCache.get(name);
    if (entry == null || entry == NULL_ENTRY) {
      entry=new LocalCacheEntry();
      localCache.put(name,entry);
    }
    entry.value=value;
    entry.dirty=true;
  }
 else {
    getClusterMap().set(buildAttributeName(name),value);
  }
}
