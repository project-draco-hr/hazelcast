{
  totalWritten+=IOUtil.copyToHeapBuffer(response,destination);
  if (hasBuffer()) {
    while (writerIterator.hasNext()) {
      DataAdapter dw=writerIterator.next();
      if (!dw.writeTo(destination)) {
        return false;
      }
    }
    totalWritten+=IOUtil.copyToHeapBuffer(ByteBuffer.wrap(NEWLINE.getBytes()),destination);
  }
  return totalWritten >= totalSize;
}
