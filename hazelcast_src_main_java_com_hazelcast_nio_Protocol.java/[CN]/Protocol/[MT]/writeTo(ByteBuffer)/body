{
  totalWritten+=IOUtil.copyToHeapBuffer(response,destination);
  if (hasBuffer()) {
    for (    ByteBuffer buffer : buffers) {
      totalWritten+=IOUtil.copyToHeapBuffer(buffer,destination);
    }
    totalWritten+=IOUtil.copyToHeapBuffer(ByteBuffer.wrap("\r\n".getBytes()),destination);
  }
  return totalWritten >= totalSize;
}
