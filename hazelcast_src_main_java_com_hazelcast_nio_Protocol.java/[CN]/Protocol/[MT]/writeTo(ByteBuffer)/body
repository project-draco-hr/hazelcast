{
  totalWritten+=IOUtil.copyToHeapBuffer(response,destination);
  if (hasBuffer()) {
    while (writerIterator.hasNext()) {
      DataWriter dw=writerIterator.next();
      if (!dw.writeTo(destination)) {
        return false;
      }
    }
    totalWritten+=IOUtil.copyToHeapBuffer(ByteBuffer.wrap("\r\n".getBytes()),destination);
  }
  return totalWritten >= totalSize;
}
