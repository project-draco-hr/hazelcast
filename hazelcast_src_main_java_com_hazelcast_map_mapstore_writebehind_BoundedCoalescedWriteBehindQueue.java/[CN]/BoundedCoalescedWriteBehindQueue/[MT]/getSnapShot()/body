{
  if (queue == null || queue.isEmpty()) {
    return WriteBehindQueues.emptyWriteBehindQueue();
  }
  return new BoundedCoalescedWriteBehindQueue(queue,maxSize,writeBehindQueueItemCounter);
}
