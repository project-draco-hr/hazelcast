{
  if (config.getTimeToLiveSeconds() == 0) {
    return config.getCapacity();
  }
  GenericOperation op=new GenericOperation(name,OPERATION_REMAINING_CAPACITY);
  InternalCompletableFuture f=invoke(op);
  return (Long)f.join();
}
