{
  int taskCount=Integer.parseInt(args[1]);
  int durationSec=Integer.parseInt(args[2]);
  long startMs=System.currentTimeMillis();
  List<Future> futures=new LinkedList<Future>();
  for (int k=0; k < taskCount; k++) {
    Future f=executorService.submit(new SimulateLoadTask(durationSec,k));
    futures.add(f);
  }
  for (  Future f : futures) {
    try {
      f.get();
    }
 catch (    InterruptedException e) {
      e.printStackTrace();
    }
catch (    ExecutionException e) {
      e.printStackTrace();
    }
  }
  long durationMs=System.currentTimeMillis() - startMs;
  println(format("Executed %s tasks in %s ms",taskCount,durationMs));
}
