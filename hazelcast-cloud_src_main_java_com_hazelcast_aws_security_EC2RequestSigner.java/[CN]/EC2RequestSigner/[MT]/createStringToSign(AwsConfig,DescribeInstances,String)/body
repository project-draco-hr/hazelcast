{
  String XAmzDateTime=request.getAttributes().get("X-Amz-Date");
  StringBuilder sb=new StringBuilder();
  sb.append(Constants.SIGNATURE_METHOD_V4).append("\n");
  sb.append(XAmzDateTime).append("\n");
  sb.append(getCredentialScope(config,request)).append("\n");
  sb.append(canonicalRequest).append("\n");
  return sb.toString();
}
