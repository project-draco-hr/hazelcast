{
  if (service == null) {
    throw new IllegalArgumentException("service cannot be null");
  }
  if (attributes == null) {
    throw new IllegalArgumentException("attributes cannot be null");
  }
  this.service=service;
  this.attributes=attributes;
  canonicalRequest=getCanonicalizedRequest();
  System.out.println(String.format("Canonical request \n%s",canonicalRequest));
  stringToSign=createStringToSign(canonicalRequest);
  System.out.println(String.format("String to sign    \n%s",stringToSign));
  signingKey=deriveSigningKey();
  System.out.println(String.format("signingkey        \n%s",bytesToHex(signingKey)));
  this.signature=createSignature(stringToSign,signingKey);
  System.out.println(String.format("signature         \n%s",this.signature));
  return this.signature;
}
