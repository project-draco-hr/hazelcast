{
  assertTrue(clientReference.compareAndSet(null,null));
  assertTrue(serverReference.isNull());
  assertFalse(clientReference.compareAndSet("foo",null));
  assertTrue(serverReference.isNull());
  assertTrue(clientReference.compareAndSet(null,"foo"));
  assertEquals("foo",serverReference.get());
  assertTrue(clientReference.compareAndSet("foo","foo"));
  assertEquals("foo",serverReference.get());
  assertFalse(clientReference.compareAndSet("bar","foo"));
  assertEquals("foo",serverReference.get());
  assertTrue(clientReference.compareAndSet("foo","bar"));
  assertEquals("bar",serverReference.get());
  assertTrue(clientReference.compareAndSet("bar",null));
  assertNull(serverReference.get());
}
