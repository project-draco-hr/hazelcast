{
  assertNull(clientReference.getAndSet(null));
  assertTrue(serverReference.isNull());
  assertNull(clientReference.getAndSet("foo"));
  assertEquals("foo",serverReference.get());
  assertEquals("foo",clientReference.getAndSet("foo"));
  assertEquals("foo",serverReference.get());
  assertEquals("foo",clientReference.getAndSet("bar"));
  assertEquals("bar",serverReference.get());
  assertEquals("bar",clientReference.getAndSet(null));
  assertTrue(serverReference.isNull());
}
