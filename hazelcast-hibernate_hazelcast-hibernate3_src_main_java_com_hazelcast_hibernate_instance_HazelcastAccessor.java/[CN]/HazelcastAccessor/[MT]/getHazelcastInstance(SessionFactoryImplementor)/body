{
  final Settings settings=sessionFactory.getSettings();
  final RegionFactory rf=settings.getRegionFactory();
  if (rf == null) {
    logger.severe("Hibernate 2nd level cache has not been enabled!");
    return null;
  }
  if (rf instanceof AbstractHazelcastCacheRegionFactory) {
    return ((AbstractHazelcastCacheRegionFactory)rf).getHazelcastInstance();
  }
 else {
    logger.warning("Current 2nd level cache implementation is not HazelcastCacheRegionFactory!");
  }
  return null;
}
