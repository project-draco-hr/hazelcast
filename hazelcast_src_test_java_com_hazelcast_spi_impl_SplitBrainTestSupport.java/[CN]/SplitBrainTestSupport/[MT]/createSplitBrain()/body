{
  HazelcastInstance isolatedInstance=instances[0];
  FirewallingMockConnectionManager isolatedCM=getFireWalledConnectionManager(isolatedInstance);
  for (int i=1; i < instances.length; i++) {
    HazelcastInstance currentInstance=instances[i];
    Node currentNode=getNode(currentInstance);
    isolatedCM.block(currentNode.getThisAddress());
  }
  Node isolatedNode=getNode(isolatedInstance);
  for (int i=1; i < instances.length; i++) {
    HazelcastInstance currentInstance=instances[i];
    FirewallingMockConnectionManager currentCM=getFireWalledConnectionManager(currentInstance);
    currentCM.block(isolatedNode.getThisAddress());
  }
  for (int i=1; i < instances.length; i++) {
    HazelcastInstance currentInstance=instances[i];
    closeConnectionBetween(isolatedInstance,currentInstance);
  }
  assertClusterSizeEventually(1,isolatedInstance);
  for (int i=1; i < instances.length; i++) {
    HazelcastInstance currentInstance=instances[i];
    assertClusterSizeEventually(instances.length - 1,currentInstance);
  }
}
