{
  HazelcastInstance isolatedInstance=instances[0];
  FirewallingTcpIpConnectionManager isolatedCM=getFireWalledConnectionManager(isolatedInstance);
  for (int i=1; i < instances.length; i++) {
    HazelcastInstance currentInstance=instances[i];
    Node currentNode=getNode(currentInstance);
    isolatedCM.unblock(currentNode.getThisAddress());
  }
  Node isolatedNode=getNode(isolatedInstance);
  for (int i=1; i < instances.length; i++) {
    HazelcastInstance currentInstance=instances[i];
    FirewallingTcpIpConnectionManager currentCM=getFireWalledConnectionManager(currentInstance);
    currentCM.unblock(isolatedNode.getThisAddress());
  }
  for (  HazelcastInstance hz : instances) {
    assertClusterSizeEventually(instances.length,hz);
  }
  waitAllForSafeState(instances);
}
