{
  if (queue == null || queue.size() == 0) {
    return Collections.emptyList();
  }
  final long timeInNanos=unit.toNanos(time);
  List<DelayedEntry> delayedEntries=Collections.emptyList();
  DelayedEntry e;
  int i=0;
  while ((e=queue.get(i)) != null) {
    if (i == 0) {
      delayedEntries=new ArrayList<DelayedEntry>();
    }
    if (e.getStoreTime() <= timeInNanos) {
      delayedEntries.add(e);
    }
    i++;
  }
  return delayedEntries;
}
