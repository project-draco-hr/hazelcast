{
  this.name=name;
  this.mapConfig=mapConfig;
  this.mapService=mapService;
  this.partitioningStrategy=createPartitioningStrategy();
  this.reachabilityHandlerChain=ReachabilityHandlers.newHandlerChain(MapContainer.this);
  final NodeEngine nodeEngine=mapService.getNodeEngine();
  recordFactory=createRecordFactory(nodeEngine);
  initMapStoreOperations(nodeEngine);
  initWanReplication(nodeEngine);
  interceptors=new CopyOnWriteArrayList<MapInterceptor>();
  interceptorMap=new ConcurrentHashMap<String,MapInterceptor>();
  nearCacheEnabled=mapConfig.getNearCacheConfig() != null;
  nearCacheSizeEstimator=SizeEstimators.createNearCacheSizeEstimator();
  evictionEnabled=!MapConfig.EvictionPolicy.NONE.equals(mapConfig.getEvictionPolicy());
}
