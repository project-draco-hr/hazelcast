{
  NodeEngine nodeEngine=mapService.getNodeEngine();
  Map values=store.loadAll(keys.values());
  for (  Data dataKey : keys.keySet()) {
    Object key=keys.get(dataKey);
    Data dataValue=mapService.toData(values.get(key));
    int partitionId=nodeEngine.getPartitionService().getPartitionId(dataKey);
    PutFromLoadOperation operation=new PutFromLoadOperation(name,dataKey,dataValue,-1);
    operation.setNodeEngine(nodeEngine);
    operation.setResponseHandler(ResponseHandlerFactory.createEmptyResponseHandler());
    operation.setPartitionId(partitionId);
    OperationAccessor.setCallerAddress(operation,nodeEngine.getThisAddress());
    operation.setServiceName(MapService.SERVICE_NAME);
    nodeEngine.getOperationService().executeOperation(operation);
  }
  if (counter.decrementAndGet() <= 0) {
    mapReady=true;
  }
}
