{
  int size=partitionInfos.size();
  Address[][] addresses=new Address[size][];
  for (  ShortPartitionInfo partitionInfo : partitionInfos) {
    Address[] replicas=new Address[InternalPartition.MAX_REPLICA_COUNT];
    addresses[partitionInfo.partitionId]=replicas;
    int[] addressIndexes=partitionInfo.addressIndexes;
    for (int c=0; c < addressIndexes.length; c++) {
      int index=addressIndexes[c];
      if (index != -1) {
        replicas[c]=members.get(index).getAddress();
      }
    }
  }
  return addresses;
}
