{
  ClientConfig clientConfig=new ClientConfig();
  clientConfig.setConnectionAttemptLimit(30);
  clientConfig.setRedoOperation(true);
  clientConfig.setAttemptPeriod(4000);
  server1=Hazelcast.newHazelcastInstance();
  final HazelcastInstance client=HazelcastClient.newHazelcastClient(clientConfig);
  System.err.println("c: " + client);
  Thread.sleep(2000);
  System.err.println("--------------------------");
  System.err.println("--------------------------");
  System.err.println("--------------------------");
  System.err.println("--------------------------");
  server1.getLifecycleService().shutdown();
  System.err.println("shutdown");
  Thread.sleep(20000);
  server1=Hazelcast.newHazelcastInstance();
  System.err.println("offering");
  client.getQueue(name).offer("item");
  System.err.println("offered");
  Object item=client.getQueue(name).poll();
  System.err.println("item:" + item);
}
