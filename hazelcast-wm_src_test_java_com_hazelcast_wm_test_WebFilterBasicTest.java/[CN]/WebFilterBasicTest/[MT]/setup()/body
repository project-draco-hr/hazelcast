{
  if (isSetup == true) {
    return;
  }
  final URL root=new URL(TestServlet.class.getResource("/"),"../test-classes");
  final String baseDir=new File(root.getFile().replaceAll("%20"," ")).toString();
  final String sourceDir=baseDir + "/../../src/test/webapp";
  hz=Hazelcast.newHazelcastInstance(new FileSystemXmlConfig(new File(sourceDir + "/WEB-INF/","hazelcast.xml")));
  serverPort1=availablePort();
  server1=getServletContainer(serverPort1,sourceDir,serverXml1);
  if (serverXml2 != null) {
    serverPort2=availablePort();
    server2=getServletContainer(serverPort2,sourceDir,serverXml2);
  }
  isSetup=true;
}
