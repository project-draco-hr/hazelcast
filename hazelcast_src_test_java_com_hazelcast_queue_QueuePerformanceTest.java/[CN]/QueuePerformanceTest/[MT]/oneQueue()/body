{
  Config config=new Config();
  final int insCount=4;
  final int threadCount=10;
  final String name="defQueue";
  instances=StaticNodeFactory.newInstances(config,insCount);
  System.err.println("starting threads");
  for (int i=0; i < threadCount; i++) {
    new Thread(){
      public void run(){
        while (true) {
          if (rnd.nextInt(100) > 41) {
            getQueue(name).poll();
            totalPoll.incrementAndGet();
          }
 else {
            getQueue(name).offer("item");
            totalOffer.incrementAndGet();
          }
        }
      }
    }
.start();
  }
  System.err.println("finished starting threads");
  while (true) {
    long sleepTime=10;
    Thread.sleep(sleepTime * 1000);
    long totalOfferVal=totalOffer.getAndSet(0);
    long totalPollVal=totalPoll.getAndSet(0);
    System.err.println("_______________________________________________________________________________________");
    System.err.println(" offer: " + totalOfferVal + ",\t poll: "+ totalPollVal);
    System.err.println(" size: " + getQueue(name).size() + " \t speed: "+ ((totalOfferVal + totalPollVal) / sleepTime));
    System.err.println("---------------------------------------------------------------------------------------");
    System.err.println("");
  }
}
