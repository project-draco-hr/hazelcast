{
  String id=(String)toObject(packet.getKey());
  InstanceEvent.InstanceEventType instanceEventType=(InstanceEvent.InstanceEventType)toObject(packet.getValue());
  InstanceEvent event=new InstanceEvent(instanceEventType,(Instance)client.getClientProxy(id));
  for (Iterator<InstanceListener> it=instanceListeners.iterator(); it.hasNext(); ) {
    InstanceListener listener=it.next();
    if (InstanceEvent.InstanceEventType.CREATED.equals(event.getEventType())) {
      listener.instanceCreated(event);
    }
 else     if (InstanceEvent.InstanceEventType.DESTROYED.equals(event.getEventType())) {
      listener.instanceDestroyed(event);
    }
  }
}
