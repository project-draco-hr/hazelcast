{
  final Collection<Registration> all=registrations.remove(topic);
  if (all != null) {
    for (    Registration reg : all) {
      registrationIdMap.remove(reg.getId());
      Object listener=reg.getListener();
      if (listener instanceof NotifiableEventListener) {
        ((NotifiableEventListener)listener).onDeregister(service,serviceName,topic,reg);
      }
    }
  }
}
