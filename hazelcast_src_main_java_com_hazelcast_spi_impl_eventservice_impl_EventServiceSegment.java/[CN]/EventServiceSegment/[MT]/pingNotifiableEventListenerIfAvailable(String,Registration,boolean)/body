{
  Object listener=registration.getListener();
  if (!(listener instanceof NotifiableEventListener)) {
    EventFilter filter=registration.getFilter();
    if (filter instanceof ListenerWrapperEventFilter) {
      listener=((ListenerWrapperEventFilter)filter).getListener();
    }
  }
  if (listener instanceof NotifiableEventListener) {
    NotifiableEventListener notifiableEventListener=(NotifiableEventListener)listener;
    if (register) {
      notifiableEventListener.onRegister(service,serviceName,topic,registration);
    }
 else {
      notifiableEventListener.onDeregister(service,serviceName,topic,registration);
    }
  }
}
