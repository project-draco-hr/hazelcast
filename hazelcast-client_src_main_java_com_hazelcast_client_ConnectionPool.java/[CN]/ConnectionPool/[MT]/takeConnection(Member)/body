{
  if (!initialized.get()) {
    lock.lock();
    return initialConnection;
  }
  if (member == null) {
    member=router.next();
    if (member == null) {
      throw new RuntimeException("Router '" + router + "' could not find a member to route to");
    }
  }
  ObjectPool<Connection> pool=mPool.get(member.getInetSocketAddress());
  if (pool == null) {
    pool=createPoolForTheMember((MemberImpl)member);
  }
  return pool.take();
}
