{
  while (node.isActive()) {
    HealthMetrics metrics;
switch (logLevel) {
case OFF:
      break;
case NOISY:
    metrics=new HealthMetrics();
  logger.log(Level.INFO,metrics.toString());
break;
case SILENT:
metrics=new HealthMetrics();
if (metrics.exceedsTreshold()) {
logger.log(Level.INFO,metrics.toString());
}
break;
default :
throw new IllegalStateException("unrecognized logLevel:" + logLevel);
}
try {
Thread.sleep(10000);
}
 catch (InterruptedException e) {
return;
}
}
}
