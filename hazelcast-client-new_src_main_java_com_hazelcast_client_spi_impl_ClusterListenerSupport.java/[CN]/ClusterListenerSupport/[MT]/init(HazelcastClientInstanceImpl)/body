{
  this.client=client;
  this.connectionManager=client.getConnectionManager();
  this.clusterService=(ClientClusterServiceImpl)client.getClientClusterService();
  this.clientListenerService=(ClientListenerServiceImpl)client.getListenerService();
  this.clientMembershipEventHandler=new ClientMembershipEventHandler(client);
  connectionManager.addConnectionListener(this);
  connectionManager.addConnectionHeartbeatListener(this);
  credentials=client.getCredentials();
}
