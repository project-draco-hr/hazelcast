{
  this.name=name;
  this.nodeEngine=nodeEngine;
  this.localMember=nodeEngine.getLocalMember();
  this.eventService=nodeEngine.getEventService();
  this.localMemberHash=localMember.getUuid().hashCode();
  this.replicatedMapService=replicatedMapService;
  this.replicatedMapConfig=replicatedMapService.getReplicatedMapConfig(name);
  this.storage=new InternalReplicatedMapStorage<K,V>(replicatedMapConfig);
  this.replicationPublisher=new ReplicationPublisher(this,nodeEngine);
  this.ttlEvictionScheduler=EntryTaskSchedulerFactory.newScheduler(nodeEngine.getExecutionService().getDefaultScheduledExecutor(),new ReplicatedMapEvictionProcessor(nodeEngine,replicatedMapService,name),ScheduleType.POSTPONE);
  this.mutexes=new Object[replicatedMapConfig.getConcurrencyLevel()];
  for (int i=0; i < mutexes.length; i++) {
    mutexes[i]=new Object();
  }
  this.cleanerFuture=cleanerRegistrator.registerCleaner(this);
}
