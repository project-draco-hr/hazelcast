{
  if (concurrentMapManager.isMaster()) {
    if (concurrentMapManager.isSuperClient()) {
      MemberImpl nonSuperMember=null;
      for (      MemberImpl member : concurrentMapManager.getMembers()) {
        if (!member.isSuperClient()) {
          nonSuperMember=member;
        }
      }
      if (nonSuperMember != null) {
        for (int i=0; i < BLOCK_COUNT; i++) {
          Block block=blocks[i];
          if (block == null) {
            block=concurrentMapManager.getOrCreateBlock(i);
          }
          if (block.getOwner() == null) {
            block.setOwner(nonSuperMember.getAddress());
          }
        }
      }
    }
    for (int i=0; i < BLOCK_COUNT; i++) {
      Block block=blocks[i];
      if (block == null) {
        block=concurrentMapManager.getOrCreateBlock(i);
      }
    }
    quickBlockRearrangement();
    sendBlocks(null);
  }
  InitialState initialState=new InitialState();
  Collection<CMap> cmaps=concurrentMapManager.maps.values();
  for (  final CMap cmap : cmaps) {
    initialState.createAndAddMapState(cmap);
  }
  concurrentMapManager.sendProcessableToAll(initialState,false);
  onMembershipChange();
}
