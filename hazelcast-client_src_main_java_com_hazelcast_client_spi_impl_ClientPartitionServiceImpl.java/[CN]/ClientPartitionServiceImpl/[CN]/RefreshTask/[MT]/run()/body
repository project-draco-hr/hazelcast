{
  if (updating.compareAndSet(false,true)) {
    try {
      final ClientClusterService clusterService=client.getClientClusterService();
      final Address master=clusterService.getMasterAddress();
      final PartitionsResponse response=getPartitionsFrom((ClientClusterServiceImpl)clusterService,master);
      if (response != null) {
        processPartitionResponse(response);
      }
    }
  finally {
      updating.set(false);
    }
  }
}
