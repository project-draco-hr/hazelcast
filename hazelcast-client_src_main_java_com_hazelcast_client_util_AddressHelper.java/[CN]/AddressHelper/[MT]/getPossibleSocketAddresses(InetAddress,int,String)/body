{
  final Collection<InetSocketAddress> socketAddresses=new LinkedList<InetSocketAddress>();
  if (inetAddress == null) {
    for (int i=0; i < MAX_PORT_TRIES; i++) {
      socketAddresses.add(new InetSocketAddress(scopedAddress,port + i));
    }
  }
 else   if (inetAddress instanceof Inet4Address) {
    for (int i=0; i < MAX_PORT_TRIES; i++) {
      socketAddresses.add(new InetSocketAddress(inetAddress,port + i));
    }
  }
 else {
    final Collection<Inet6Address> addresses=AddressUtil.getPossibleInetAddressesFor((Inet6Address)inetAddress);
    for (    Inet6Address inet6Address : addresses) {
      for (int i=0; i < MAX_PORT_TRIES; i++) {
        socketAddresses.add(new InetSocketAddress(inet6Address,port + i));
      }
    }
  }
  return socketAddresses;
}
