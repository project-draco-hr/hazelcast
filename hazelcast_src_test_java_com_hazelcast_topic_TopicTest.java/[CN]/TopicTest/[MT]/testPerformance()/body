{
  HazelcastInstance hazelcastInstance=createHazelcastInstanceFactory(1).newHazelcastInstance();
  int count=10000;
  final ITopic topic=hazelcastInstance.getTopic("perf");
  ExecutorService ex=Executors.newFixedThreadPool(10);
  final CountDownLatch l=new CountDownLatch(count);
  for (int i=0; i < count; i++) {
    ex.submit(new Runnable(){
      public void run(){
        topic.publish("my object");
        l.countDown();
      }
    }
);
  }
  assertTrue(l.await(20,TimeUnit.SECONDS));
}
