{
  MapOperationsCounter mapOperationStats=new MapOperationsCounter(100);
  long start=Clock.currentTimeMillis();
  long counter=0;
  boolean run=true;
  while (run) {
    mapOperationStats.incrementPuts(0);
    counter++;
    Thread.sleep(1);
    if (Clock.currentTimeMillis() - start > 5) {
      run=false;
    }
  }
  LocalMapOperationStats stats=mapOperationStats.getPublishedStats();
  assertEquals(counter,stats.getNumberOfPuts());
  long interval=stats.getPeriodEnd() - stats.getPeriodStart();
}
