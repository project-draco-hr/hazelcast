{
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  DataOutputStream dout=new DataOutputStream(bos);
  MapOperationsCounter mapOperationStats=new MapOperationsCounter(100);
  mapOperationStats.incrementPuts(0);
  mapOperationStats.incrementGets(0);
  mapOperationStats.incrementRemoves(0);
  ((DataSerializable)mapOperationStats.getPublishedStats()).writeData(dout);
  LocalMapOperationStatsImpl newStat=new LocalMapOperationStatsImpl();
  ByteArrayInputStream bis=new ByteArrayInputStream(bos.toByteArray());
  newStat.readData(new DataInputStream(bis));
  assertEquals(mapOperationStats.getPublishedStats().getNumberOfGets(),newStat.getNumberOfGets());
  assertEquals(mapOperationStats.getPublishedStats().getNumberOfPuts(),newStat.getNumberOfPuts());
  assertEquals(mapOperationStats.getPublishedStats().getNumberOfRemoves(),newStat.getNumberOfRemoves());
  String str=newStat.toString();
}
