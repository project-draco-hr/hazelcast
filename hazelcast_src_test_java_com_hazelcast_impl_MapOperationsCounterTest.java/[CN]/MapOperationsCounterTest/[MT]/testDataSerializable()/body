{
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  DataOutputStream dout=new DataOutputStream(bos);
  MapOperationsCounter mapOperationStats=new MapOperationsCounter(100);
  mapOperationStats.incrementPuts();
  mapOperationStats.incrementGets();
  mapOperationStats.incrementRemoves();
  ((DataSerializable)mapOperationStats.getPublishedStats()).writeData(dout);
  MapOperationStatsImpl newStat=new MapOperationStatsImpl();
  ByteArrayInputStream bis=new ByteArrayInputStream(bos.toByteArray());
  newStat.readData(new DataInputStream(bis));
  assertEquals(mapOperationStats.getPublishedStats().getNumberOfGets(),newStat.getNumberOfGets());
  assertEquals(mapOperationStats.getPublishedStats().getNumberOfPuts(),newStat.getNumberOfPuts());
  assertEquals(mapOperationStats.getPublishedStats().getNumberOfRemoves(),newStat.getNumberOfRemoves());
  String str=newStat.toString();
}
