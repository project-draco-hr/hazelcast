{
  assertEquals(10,s.drainPermits());
  final CountDownLatch latch=new CountDownLatch(1);
  new Thread(){
    public void run(){
      try {
        s.acquire();
        latch.countDown();
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
    }
  }
.start();
  Thread.sleep(1000);
  s.release(2);
  assertTrue(latch.await(10,TimeUnit.SECONDS));
  assertEquals(1,s.availablePermits());
}
