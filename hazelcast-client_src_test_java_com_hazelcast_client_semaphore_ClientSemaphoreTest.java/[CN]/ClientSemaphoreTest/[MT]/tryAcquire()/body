{
  assertTrue(semaphore.tryAcquire());
  assertTrue(semaphore.tryAcquire(9));
  assertEquals(0,semaphore.availablePermits());
  assertFalse(semaphore.tryAcquire(1,TimeUnit.SECONDS));
  assertFalse(semaphore.tryAcquire(2,1,TimeUnit.SECONDS));
  final CountDownLatch latch=new CountDownLatch(1);
  new Thread(){
    public void run(){
      try {
        if (semaphore.tryAcquire(2,5,TimeUnit.SECONDS)) {
          latch.countDown();
        }
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
    }
  }
.start();
  semaphore.release(2);
  assertTrue(latch.await(10,TimeUnit.SECONDS));
  assertEquals(0,semaphore.availablePermits());
}
