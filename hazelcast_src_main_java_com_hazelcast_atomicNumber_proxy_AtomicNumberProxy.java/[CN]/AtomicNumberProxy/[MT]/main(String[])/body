{
  Config cfg=new XmlConfigBuilder("C:\\Users\\msk\\IdeaProjects\\sample\\src\\main\\resources\\hazelcast.xml").build();
  HazelcastInstance hazelcastInstance=Hazelcast.newHazelcastInstance(cfg);
  final AtomicNumber a1=hazelcastInstance.getAtomicNumber("one");
  final AtomicNumber a2=hazelcastInstance.getAtomicNumber("two");
  final boolean x;
  for (int i=0; i < 1000; i++) {
    Object returned=new Callable(){
      public Object call() throws Exception {
        for (int j=0; j < 1; j++)         a1.incrementAndGet();
        if (a1.compareAndSet(1000,-1)) {
          a1.set(2);
          return true;
        }
        return false;
      }
    }
.call();
  }
  try {
    Thread.sleep(100);
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
  System.out.println("a1 : " + a1.get());
}
