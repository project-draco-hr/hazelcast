{
  mapConfig=mock(MapConfig.class);
  when(mapConfig.getMaxSizeConfig()).thenReturn(new MaxSizeConfig(maxSize,MaxSizeConfig.MaxSizePolicy.PER_NODE));
  when(mapConfig.getTimeToLiveSeconds()).thenReturn(timeout);
  config=mock(Config.class);
  when(config.findMapConfig(eq(REGION_NAME))).thenReturn(mapConfig);
  Cluster cluster=mock(Cluster.class);
  when(cluster.getClusterTime()).thenAnswer(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocation) throws Throwable {
      return System.currentTimeMillis();
    }
  }
);
  instance=mock(HazelcastInstance.class);
  when(instance.getConfig()).thenReturn(config);
  when(instance.getCluster()).thenReturn(cluster);
  region=new HazelcastQueryResultsRegion(instance,REGION_NAME,new Properties());
}
