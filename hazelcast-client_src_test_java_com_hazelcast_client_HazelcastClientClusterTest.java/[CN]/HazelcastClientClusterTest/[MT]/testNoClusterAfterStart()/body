{
  HazelcastInstance h1=Hazelcast.newHazelcastInstance(new Config());
  final ClientProperties clientProperties=ClientProperties.crateBaseClientProperties(GroupConfig.DEFAULT_GROUP_NAME,GroupConfig.DEFAULT_GROUP_PASSWORD);
  clientProperties.setPropertyValue(ClientPropertyName.INIT_CONNECTION_ATTEMPTS_LIMIT,"2");
  clientProperties.setPropertyValue(ClientPropertyName.RECONNECTION_TIMEOUT,"500");
  HazelcastClient client=newHazelcastClient(clientProperties,h1);
  try {
    final IMap<Object,Object> map=client.getMap("default");
    map.put("smth","nothing");
    h1.getLifecycleService().shutdown();
    map.put("smth","nothing");
  }
  finally {
    client.getLifecycleService().shutdown();
  }
}
