{
  try {
    ClientRequest request;
    EventHandler handler;
    if (cacheType == ClientNearCacheType.Map) {
      request=new MapAddEntryListenerRequest(mapName,false);
      handler=new EventHandler<PortableEntryEvent>(){
        public void handle(        PortableEntryEvent event){
          cache.remove(event.getKey());
        }
        @Override public void onListenerRegister(){
          cache.clear();
        }
      }
;
    }
 else {
      throw new IllegalStateException("Near cache is not available for this type of data structure");
    }
    registrationId=ListenerUtil.listen(context,request,null,handler);
  }
 catch (  Exception e) {
    Logger.getLogger(ClientNearCache.class).severe("-----------------\n Near Cache is not initialized!!! \n-----------------",e);
  }
}
