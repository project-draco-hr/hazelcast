{
  NodeEngine engine=getNodeEngine();
  EventService eventService=engine.getEventService();
  Collection<EventRegistration> registrations=eventService.getRegistrations(CollectionService.SERVICE_NAME,name);
  for (  EventRegistration registration : registrations) {
    CollectionEventFilter filter=(CollectionEventFilter)registration.getFilter();
    if (filter.getKey() == null || filter.getKey().equals(key)) {
      Data dataValue=filter.isIncludeValue() ? engine.toData(value) : null;
      CollectionEvent event=new CollectionEvent(name,key,dataValue,eventType,engine.getThisAddress());
      eventService.publishEvent(CollectionService.SERVICE_NAME,registration,event,name.hashCode());
    }
  }
}
