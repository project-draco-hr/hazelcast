{
  EventHandler handler=registrationKey.getHandler();
  handler.beforeListenerRegister();
  ClientRequest addRequest=registrationKey.getAddRequest();
  BaseClientRemoveListenerRequest removeRequest=registrationKey.getRemoveRequest();
  ClientInvocation invocation=new ClientInvocation(client,handler,addRequest);
  ClientInvocationFuture future=invocation.invoke();
  String registrationId=serializationService.toObject(future.get());
  handler.onListenerRegister();
  Address address=future.getInvocation().getSendConnection().getRemoteEndpoint();
  return new ClientEventRegistration(registrationId,addRequest.getCallId(),address,removeRequest);
}
