{
  final String group=getOrNull(JCloudsProperties.GROUP);
  Set<? extends NodeMetadata> result=computeService.listNodesDetailsMatching(nodesFilter);
  Iterable<? extends NodeMetadata> filteredResult=new HashSet<NodeMetadata>();
  for (  NodeMetadata metadata : result) {
    if (group != null && !group.equals(metadata.getGroup())) {
      continue;
    }
    if (checkRegionZoneConfig(metadata)) {
      continue;
    }
    ((HashSet<NodeMetadata>)filteredResult).add(metadata);
  }
  return filteredResult;
}
