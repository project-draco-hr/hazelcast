{
  Location location=metadata.getLocation();
  while (location != null) {
    String id=location.getId();
switch (location.getScope()) {
case ZONE:
      if (id != null && regionsSet.contains(id)) {
        return true;
      }
    break;
case REGION:
  if (id != null && !zonesSet.contains(id)) {
    return true;
  }
break;
default :
break;
}
location=location.getParent();
}
return false;
}
