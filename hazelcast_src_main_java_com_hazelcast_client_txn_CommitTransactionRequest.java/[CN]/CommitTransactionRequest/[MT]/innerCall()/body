{
  final ClientEndpoint endpoint=getEndpoint();
  final TransactionContext transactionContext=endpoint.getTransactionContext(txnId);
  if (prepareAndCommit) {
    transactionContext.commitTransaction();
  }
 else {
    final Transaction transaction=TransactionAccessor.getTransaction(transactionContext);
    transaction.commit();
  }
  endpoint.removeTransactionContext(txnId);
  return null;
}
