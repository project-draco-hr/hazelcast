{
  startAllConnectionManagers();
  final ConnectionListener listener=mock(ConnectionListener.class);
  connManagerA.addConnectionListener(listener);
  final Connection c=connect(connManagerA,addressB);
  connManagerA.destroyConnection(c);
  assertTrueEventually(new AssertTask(){
    @Override public void run() throws Exception {
      listener.connectionRemoved(c);
    }
  }
);
}
