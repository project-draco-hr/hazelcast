{
  final Set<? extends Map.Entry<String,? extends CollectionContainer>> entrySet=getContainerMap().entrySet();
  final Iterator<? extends Map.Entry<String,? extends CollectionContainer>> iterator=entrySet.iterator();
  PartitionService partitionService=nodeEngine.getPartitionService();
  while (iterator.hasNext()) {
    final Map.Entry<String,? extends CollectionContainer> entry=iterator.next();
    final String name=entry.getKey();
    final CollectionContainer container=entry.getValue();
    int containerPartitionId=partitionService.getPartitionId(StringPartitioningStrategy.getPartitionKey(name));
    if (containerPartitionId == partitionId) {
      container.destroy();
      iterator.remove();
    }
  }
}
