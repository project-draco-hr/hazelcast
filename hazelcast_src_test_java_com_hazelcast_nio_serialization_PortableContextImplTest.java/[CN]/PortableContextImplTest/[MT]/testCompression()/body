{
  String s=HazelcastTestSupport.generateRandomString(100000);
  byte[] bytes=s.getBytes();
  ByteArrayObjectDataOutput compressedDataOutput=new ByteArrayObjectDataOutput(s.length() * 5,null);
  PortableContextImpl.compress(bytes,compressedDataOutput);
  ByteArrayObjectDataOutput decompressedDataOutput=new ByteArrayObjectDataOutput(s.length() * 5,null);
  PortableContextImpl.decompress(compressedDataOutput.toByteArray(),decompressedDataOutput);
  String found=new String(decompressedDataOutput.toByteArray());
  assertEquals(s,found);
}
