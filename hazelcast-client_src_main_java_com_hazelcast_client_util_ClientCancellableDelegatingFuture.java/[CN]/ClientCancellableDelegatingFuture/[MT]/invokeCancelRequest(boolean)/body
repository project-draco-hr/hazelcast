{
  waitForRequestToBeSend();
  ClientInvocation clientInvocation;
  final HazelcastClientInstanceImpl client=(HazelcastClientInstanceImpl)context.getHazelcastInstance();
  if (target != null) {
    CancellationRequest request=new CancellationRequest(uuid,target,mayInterruptIfRunning);
    clientInvocation=new ClientInvocation(client,request,target);
  }
 else {
    ClientRequest request=new CancellationRequest(uuid,partitionId,mayInterruptIfRunning);
    clientInvocation=new ClientInvocation(client,request,partitionId);
  }
  try {
    ClientInvocationFuture f=clientInvocation.invoke();
    return context.getSerializationService().toObject(f.get());
  }
 catch (  Exception e) {
    throw rethrow(e);
  }
}
