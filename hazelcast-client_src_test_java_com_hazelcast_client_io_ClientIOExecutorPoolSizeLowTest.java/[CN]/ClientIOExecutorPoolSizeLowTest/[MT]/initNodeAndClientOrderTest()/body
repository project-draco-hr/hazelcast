{
  destroy();
  Config config=new Config();
  server1=Hazelcast.newHazelcastInstance(config);
  ClientConfig clientConfig=new ClientConfig();
  clientConfig.setExecutorPoolSize(executorPoolSize);
  client=HazelcastClient.newHazelcastClient(clientConfig);
  server2=Hazelcast.newHazelcastInstance(config);
  server3=Hazelcast.newHazelcastInstance(config);
  final IMap<Object,Object> map=client.getMap("map");
  for (int i=0; i < 1000; i++) {
    map.put(i,i);
  }
  assertTrueEventually(new AssertTask(){
    public void run(){
      assertEquals(1000,map.size());
    }
  }
);
}
