{
  if (length < 0) {
    throw new NegativeArraySizeException("Source length is negative: " + length);
  }
  int remaining=indexScale * length;
  long offset=srcOffset;
  ensureAvailable(remaining);
  while (remaining > 0) {
    int chunk=(remaining > MemoryAccessor.MEM_COPY_THRESHOLD) ? MemoryAccessor.MEM_COPY_THRESHOLD : remaining;
    MEM.copyMemory(src,offset,buffer,MemoryAccessor.ARRAY_BYTE_BASE_OFFSET + pos,chunk);
    remaining-=chunk;
    offset+=chunk;
    pos+=chunk;
  }
}
