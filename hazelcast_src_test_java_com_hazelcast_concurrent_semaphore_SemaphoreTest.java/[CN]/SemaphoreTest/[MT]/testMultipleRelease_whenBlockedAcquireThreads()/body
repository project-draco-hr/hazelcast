{
  final ISemaphore semaphore=hz.getSemaphore("testRelease_whenBlockedAcquireThread");
  int numberOfPermits=10;
  semaphore.init(numberOfPermits);
  semaphore.acquire(numberOfPermits);
  Thread[] threads=new Thread[4];
  for (int i=0; i < 4; i++) {
    threads[i]=new BlockAcquireThread();
    threads[i].start();
  }
  semaphore.release();
  assertEquals(0,semaphore.availablePermits());
  semaphore.release();
  assertEquals(0,semaphore.availablePermits());
  semaphore.release();
  assertEquals(0,semaphore.availablePermits());
  semaphore.release();
  assertEquals(0,semaphore.availablePermits());
}
