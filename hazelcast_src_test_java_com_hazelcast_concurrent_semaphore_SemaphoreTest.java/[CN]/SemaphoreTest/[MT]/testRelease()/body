{
  TestHazelcastInstanceFactory factory=createHazelcastInstanceFactory(2);
  final HazelcastInstance instance1=factory.newHazelcastInstance();
  final HazelcastInstance instance2=factory.newHazelcastInstance();
  final ISemaphore semaphore=instance1.getSemaphore("testRelease");
  int numberOfPermits=20;
  for (int i=0; i < numberOfPermits; i++) {
    assertEquals(i,semaphore.availablePermits());
    semaphore.release();
  }
  assertEquals(semaphore.availablePermits(),numberOfPermits);
}
