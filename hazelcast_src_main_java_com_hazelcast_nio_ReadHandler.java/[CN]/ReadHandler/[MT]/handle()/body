{
  lastHandle=Clock.currentTimeMillis();
  if (!connection.live()) {
    String message="We are being asked to read, but connection is not live so we won't";
    logger.log(Level.FINEST,message);
    systemLogService.logConnection(message);
    return;
  }
  try {
    if (socketReader == null) {
      initializeSocketReader();
    }
    int readBytes=socketChannel.read(buffer);
    if (readBytes == -1) {
      throw new EOFException("Remote socket closed!");
    }
  }
 catch (  Throwable e) {
    handleSocketException(e);
    return;
  }
  try {
    if (buffer.position() == 0)     return;
    buffer.flip();
    socketReader.read(buffer);
    if (buffer.hasRemaining()) {
      buffer.compact();
    }
 else {
      buffer.clear();
    }
  }
 catch (  Throwable t) {
    handleSocketException(t);
  }
}
