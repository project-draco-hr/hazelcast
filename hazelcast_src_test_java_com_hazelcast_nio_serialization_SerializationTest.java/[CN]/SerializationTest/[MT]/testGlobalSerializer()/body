{
  SerializationConfig serializationConfig=new SerializationConfig().setGlobalSerializerConfig(new GlobalSerializerConfig().setImplementation(new StreamSerializer<DummyValue>(){
    public void write(    ObjectDataOutput out,    DummyValue v) throws IOException {
      out.writeUTF(v.s);
      out.writeInt(v.k);
    }
    public DummyValue read(    ObjectDataInput in) throws IOException {
      return new DummyValue(in.readUTF(),in.readInt());
    }
    public int getTypeId(){
      return 123;
    }
    public void destroy(){
    }
  }
));
  SerializationService ss1=new SerializationServiceBuilder().setConfig(serializationConfig).build();
  DummyValue value=new DummyValue("test",111);
  Data data=ss1.toData(value);
  assertNotNull(data);
  SerializationService ss2=new SerializationServiceBuilder().setConfig(serializationConfig).build();
  Object o=ss2.toObject(data);
  assertEquals(value,o);
}
