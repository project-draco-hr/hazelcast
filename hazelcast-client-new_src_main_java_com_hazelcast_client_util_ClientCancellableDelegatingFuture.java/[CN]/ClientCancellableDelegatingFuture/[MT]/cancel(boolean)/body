{
  if (isDone() || cancelled) {
    return false;
  }
  waitForRequestToBeSend();
  ClientInvocationFuture f=invokeCancelRequest(mayInterruptIfRunning);
  try {
    boolean cancelSuccessful=BooleanResultParameters.decode(f.get()).result;
    if (cancelSuccessful) {
      setError(new CancellationException());
      cancelled=true;
      return true;
    }
    return false;
  }
 catch (  Exception e) {
    throw rethrow(e);
  }
 finally {
    setDone();
  }
}
