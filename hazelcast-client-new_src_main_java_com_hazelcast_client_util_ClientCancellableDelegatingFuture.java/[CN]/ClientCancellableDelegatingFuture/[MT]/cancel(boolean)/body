{
  if (isDone() || cancelled) {
    return false;
  }
  waitForRequestToBeSend();
  final Future<ClientMessage> f=invokeCancelRequest(mayInterruptIfRunning);
  try {
    final Boolean b=BooleanResultParameters.decode(f.get()).result;
    if (b != null && b) {
      setError(new CancellationException());
      cancelled=true;
      return true;
    }
    return false;
  }
 catch (  Exception e) {
    throw rethrow(e);
  }
 finally {
    setDone();
  }
}
