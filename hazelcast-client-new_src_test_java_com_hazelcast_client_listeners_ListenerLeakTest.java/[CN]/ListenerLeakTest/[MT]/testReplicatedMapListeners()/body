{
  testListenerLeak(new IFunction(){
    @Override public Object apply(    Object input){
      HazelcastInstance client=(HazelcastInstance)input;
      ReplicatedMap<Object,Object> replicatedMap=client.getReplicatedMap(randomString());
      String id=replicatedMap.addEntryListener(mock(EntryListener.class));
      assertTrue(replicatedMap.removeEntryListener(id));
      return id;
    }
  }
);
}
