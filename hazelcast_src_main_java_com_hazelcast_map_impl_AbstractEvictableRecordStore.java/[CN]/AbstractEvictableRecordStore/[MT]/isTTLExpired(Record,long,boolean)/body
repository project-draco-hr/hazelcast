{
  if (record == null) {
    return null;
  }
  final long ttl=record.getTtl();
  if (ttl < 1L) {
    return record;
  }
  final long lastUpdateTime=record.getLastUpdateTime();
  final long ttlMillis=calculateExpirationWithDelay(ttl,backupExpiryDelayMillis,backup);
  final long elapsedMillis=now - lastUpdateTime;
  return elapsedMillis >= ttlMillis ? null : record;
}
