{
  FastByteArrayOutputStream bos=(FastByteArrayOutputStream)os;
  byte typeId=-1;
  for (int i=0; i < this.serializer.length; i++) {
    if (this.serializer[i].isSuitable(obj)) {
      typeId=this.serializer[i].getTypeId();
      break;
    }
  }
  if (typeId == -1) {
    throw new NotSerializableException("There is no suitable serializer for " + obj.getClass().getName());
  }
  bos.writeByte(typeId);
  this.typeSerializer[typeId].write(bos,obj);
}
