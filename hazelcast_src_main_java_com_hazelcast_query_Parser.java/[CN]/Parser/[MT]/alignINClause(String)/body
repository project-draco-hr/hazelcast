{
  final int indexLowerIn=in.indexOf(IN_LOWER);
  final int indexLowerInWithParentheses=in.indexOf(IN_LOWER_P);
  final int indexUpperIn=in.indexOf(IN_UPPER);
  final int indexUpperInWithParentheses=in.indexOf(IN_UPPER_P);
  final int indexIn=findMinIfNot(indexUpperInWithParentheses,findMinIfNot(indexUpperIn,findMinIfNot(indexLowerIn,indexLowerInWithParentheses,NO_INDEX),NO_INDEX),NO_INDEX);
  if (indexIn > NO_INDEX && (indexIn == indexLowerInWithParentheses || indexIn == indexUpperInWithParentheses)) {
    in=in.substring(0,indexIn + 3) + SPLIT_EXPRESSION + in.substring(indexIn + 3);
  }
  String sql=in;
  if (indexIn != NO_INDEX) {
    final int indexOpen=in.indexOf("(",indexIn);
    final int indexClose=in.indexOf(")",indexOpen);
    String sub=in.substring(indexOpen,indexClose + 1);
    sub=sub.replaceAll(" ","");
    sql=in.substring(0,indexOpen) + sub + alignINClause(in.substring(indexClose + 1));
  }
  return sql;
}
