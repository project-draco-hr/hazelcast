{
  if (registrationDone) {
    creationStats=ManagementService.newStatisticsCollector();
    destructionStats=ManagementService.newStatisticsCollector();
    instanceListener=new InstanceListener(){
      public void instanceCreated(      InstanceEvent event){
        if (logger.isLoggable(Level.FINE)) {
          logger.log(Level.FINE,"Received created notification {0} {1}",new String[]{event.getInstance().getInstanceType().toString(),event.getInstance().toString()});
        }
        creationStats.addEvent();
        registerInstance(event.getInstance());
      }
      public void instanceDestroyed(      InstanceEvent event){
        if (logger.isLoggable(Level.FINE)) {
          logger.log(Level.FINE,"Received destroyed notification " + event.getInstance().toString());
        }
        destructionStats.addEvent();
        unregisterInstance(event.getInstance());
      }
    }
;
    Hazelcast.addInstanceListener(instanceListener);
  }
}
