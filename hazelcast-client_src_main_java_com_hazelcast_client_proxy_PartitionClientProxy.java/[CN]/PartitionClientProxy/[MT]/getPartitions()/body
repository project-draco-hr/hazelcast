{
  Protocol protocol=proxyHelper.doCommand(null,Command.PARTITIONS,new String[]{},null);
  Set<Partition> set=new LinkedHashSet<Partition>();
  int i=0;
  while (i < protocol.args.length - 1) {
    final int partitionId=Integer.valueOf(protocol.args[i++]);
    String hostname=protocol.args[i++];
    int port=Integer.valueOf(protocol.args[i++]);
    Partition partition=partition(partitionId,hostname,port);
    set.add(partition);
  }
  return set;
}
