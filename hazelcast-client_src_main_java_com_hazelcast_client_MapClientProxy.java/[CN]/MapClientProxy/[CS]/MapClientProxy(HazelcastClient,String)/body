{
  this.name=name;
  this.proxyHelper=new ProxyHelper(name,client);
  Config config=(Config)proxyHelper.doOp(ClusterOperation.GET_CONFIG,null,null);
  MapConfig mapConfig=config.getMapConfig(name.substring(Prefix.MAP.length()));
  NearCacheConfig ncc=mapConfig.getNearCacheConfig();
  boolean nearCacheEnabled="true".equalsIgnoreCase(System.getProperty(PROP_CLIENT_NEAR_CACHE_CONFIG_ENABLED,"false"));
  nearCache=(nearCacheEnabled && ncc != null) ? new GuavaNearCacheImpl<K,V>(ncc,this) : null;
  if (nearCache != null) {
    if (ncc.isInvalidateOnChange()) {
      addEntryListener(new EntryListener<K,V>(){
        public void entryAdded(        EntryEvent<K,V> kvEntryEvent){
          nearCache.invalidate(kvEntryEvent.getKey());
        }
        public void entryRemoved(        EntryEvent<K,V> kvEntryEvent){
          nearCache.invalidate(kvEntryEvent.getKey());
        }
        public void entryUpdated(        EntryEvent<K,V> kvEntryEvent){
          nearCache.invalidate(kvEntryEvent.getKey());
        }
        public void entryEvicted(        EntryEvent<K,V> kvEntryEvent){
          nearCache.invalidate(kvEntryEvent.getKey());
        }
      }
,false);
    }
  }
}
