{
  check(key);
  Protocol protocol=protocolProxyHelper.doCommand(Command.MTRYLOCKANDGET,new String[]{getName(),"" + timeunit.toMillis(timeout)},toData(key));
  if (protocol.args != null && protocol.args.length > 0) {
    if ("timeout".equals(protocol.args[0])) {
      throw new TimeoutException();
    }
  }
  return protocol.hasBuffer() ? (V)toObject(new Data(protocol.buffers[0].array())) : null;
}
