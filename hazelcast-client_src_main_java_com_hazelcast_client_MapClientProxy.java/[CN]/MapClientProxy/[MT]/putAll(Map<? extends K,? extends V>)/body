{
  ExecutorService es=Executors.newFixedThreadPool(20);
  List<Future> lsFutures=new ArrayList(map.size());
  for (  final K key : map.keySet()) {
    final V value=map.get(key);
    lsFutures.add(es.submit(new Runnable(){
      public void run(){
        put(key,value);
      }
    }
));
  }
  for (  Future future : lsFutures) {
    try {
      future.get();
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
  }
  es.shutdown();
}
