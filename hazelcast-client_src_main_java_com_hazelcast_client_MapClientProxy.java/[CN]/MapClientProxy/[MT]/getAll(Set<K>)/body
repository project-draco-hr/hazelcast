{
  check(setKeys);
  List<Data> dataList=new ArrayList<Data>(setKeys.size());
  for (  K key : setKeys) {
    dataList.add(proxyHelper.toData(key));
  }
  Map<K,V> map=new HashMap<K,V>(setKeys.size());
  Protocol protocol=proxyHelper.doCommand(Command.MGETALL,new String[]{getName()},dataList.toArray(new Data[]{}));
  if (protocol.hasBuffer()) {
    int i=0;
    System.out.println("Get all and buffer length is " + protocol.buffers.length);
    while (i < protocol.buffers.length) {
      K key=protocol.buffers[i].array().length == 0 ? null : (K)proxyHelper.toObject(new Data(SerializationConstants.CONSTANT_TYPE_BYTE_ARRAY,protocol.buffers[i].array()));
      i++;
      V value=protocol.buffers[i].array().length == 0 ? null : (V)proxyHelper.toObject(new Data(SerializationConstants.CONSTANT_TYPE_BYTE_ARRAY,protocol.buffers[i].array()));
      i++;
      if (value != null) {
        map.put(key,value);
      }
    }
  }
  return map;
}
