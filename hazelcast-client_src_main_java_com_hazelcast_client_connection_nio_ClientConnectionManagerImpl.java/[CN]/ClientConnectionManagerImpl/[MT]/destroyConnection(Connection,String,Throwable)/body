{
  Address endpoint=connection.getEndPoint();
  ClientConnection conn=(ClientConnection)connection;
  if (endpoint != null && connections.remove(endpoint,conn)) {
    conn.close(reason,cause);
    for (    ConnectionListener connectionListener : connectionListeners) {
      connectionListener.connectionRemoved(conn);
    }
  }
 else {
    connection.close(reason,cause);
  }
}
