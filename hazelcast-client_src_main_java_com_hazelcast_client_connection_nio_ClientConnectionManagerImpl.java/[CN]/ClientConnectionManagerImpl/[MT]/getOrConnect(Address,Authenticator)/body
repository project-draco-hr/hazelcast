{
  if (address == null) {
    throw new NullPointerException("Address is required!");
  }
  if (!smartRouting) {
    address=ownerConnectionAddress;
  }
  ClientConnection clientConnection=connections.get(address);
  if (clientConnection == null) {
synchronized (this) {
      clientConnection=connections.get(address);
      if (clientConnection == null) {
        clientConnection=connect(address,authenticator,false);
        connections.put(clientConnection.getRemoteEndpoint(),clientConnection);
      }
    }
  }
  return clientConnection;
}
