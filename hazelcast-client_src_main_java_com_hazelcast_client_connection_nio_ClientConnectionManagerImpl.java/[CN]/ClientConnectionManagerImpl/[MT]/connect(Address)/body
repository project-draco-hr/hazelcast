{
  SocketChannel socketChannel=SocketChannel.open();
  Socket socket=socketChannel.socket();
  socket.setKeepAlive(socketOptions.isKeepAlive());
  socket.setTcpNoDelay(socketOptions.isTcpNoDelay());
  socket.setReuseAddress(socketOptions.isReuseAddress());
  if (socketOptions.getLingerSeconds() > 0) {
    socket.setSoLinger(true,socketOptions.getLingerSeconds());
  }
  if (socketOptions.getTimeout() > 0) {
    socket.setSoTimeout(socketOptions.getTimeout());
  }
  int bufferSize=socketOptions.getBufferSize() * KILO_BYTE;
  if (bufferSize < 0) {
    bufferSize=BUFFER_SIZE;
  }
  socket.setSendBufferSize(bufferSize);
  socket.setReceiveBufferSize(bufferSize);
  socketChannel.connect(address.getInetSocketAddress());
  socketChannel.configureBlocking(false);
  final ClientConnection clientConnection=new ClientConnection(this,inSelector,outSelector,connectionIdGen.incrementAndGet(),socketChannel);
  clientConnection.getWriteHandler().register();
  clientConnection.getReadHandler().register();
  if (socketInterceptor != null) {
    socketInterceptor.onConnect(socket);
  }
  return clientConnection;
}
