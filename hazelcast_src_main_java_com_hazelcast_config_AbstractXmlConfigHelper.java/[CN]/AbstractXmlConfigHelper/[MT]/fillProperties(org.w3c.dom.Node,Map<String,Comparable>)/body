{
  if (properties == null) {
    return;
  }
  for (  org.w3c.dom.Node n : new IterableNodeList(node.getChildNodes())) {
    if (n.getNodeType() == org.w3c.dom.Node.TEXT_NODE || n.getNodeType() == org.w3c.dom.Node.COMMENT_NODE) {
      continue;
    }
    final String name=cleanNodeName(n.getNodeName());
    final String propertyName;
    if ("property".equals(name)) {
      propertyName=getTextContent(n.getAttributes().getNamedItem("name")).trim();
    }
 else {
      propertyName=name;
    }
    final String value=getTextContent(n).trim();
    properties.put(propertyName,value);
  }
}
