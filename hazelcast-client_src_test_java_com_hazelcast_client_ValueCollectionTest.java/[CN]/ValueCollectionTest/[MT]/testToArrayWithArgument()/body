{
  EntryHolder entryHolder=mock(EntryHolder.class);
  Set set=new HashSet();
  set.add(new MapEntry("1","1"));
  set.add(new MapEntry("2","2"));
  set.add(new MapEntry("3","3"));
  ValueCollection valueCollection=new ValueCollection(entryHolder,set);
{
    final Object[] values=valueCollection.toArray();
    Arrays.sort(values);
    assertArrayEquals(new Object[]{"1","2","3"},values);
  }
{
    final String[] values=(String[])valueCollection.toArray(new String[3]);
    Arrays.sort(values);
    assertArrayEquals(new String[]{"1","2","3"},values);
  }
{
    final String[] values=(String[])valueCollection.toArray(new String[2]);
    Arrays.sort(values);
    assertArrayEquals(new String[]{"1","2","3"},values);
  }
{
    final String[] values=(String[])valueCollection.toArray(new String[5]);
    Arrays.sort(values,0,3);
    assertArrayEquals(new String[]{"1","2","3",null,null},values);
  }
}
