{
  Q q=getQ(packet.name);
  if (q.blCurrentPut == null) {
    q.setCurrentPut();
  }
  boolean invalid=false;
  if (packet.blockId != q.blCurrentPut.blockId) {
    if (packet.blockId > q.blCurrentPut.blockId) {
      int size=q.lsBlocks.size();
      for (int i=0; i < size; i++) {
        Block block=q.lsBlocks.get(i);
        if (block.blockId == packet.blockId) {
          if (thisAddress.equals(block.address)) {
            q.blCurrentPut=block;
          }
        }
      }
    }
 else {
      invalid=true;
    }
  }
  if (q.blCurrentPut.isFull() || !thisAddress.equals(q.blCurrentPut.address)) {
    invalid=true;
  }
  if (invalid) {
    sendRedoResponse(packet);
  }
  return (!invalid);
}
