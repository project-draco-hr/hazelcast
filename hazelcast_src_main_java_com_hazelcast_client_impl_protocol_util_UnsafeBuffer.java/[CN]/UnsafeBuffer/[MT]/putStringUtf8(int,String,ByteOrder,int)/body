{
  final byte[] bytes=value != null ? value.getBytes(UTF_8) : NULL_BYTES;
  if (bytes.length > maxEncodedSize) {
    throw new IllegalArgumentException("Encoded string larger than maximum size: " + maxEncodedSize);
  }
  putInt(offset,bytes.length,byteOrder);
  putBytes(offset + SIZE_OF_INT,bytes);
  return SIZE_OF_INT + bytes.length;
}
