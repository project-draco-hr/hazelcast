{
  takeWriteLock();
  try {
    if (newValue instanceof IndexImpl.NullObject) {
      recordsWithNullValue.put(record.getKeyData(),record);
    }
 else {
      ConcurrentMap<Data,QueryableEntry> records=recordMap.get(newValue);
      if (records == null) {
        records=new ConcurrentHashMap<Data,QueryableEntry>(1,LOAD_FACTOR,1);
        recordMap.put(newValue,records);
      }
      records.put(record.getKeyData(),record);
    }
  }
  finally {
    releaseWriteLock();
  }
}
