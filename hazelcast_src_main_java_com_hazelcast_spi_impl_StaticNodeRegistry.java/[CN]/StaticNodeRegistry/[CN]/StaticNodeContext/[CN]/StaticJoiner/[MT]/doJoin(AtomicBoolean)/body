{
  node.setMasterAddress(addresses[0]);
  if (node.getMasterAddress().equals(node.getThisAddress())) {
    node.setJoined();
  }
 else {
    for (int i=0; !node.joined() && i < 10; i++) {
      node.clusterService.sendJoinRequest(node.getMasterAddress(),true);
      System.out.println("Sending join request");
      try {
        Thread.sleep(10);
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
    }
  }
}
