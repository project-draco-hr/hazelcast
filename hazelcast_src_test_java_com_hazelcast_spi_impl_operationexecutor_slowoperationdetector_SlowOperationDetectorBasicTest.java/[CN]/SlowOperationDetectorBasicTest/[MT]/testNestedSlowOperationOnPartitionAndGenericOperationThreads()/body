{
  instance=getSingleNodeCluster(1000);
  NestedSlowOperationOnPartitionAndGenericOperationThreads operation=new NestedSlowOperationOnPartitionAndGenericOperationThreads(instance,3);
  executeOperation(instance,operation);
  operation.await();
  Collection<SlowOperationLog> logs=getSlowOperationLogs(instance);
  assertNumberOfSlowOperationLogs(logs,1);
  SlowOperationLog firstLog=logs.iterator().next();
  assertTotalInvocations(firstLog,1);
  assertStackTraceNotContainsClassName(firstLog,"NestedSlowOperation");
  assertStackTraceContainsClassName(firstLog,"SlowOperation");
}
