{
  HazelcastInstance h=Hazelcast.newHazelcastInstance(null);
  HazelcastClient client=getHazelcastClient(h);
  Future future1=client.getExecutorService().submit(new SleepCallable(10000));
  Future future2=client.getExecutorService().submit(new SleepCallable(10000));
  Thread.sleep(2000);
  h.shutdown();
  CountDownLatch latch=new CountDownLatch(2);
  try {
    future1.get();
  }
 catch (  ExecutionException e) {
    latch.countDown();
  }
  try {
    future2.get();
  }
 catch (  ExecutionException e) {
    latch.countDown();
  }
  latch.await(10,TimeUnit.SECONDS);
}
