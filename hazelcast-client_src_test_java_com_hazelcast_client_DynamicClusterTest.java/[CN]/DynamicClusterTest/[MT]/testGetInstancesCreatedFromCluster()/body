{
  HazelcastInstance h=Hazelcast.newHazelcastInstance(null);
  List list=h.getList("testGetInstancesCreatedFromCluster");
  Map map=h.getMap("testGetInstancesCreatedFromCluster");
  MultiMap mmap=h.getMultiMap("testGetInstancesCreatedFromCluster");
  Queue q=h.getQueue("testGetInstancesCreatedFromCluster");
  Set set=h.getSet("testGetInstancesCreatedFromCluster");
  ITopic topic=h.getTopic("testGetInstancesCreatedFromCluster");
  ILock lock=h.getLock("testGetInstancesCreatedFromCluster");
  System.out.println("Lock id " + lock.getId());
  List listOfInstances=new ArrayList();
  listOfInstances.add(list);
  listOfInstances.add(map);
  listOfInstances.add(mmap);
  listOfInstances.add(q);
  listOfInstances.add(set);
  listOfInstances.add(topic);
  listOfInstances.add(lock);
  Collection<Instance> caches=getHazelcastClient(h).getInstances();
  assertEquals(7,caches.size());
  for (Iterator<Instance> instanceIterator=caches.iterator(); instanceIterator.hasNext(); ) {
    Instance instance=instanceIterator.next();
    System.out.println("INstance id:" + instance.getId().toString());
    assertTrue(instance.getId().toString().endsWith("testGetInstancesCreatedFromCluster"));
    assertTrue(listOfInstances.contains(instance));
  }
  h.shutdown();
}
