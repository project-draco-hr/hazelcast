{
  if (portable == null) {
    throw new HazelcastSerializationException("Cannot write null portable without explicitly " + "registering class definition!");
  }
  final int version=PortableVersionHelper.getVersion(portable,context.getVersion());
  ClassDefinition nestedClassDef=createNestedClassDef(portable,new ClassDefinitionBuilder(portable.getFactoryId(),portable.getClassId(),version));
  builder.addPortableField(fieldName,nestedClassDef);
}
