{
  try {
    int iterationCount=32;
    KeySpec keySpec=new PBEKeySpec(passPhrase.toCharArray(),salt,iterationCount);
    SecretKey key=SecretKeyFactory.getInstance("PBEWithMD5AndDES").generateSecret(keySpec);
    Cipher cipher=Cipher.getInstance(key.getAlgorithm());
    AlgorithmParameterSpec paramSpec=new PBEParameterSpec(salt,iterationCount);
    cipher.init((encrypt) ? Cipher.ENCRYPT_MODE : Cipher.DECRYPT_MODE,key,paramSpec);
    return cipher;
  }
 catch (  Exception e) {
    e.printStackTrace();
    System.exit(0);
  }
  return null;
}
