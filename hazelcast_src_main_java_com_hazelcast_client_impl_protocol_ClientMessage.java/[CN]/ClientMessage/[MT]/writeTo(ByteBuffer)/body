{
  byte[] byteArray=buffer().byteArray();
  int size=byteArray.length;
  int bytesWritable=destination.remaining();
  int bytesNeeded=size - valueOffset;
  int bytesWrite;
  boolean done;
  if (bytesWritable >= bytesNeeded) {
    bytesWrite=bytesNeeded;
    done=true;
  }
 else {
    bytesWrite=bytesWritable;
    done=false;
  }
  destination.put(byteArray,valueOffset,bytesWrite);
  valueOffset+=bytesWrite;
  return done;
}
