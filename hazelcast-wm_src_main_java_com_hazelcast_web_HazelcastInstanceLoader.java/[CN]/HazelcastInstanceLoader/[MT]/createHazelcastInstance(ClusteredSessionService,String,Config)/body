{
  ListenerConfig listenerConfig=new ListenerConfig(new ServerLifecycleListener(sessionService));
  config.addListenerConfig(listenerConfig);
  if (!isEmpty(instanceName)) {
    if (LOGGER.isLoggable(Level.INFO)) {
      LOGGER.info(format("getOrCreateHazelcastInstance for session replication, using name '%s'",instanceName));
    }
    config.setInstanceName(instanceName);
    return Hazelcast.getOrCreateHazelcastInstance(config);
  }
 else {
    LOGGER.info("Creating a new HazelcastInstance for session replication");
    return Hazelcast.newHazelcastInstance(config);
  }
}
