{
  if (state == NO_TXN || state == ROLLED_BACK) {
    throw new IllegalStateException("Transaction is not active");
  }
  try {
    ClientMessage request=XATransactionRollbackCodec.encodeRequest(txnId);
    invoke(request);
  }
 catch (  Exception ignored) {
    EmptyStatement.ignore(ignored);
  }
  state=ROLLED_BACK;
}
