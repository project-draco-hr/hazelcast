{
  final Map<Integer,MemberGroup> memberGroups=new HashMap<Integer,MemberGroup>();
  for (  MemberImpl member : members) {
    if (member.isLiteMember()) {
      continue;
    }
    for (    Entry<Integer,MemberGroupConfig> groupConfigEntry : memberGroupConfigMap.entrySet()) {
      if (AddressUtil.matchAnyInterface(member.getAddress().getHost(),groupConfigEntry.getValue().getInterfaces())) {
        MemberGroup group=memberGroups.get(groupConfigEntry.getKey());
        if (group == null) {
          group=new DefaultMemberGroup();
          memberGroups.put(groupConfigEntry.getKey(),group);
        }
        group.addMember(member);
        break;
      }
    }
  }
  return new HashSet<MemberGroup>(memberGroups.values());
}
