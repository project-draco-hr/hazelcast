{
  ClientEngineImpl clientEngine=getService();
  if (principal != null && reAuth) {
    principal=new ClientPrincipal(principal.getUuid(),clientEngine.getLocalMember().getUuid());
    reAuthLocal();
    Collection<MemberImpl> members=clientEngine.getClusterService().getMemberList();
    for (    MemberImpl member : members) {
      if (!member.localMember()) {
        ClientReAuthOperation op=new ClientReAuthOperation(principal.getUuid(),firstConnection);
        operationService.send(op,member.getAddress());
      }
    }
  }
  if (principal == null) {
    principal=new ClientPrincipal(endpoint.getUuid(),clientEngine.getLocalMember().getUuid());
  }
  endpoint.authenticated(principal,credentials,firstConnection);
  clientEngine.bind(endpoint);
  return new SerializableCollection(serializationService.toData(clientEngine.getThisAddress()),serializationService.toData(principal));
}
