{
  MapStoreTest.TestEventBasedMapStore testMapStore=new MapStoreTest.TestEventBasedMapStore();
  Map mapForStore=new HashMap();
  mapForStore.put("key1",17);
  mapForStore.put("key2",37);
  mapForStore.put("key3",47);
  testMapStore.getStore().putAll(mapForStore);
  Config config=newConfig(testMapStore,0);
  HazelcastInstance instance=createHazelcastInstance(config);
  final IMap map=instance.getMap("default");
  assertTrueEventually(new AssertTask(){
    @Override public void run() throws Exception {
      final Set<Map.Entry> entrySet=map.entrySet(Predicates.greaterThan("value",1));
      assertEquals(3,entrySet.size());
    }
  }
);
}
