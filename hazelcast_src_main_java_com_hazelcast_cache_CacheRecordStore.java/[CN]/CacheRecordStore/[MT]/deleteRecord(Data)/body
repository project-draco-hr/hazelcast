{
  final Record record=records.remove(key);
  final Data dataOldValue;
switch (cacheConfig.getInMemoryFormat()) {
case BINARY:
    dataOldValue=(Data)record.getValue();
  break;
case OBJECT:
dataOldValue=cacheService.toData(record.getValue());
break;
default :
throw new IllegalArgumentException("Invalid storage format: " + cacheConfig.getInMemoryFormat());
}
cacheService.publishEvent(name,EventType.REMOVED,record.getKey(),dataOldValue,null);
}
