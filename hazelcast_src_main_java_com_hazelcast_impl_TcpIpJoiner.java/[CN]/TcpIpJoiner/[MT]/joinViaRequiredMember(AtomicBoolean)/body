{
  try {
    final Address requiredAddress=getAddressFor(config.getNetworkConfig().getJoin().getTcpIpConfig().getRequiredMember());
    logger.log(Level.FINEST,"Joining over required member " + requiredAddress);
    if (requiredAddress == null) {
      throw new RuntimeException("Invalid required member " + config.getNetworkConfig().getJoin().getTcpIpConfig().getRequiredMember());
    }
    if (requiredAddress.equals(node.address)) {
      node.setAsMaster();
      return;
    }
    node.connectionManager.getOrConnect(requiredAddress);
    Connection conn=null;
    while (conn == null) {
      conn=node.connectionManager.getOrConnect(requiredAddress);
      Thread.sleep(2000L);
    }
    long joinStartTime=Clock.currentTimeMillis();
    long maxJoinMillis=node.getGroupProperties().MAX_JOIN_SECONDS.getInteger() * 1000;
    while (node.isActive() && !joined.get() && (Clock.currentTimeMillis() - joinStartTime < maxJoinMillis)) {
      final Connection connection=node.connectionManager.getOrConnect(requiredAddress);
      if (connection == null) {
        joinViaRequiredMember(joined);
      }
      logger.log(Level.FINEST,"Sending joinRequest " + requiredAddress);
      node.clusterManager.sendJoinRequest(requiredAddress,true);
      Thread.sleep(3000L);
    }
  }
 catch (  final Exception e) {
    logger.log(Level.WARNING,e.getMessage(),e);
  }
}
