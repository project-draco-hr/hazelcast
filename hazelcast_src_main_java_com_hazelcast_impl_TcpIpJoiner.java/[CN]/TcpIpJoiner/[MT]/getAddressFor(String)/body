{
  int port=config.getPort();
  final int indexColon=host.indexOf(':');
  if (indexColon != -1) {
    port=Integer.parseInt(host.substring(indexColon + 1));
    host=host.substring(0,indexColon);
  }
  final boolean ip=isIP(host);
  try {
    if (ip) {
      return new Address(host,port,true);
    }
 else {
      final InetAddress[] allAddresses=InetAddress.getAllByName(host);
      for (      final InetAddress inetAddress : allAddresses) {
        boolean shouldCheck=true;
        Address address;
        Interfaces interfaces=config.getNetworkConfig().getInterfaces();
        if (interfaces.isEnabled()) {
          address=new Address(inetAddress.getAddress(),port);
          shouldCheck=AddressPicker.matchAddress(address.getHost(),interfaces.getInterfaces());
        }
        if (shouldCheck) {
          return new Address(inetAddress.getAddress(),port);
        }
      }
    }
  }
 catch (  final Exception e) {
    logger.log(Level.WARNING,e.getMessage(),e);
  }
  return null;
}
