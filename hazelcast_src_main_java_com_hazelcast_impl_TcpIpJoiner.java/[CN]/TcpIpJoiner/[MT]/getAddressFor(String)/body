{
  try {
    final AddressHolder addressHolder=AddressUtil.getAddressHolder(host,config.getPort());
    if (AddressUtil.isIpAddress(addressHolder.address)) {
      return new Address(addressHolder.address,addressHolder.port);
    }
 else {
      final InetAddress[] allAddresses=InetAddress.getAllByName(addressHolder.address);
      final Interfaces interfaces=config.getNetworkConfig().getInterfaces();
      for (      final InetAddress inetAddress : allAddresses) {
        boolean matchingAddress=true;
        if (interfaces.isEnabled()) {
          matchingAddress=AddressUtil.matchAnyInterface(inetAddress.getHostAddress(),interfaces.getInterfaces());
        }
        if (matchingAddress) {
          return new Address(inetAddress,addressHolder.port);
        }
      }
    }
  }
 catch (  final Exception e) {
    logger.log(Level.WARNING,e.getMessage(),e);
  }
  return null;
}
