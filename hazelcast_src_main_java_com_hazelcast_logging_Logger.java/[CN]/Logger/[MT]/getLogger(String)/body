{
  LoggerFactory loggerFactoryToUse=loggerFactory;
  if (loggerFactory != null) {
    return loggerFactory.getLogger(name);
  }
synchronized (FACTORY_LOCK) {
    if (loggerFactory == null) {
      String loggerClass=System.getProperty("hazelcast.logging.class");
      if (!StringUtil.isNullOrEmpty(loggerClass)) {
        loggerFactory=loadLoggerFactory(loggerClass);
        loggerFactoryToUse=loggerFactory;
      }
    }
    if (loggerFactory == null) {
      String loggerType=System.getProperty("hazelcast.logging.type");
      loggerFactoryToUse=newLoggerFactory(loggerType);
      if (!StringUtil.isNullOrEmpty(loggerType)) {
        loggerFactory=loggerFactoryToUse;
      }
    }
  }
  if (loggerFactoryToUse == null) {
    loggerFactoryToUse=loggerFactory;
  }
  return loggerFactoryToUse.getLogger(name);
}
